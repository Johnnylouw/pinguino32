gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00001 ;--------------------------------------------------------
               00002 ; File Created by SDCC : free open source ANSI-C Compiler
               00003 ; Version 2.9.0 #5416 (Aug  9 2009) (UNIX)
               00004 ; This file was generated Wed Feb 29 15:40:40 2012
               00005 ;--------------------------------------------------------
               00006 ; PIC16 port for the Microchip 16-bit core micros
               00007 ;--------------------------------------------------------
               00008         list    p=18f2550
               00009 
               00010         radix dec
               00011 
               00012 ;--------------------------------------------------------
               00013 ; public variables in this module
               00014 ;--------------------------------------------------------
               00015         global _hidRxLen
               00016         global _hidProtocol
               00017         global _hidIdleRate
               00018         global _HIDPostProcess
               00019         global _deviceAddress
               00020         global _EnableUSBModule
               00021         global _ProcessUSBTransactions
               00022         global _ProcessCDCRequest
               00023         global _CDCgets
               00024         global _CDCInitEndpoint
               00025         global _CONTROL_LINE
               00026         global _deviceState
               00027         global _remoteWakeup
               00028         global _selfPowered
               00029         global _currentConfiguration
               00030         global _ctrlTransferStage
               00031         global _requestHandled
               00032         global _outPtr
               00033         global _inPtr
               00034         global _wCount
               00035         global _ep_bdt
               00036         global _SetupPacket
               00037         global _controlTransferBuffer
               00038         global _CDCControlBuffer
               00039         global _CDCRxBuffer
               00040         global _CDCTxBuffer
               00041         global _line_config
               00042         global _zlp
               00043         global _ProcessStandardRequest
               00044         global _InDataStage
               00045         global _OutDataStage
               00046         global _SetupStage
               00047         global _WaitForSetupStage
               00048         global _ProcessControlTransfer
               00049         global _UnSuspend
               00050         global _StartOfFrame
               00051         global _Stall
               00052         global _Suspend
               00053         global _BusReset
               00054         global _CDCputs
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00055         global _Delayms
               00056         global _Delayus
               00057         global _pprintf
               00058         global _psprintf2
               00059         global _psprintf
               00060         global _CDC_init
               00061         global _CDCwrite
               00062         global _CDCprintf
               00063         global _CDCprint
               00064         global _CDCprintln
               00065         global _CDCgetkey
               00066         global _CDCgetstring
               00067         global _epap_in
               00068         global _epap_out
               00069         global _epapin_init
               00070         global _epapout_init
               00071         global _setup
               00072         global _loop
               00073         global _pinguino_main
               00074         global _high_priority_isr
               00075         global _low_priority_isr
               00076         global _libdevice_descriptor
               00077         global _libconfiguration_descriptor
               00078         global _libstring_descriptor
               00079 
               00080 ;--------------------------------------------------------
               00081 ; extern variables in this module
               00082 ;--------------------------------------------------------
               00083         extern __gptrget1
               00084         extern __gptrput1
               00085         extern __gptrget3
               00086         extern __gptrput3
               00087         extern __gptrget4
               00088         extern __gptrget2
               00089         extern _SPPDATAbits
               00090         extern _SPPCFGbits
               00091         extern _SPPEPSbits
               00092         extern _SPPCONbits
               00093         extern _UFRMLbits
               00094         extern _UFRMHbits
               00095         extern _UIRbits
               00096         extern _UIEbits
               00097         extern _UEIRbits
               00098         extern _UEIEbits
               00099         extern _USTATbits
               00100         extern _UCONbits
               00101         extern _UADDRbits
               00102         extern _UCFGbits
               00103         extern _UEP0bits
               00104         extern _UEP1bits
               00105         extern _UEP2bits
               00106         extern _UEP3bits
               00107         extern _UEP4bits
               00108         extern _UEP5bits
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00109         extern _UEP6bits
               00110         extern _UEP7bits
               00111         extern _UEP8bits
               00112         extern _UEP9bits
               00113         extern _UEP10bits
               00114         extern _UEP11bits
               00115         extern _UEP12bits
               00116         extern _UEP13bits
               00117         extern _UEP14bits
               00118         extern _UEP15bits
               00119         extern _PORTAbits
               00120         extern _PORTBbits
               00121         extern _PORTCbits
               00122         extern _PORTDbits
               00123         extern _PORTEbits
               00124         extern _LATAbits
               00125         extern _LATBbits
               00126         extern _LATCbits
               00127         extern _LATDbits
               00128         extern _LATEbits
               00129         extern _TRISAbits
               00130         extern _TRISBbits
               00131         extern _TRISCbits
               00132         extern _TRISDbits
               00133         extern _TRISEbits
               00134         extern _OSCTUNEbits
               00135         extern _PIE1bits
               00136         extern _PIR1bits
               00137         extern _IPR1bits
               00138         extern _PIE2bits
               00139         extern _PIR2bits
               00140         extern _IPR2bits
               00141         extern _EECON1bits
               00142         extern _RCSTAbits
               00143         extern _TXSTAbits
               00144         extern _T3CONbits
               00145         extern _CMCONbits
               00146         extern _CVRCONbits
               00147         extern _ECCP1ASbits
               00148         extern _ECCP1DELbits
               00149         extern _BAUDCONbits
               00150         extern _CCP2CONbits
               00151         extern _CCP1CONbits
               00152         extern _ADCON2bits
               00153         extern _ADCON1bits
               00154         extern _ADCON0bits
               00155         extern _SSPCON2bits
               00156         extern _SSPCON1bits
               00157         extern _SSPSTATbits
               00158         extern _T2CONbits
               00159         extern _T1CONbits
               00160         extern _RCONbits
               00161         extern _WDTCONbits
               00162         extern _HLVDCONbits
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00163         extern _OSCCONbits
               00164         extern _T0CONbits
               00165         extern _STATUSbits
               00166         extern _FSR2Hbits
               00167         extern _BSRbits
               00168         extern _FSR1Hbits
               00169         extern _FSR0Hbits
               00170         extern _INTCON3bits
               00171         extern _INTCON2bits
               00172         extern _INTCONbits
               00173         extern _TBLPTRUbits
               00174         extern _PCLATHbits
               00175         extern _PCLATUbits
               00176         extern _STKPTRbits
               00177         extern _TOSUbits
               00178         extern _usb_device_state
               00179         extern _usb_active_cfg
               00180         extern _usb_active_alt_setting
               00181         extern _SPPDATA
               00182         extern _SPPCFG
               00183         extern _SPPEPS
               00184         extern _SPPCON
               00185         extern _UFRML
               00186         extern _UFRMH
               00187         extern _UIR
               00188         extern _UIE
               00189         extern _UEIR
               00190         extern _UEIE
               00191         extern _USTAT
               00192         extern _UCON
               00193         extern _UADDR
               00194         extern _UCFG
               00195         extern _UEP0
               00196         extern _UEP1
               00197         extern _UEP2
               00198         extern _UEP3
               00199         extern _UEP4
               00200         extern _UEP5
               00201         extern _UEP6
               00202         extern _UEP7
               00203         extern _UEP8
               00204         extern _UEP9
               00205         extern _UEP10
               00206         extern _UEP11
               00207         extern _UEP12
               00208         extern _UEP13
               00209         extern _UEP14
               00210         extern _UEP15
               00211         extern _PORTA
               00212         extern _PORTB
               00213         extern _PORTC
               00214         extern _PORTD
               00215         extern _PORTE
               00216         extern _LATA
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00217         extern _LATB
               00218         extern _LATC
               00219         extern _LATD
               00220         extern _LATE
               00221         extern _TRISA
               00222         extern _TRISB
               00223         extern _TRISC
               00224         extern _TRISD
               00225         extern _TRISE
               00226         extern _OSCTUNE
               00227         extern _PIE1
               00228         extern _PIR1
               00229         extern _IPR1
               00230         extern _PIE2
               00231         extern _PIR2
               00232         extern _IPR2
               00233         extern _EECON1
               00234         extern _EECON2
               00235         extern _EEDATA
               00236         extern _EEADR
               00237         extern _RCSTA
               00238         extern _TXSTA
               00239         extern _TXREG
               00240         extern _RCREG
               00241         extern _SPBRG
               00242         extern _SPBRGH
               00243         extern _T3CON
               00244         extern _TMR3L
               00245         extern _TMR3H
               00246         extern _CMCON
               00247         extern _CVRCON
               00248         extern _ECCP1AS
               00249         extern _ECCP1DEL
               00250         extern _BAUDCON
               00251         extern _CCP2CON
               00252         extern _CCPR2L
               00253         extern _CCPR2H
               00254         extern _CCP1CON
               00255         extern _CCPR1L
               00256         extern _CCPR1H
               00257         extern _ADCON2
               00258         extern _ADCON1
               00259         extern _ADCON0
               00260         extern _ADRESL
               00261         extern _ADRESH
               00262         extern _SSPCON2
               00263         extern _SSPCON1
               00264         extern _SSPSTAT
               00265         extern _SSPADD
               00266         extern _SSPBUF
               00267         extern _T2CON
               00268         extern _PR2
               00269         extern _TMR2
               00270         extern _T1CON
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00271         extern _TMR1L
               00272         extern _TMR1H
               00273         extern _RCON
               00274         extern _WDTCON
               00275         extern _HLVDCON
               00276         extern _OSCCON
               00277         extern _T0CON
               00278         extern _TMR0L
               00279         extern _TMR0H
               00280         extern _STATUS
               00281         extern _FSR2L
               00282         extern _FSR2H
               00283         extern _PLUSW2
               00284         extern _PREINC2
               00285         extern _POSTDEC2
               00286         extern _POSTINC2
               00287         extern _INDF2
               00288         extern _BSR
               00289         extern _FSR1L
               00290         extern _FSR1H
               00291         extern _PLUSW1
               00292         extern _PREINC1
               00293         extern _POSTDEC1
               00294         extern _POSTINC1
               00295         extern _INDF1
               00296         extern _WREG
               00297         extern _FSR0L
               00298         extern _FSR0H
               00299         extern _PLUSW0
               00300         extern _PREINC0
               00301         extern _POSTDEC0
               00302         extern _POSTINC0
               00303         extern _INDF0
               00304         extern _INTCON3
               00305         extern _INTCON2
               00306         extern _INTCON
               00307         extern _PRODL
               00308         extern _PRODH
               00309         extern _TABLAT
               00310         extern _TBLPTRL
               00311         extern _TBLPTRH
               00312         extern _TBLPTRU
               00313         extern _PCL
               00314         extern _PCLATH
               00315         extern _PCLATU
               00316         extern _STKPTR
               00317         extern _TOSL
               00318         extern _TOSH
               00319         extern _TOSU
               00320         extern _delay10ktcy
               00321         extern __modulong
               00322         extern __divulong
               00323 ;--------------------------------------------------------
               00324 ;       Equates to used internal registers
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00325 ;--------------------------------------------------------
  00000FD8     00326 STATUS  equ     0xfd8
  00000FF9     00327 PCL     equ     0xff9
  00000FFA     00328 PCLATH  equ     0xffa
  00000FFB     00329 PCLATU  equ     0xffb
  00000FF2     00330 INTCON  equ     0xff2
  00000FE8     00331 WREG    equ     0xfe8
  00000FFD     00332 TOSL    equ     0xffd
  00000FFE     00333 TOSH    equ     0xffe
  00000FFF     00334 TOSU    equ     0xfff
  00000FF6     00335 TBLPTRL equ     0xff6
  00000FF7     00336 TBLPTRH equ     0xff7
  00000FF8     00337 TBLPTRU equ     0xff8
  00000FF5     00338 TABLAT  equ     0xff5
  00000FE9     00339 FSR0L   equ     0xfe9
  00000FEA     00340 FSR0H   equ     0xfea
  00000FE1     00341 FSR1L   equ     0xfe1
  00000FE2     00342 FSR1H   equ     0xfe2
  00000FD9     00343 FSR2L   equ     0xfd9
  00000FDA     00344 FSR2H   equ     0xfda
  00000FEF     00345 INDF0   equ     0xfef
  00000FEE     00346 POSTINC0        equ     0xfee
  00000FE6     00347 POSTINC1        equ     0xfe6
  00000FE5     00348 POSTDEC1        equ     0xfe5
  00000FE4     00349 PREINC1 equ     0xfe4
  00000FE3     00350 PLUSW1  equ     0xfe3
  00000FDB     00351 PLUSW2  equ     0xfdb
  00000FF3     00352 PRODL   equ     0xff3
  00000FF4     00353 PRODH   equ     0xff4
               00354 
               00355 
               00356         idata
               00357 _CONTROL_LINE   db      0x00
               00358 
               00359 
               00360 ; Internal registers
               00361 .registers      udata_ovr       0x0000
               00362 r0x00   res     1
               00363 r0x01   res     1
               00364 r0x02   res     1
               00365 r0x03   res     1
               00366 r0x04   res     1
               00367 r0x05   res     1
               00368 r0x06   res     1
               00369 r0x07   res     1
               00370 r0x08   res     1
               00371 r0x09   res     1
               00372 r0x0a   res     1
               00373 r0x0b   res     1
               00374 r0x0c   res     1
               00375 r0x0d   res     1
               00376 r0x0e   res     1
               00377 r0x0f   res     1
               00378 r0x10   res     1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00379 r0x11   res     1
               00380 r0x12   res     1
               00381 r0x13   res     1
               00382 r0x14   res     1
               00383 r0x15   res     1
               00384 r0x16   res     1
               00385 r0x17   res     1
               00386 r0x18   res     1
               00387 r0x19   res     1
               00388 r0x1a   res     1
               00389 r0x1b   res     1
               00390 r0x1c   res     1
               00391 r0x1d   res     1
               00392 r0x1e   res     1
               00393 r0x1f   res     1
               00394 r0x20   res     1
               00395 
               00396 
               00397 usbram5 udata
               00398 _SetupPacket    res     64
               00399 _controlTransferBuffer  res     64
               00400 _CDCRxBuffer    res     64
               00401 _CDCTxBuffer    res     64
               00402 
               00403 udata_main_0    udata
               00404 _deviceAddress  res     1
               00405 
               00406 udata_main_1    udata
               00407 _HIDPostProcess res     1
               00408 
               00409 udata_main_2    udata
               00410 _hidIdleRate    res     1
               00411 
               00412 udata_main_3    udata
               00413 _hidProtocol    res     1
               00414 
               00415 udata_main_4    udata
               00416 _hidRxLen       res     1
               00417 
               00418 udata_main_5    udata
               00419 _pputchar       res     3
               00420 
               00421 udata_main_6    udata
               00422 _requestHandled res     1
               00423 
               00424 udata_main_7    udata
               00425 _outPtr res     3
               00426 
               00427 udata_main_8    udata
               00428 _wCount res     2
               00429 
               00430 udata_main_9    udata
               00431 _inPtr  res     3
               00432 
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00433 udata_main_10   udata
               00434 _selfPowered    res     1
               00435 
               00436 udata_main_11   udata
               00437 _remoteWakeup   res     1
               00438 
               00439 udata_main_12   udata
               00440 _deviceState    res     1
               00441 
               00442 udata_main_13   udata
               00443 _currentConfiguration   res     1
               00444 
               00445 udata_main_14   udata
               00446 _ctrlTransferStage      res     1
               00447 
               00448 udata_main_15   udata
               00449 _line_config    res     7
               00450 
               00451 udata_main_16   udata
               00452 _zlp    res     8
               00453 
               00454 udata_main_17   udata
               00455 _CDCControlBuffer       res     16
               00456 
               00457 udata_main_18   udata
               00458 _pprinti_buffer_1_1     res     12
               00459 
               00460 udata_main_19   udata
               00461 _pprintfl_buffer_1_1    res     12
               00462 
               00463 udata_main_20   udata
               00464 _pprintfl_tmp_1_1       res     12
               00465 
               00466 udata_main_21   udata
               00467 _pprintfl_helper_1_1    res     4
               00468 
               00469 udata_main_22   udata
               00470 _pprint_scr_1_1 res     2
               00471 
               00472 udata_main_23   udata
               00473 _psprintf2_out_1_1      res     3
               00474 
               00475 udata_main_24   udata
               00476 _CDCgetkey_buffer_1_1   res     64
               00477 
               00478 udata_main_25   udata
               00479 _CDCgetstring_buffer_1_1        res     80
               00480 
               00481 
               00482 ustat_main_00   udata   0X0400
               00483 _ep_bdt         res     128
               00484 
               00485 ;--------------------------------------------------------
               00486 ; global & static initialisations
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00487 ;--------------------------------------------------------
               00488 ; ; Starting pCode block
               00489 S_main__high_priority_isr       code    0X002020
2020 00490 _high_priority_isr:
               00491 ;       .line   156; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   if(PIR2bits.USBIF)
2020 AA00      00492         BTFSS   _PIR2bits, 5
2022 D000      00493         BRA     _01132_DS_
               00494 ;       .line   158; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   ProcessUSBTransactions();
2024 EC00 F000 00495         CALL    _ProcessUSBTransactions
               00496 ;       .line   159; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   UIRbits.SOFIF = 0;
2028 9C00      00497         BCF     _UIRbits, 6
               00498 ;       .line   160; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   UIRbits.URSTIF = 0;
202A 9000      00499         BCF     _UIRbits, 0
               00500 ;       .line   161; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   PIR2bits.USBIF = 0;
202C 9A00      00501         BCF     _PIR2bits, 5
               00502 ;       .line   162; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   UEIR = 0;
202E 6A00      00503         CLRF    _UEIR
2030 00504 _01132_DS_:
               00505 ; ; Starting pCode block
               00506 ;       .line   226; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   void low_priority_isr(void) __naked __interrupt 2
               00507 S_main__low_priority_isr        code    0X004000
4000 00508 _low_priority_isr:
               00509 ;       .line   234; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   }
               00510 ; I code from now on!
               00511 ; ; Starting pCode block
               00512 S_main__pinguino_main   code
0000 00513 _pinguino_main:
               00514 ;       .line   67; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c    PIE1 = 0;
0000 6A00      00515         CLRF    _PIE1
               00516 ;       .line   68; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c    PIE2 = 0;
0002 6A00      00517         CLRF    _PIE2
               00518 ;       .line   71; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c    ADCON1 = 0x0F;                          // AN0 to AN12 Digital I/O
0004 0E0F      00519         MOVLW   0x0f
0006 6E00      00520         MOVWF   _ADCON1
               00521 ;       .line   89; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c    setup();
0008 EC00 F000 00522         CALL    _setup
               00523 ;       .line   108; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   CDC_init();
000C EC00 F000 00524         CALL    _CDC_init
               00525 ;       .line   109; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   PIE2bits.USBIE  = 1;
0010 8A00      00526         BSF     _PIE2bits, 5
               00527 ;       .line   110; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   INTCONbits.PEIE = 1;
0012 8C00      00528         BSF     _INTCONbits, 6
               00529 ;       .line   111; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   INTCONbits.GIE  = 1;
0014 8E00      00530         BSF     _INTCONbits, 7
0016 00531 _01123_DS_:
               00532 ;       .line   141; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c   loop();
0016 EC00 F000 00533         CALL    _loop
001A D000      00534         BRA     _01123_DS_
001C 0012      00535         RETURN  
               00536 
               00537 ; ; Starting pCode block
               00538 S_main__loop    code
0000 00539 _loop:
               00540 ;       .line   10; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/user.c    CDCprintf("TOTO");
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0000 0E00      00541         MOVLW   UPPER(__str_8)
0002 6EE5      00542         MOVWF   POSTDEC1
0004 0E00      00543         MOVLW   HIGH(__str_8)
0006 6EE5      00544         MOVWF   POSTDEC1
0008 0E00      00545         MOVLW   LOW(__str_8)
000A 6EE5      00546         MOVWF   POSTDEC1
000C EC00 F000 00547         CALL    _CDCprintf
0010 0E03      00548         MOVLW   0x03
0012 26E1      00549         ADDWF   FSR1L, F
0014 0012      00550         RETURN  
               00551 
               00552 ; ; Starting pCode block
               00553 S_main__setup   code
0000 00554 _setup:
               00555 ;       .line   6; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/user.c     }
0000 0012      00556         RETURN  
               00557 
               00558 ; ; Starting pCode block
               00559 S_main__epapout_init    code
0000 00560 _epapout_init:
               00561 ;       .line   54; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c    void epapout_init() { return; }
0000 0012      00562         RETURN  
               00563 
               00564 ; ; Starting pCode block
               00565 S_main__epapin_init     code
0000 00566 _epapin_init:
               00567 ;       .line   53; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c    void epapin_init() { return; }
0000 0012      00568         RETURN  
               00569 
               00570 ; ; Starting pCode block
               00571 S_main__epap_out        code
0000 00572 _epap_out:
               00573 ;       .line   52; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c    void epap_out() { return; }
0000 0012      00574         RETURN  
               00575 
               00576 ; ; Starting pCode block
               00577 S_main__epap_in code
0000 00578 _epap_in:
               00579 ;       .line   51; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.c    void epap_in() { return; }
0000 0012      00580         RETURN  
               00581 
               00582 ; ; Starting pCode block
               00583 S_main__CDCgetstring    code
0000 00584 _CDCgetstring:
               00585 ;       .line   125; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   char * CDCgetstring(void)
0000 C000 FFE5 00586         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 00587         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 00588         MOVFF   r0x02, POSTDEC1
000C C000 FFE5 00589         MOVFF   r0x03, POSTDEC1
               00590 ;       .line   130; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   do {
0010 6A00      00591         CLRF    r0x00
0012 00592 _01078_DS_:
               00593 ;       .line   131; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   c = CDCgetkey();
0012 EC00 F000 00594         CALL    _CDCgetkey
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0016 6E00      00595         MOVWF   r0x01
               00596 ;       .line   132; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   CDCprintf("%c", c);
0018 C000 F000 00597         MOVFF   r0x01, r0x02
001C 6AE5      00598         CLRF    POSTDEC1
001E 5000      00599         MOVF    r0x02, W
0020 6EE5      00600         MOVWF   POSTDEC1
0022 0E00      00601         MOVLW   UPPER(__str_7)
0024 6EE5      00602         MOVWF   POSTDEC1
0026 0E00      00603         MOVLW   HIGH(__str_7)
0028 6EE5      00604         MOVWF   POSTDEC1
002A 0E00      00605         MOVLW   LOW(__str_7)
002C 6EE5      00606         MOVWF   POSTDEC1
002E EC00 F000 00607         CALL    _CDCprintf
0032 0E05      00608         MOVLW   0x05
0034 26E1      00609         ADDWF   FSR1L, F
               00610 ;       .line   133; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   buffer[i++] = c;
0036 C000 F000 00611         MOVFF   r0x00, r0x02
003A 2A00      00612         INCF    r0x00, F
003C 6A00      00613         CLRF    r0x03
003E 0E00      00614         MOVLW   LOW(_CDCgetstring_buffer_1_1)
0040 2600      00615         ADDWF   r0x02, F
0042 0E00      00616         MOVLW   HIGH(_CDCgetstring_buffer_1_1)
0044 2200      00617         ADDWFC  r0x03, F
0046 C000 FFE9 00618         MOVFF   r0x02, FSR0L
004A C000 FFEA 00619         MOVFF   r0x03, FSR0H
004E C000 FFEF 00620         MOVFF   r0x01, INDF0
               00621 ;       .line   134; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   } while (c != '\r');
0052 5000      00622         MOVF    r0x01, W
0054 0A0D      00623         XORLW   0x0d
0056 E100      00624         BNZ     _01078_DS_
               00625 ;       .line   135; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   buffer[i] = '\0';
0058 6A00      00626         CLRF    r0x01
005A 0E00      00627         MOVLW   LOW(_CDCgetstring_buffer_1_1)
005C 2600      00628         ADDWF   r0x00, F
005E 0E00      00629         MOVLW   HIGH(_CDCgetstring_buffer_1_1)
0060 2200      00630         ADDWFC  r0x01, F
0062 C000 FFE9 00631         MOVFF   r0x00, FSR0L
0066 C000 FFEA 00632         MOVFF   r0x01, FSR0H
006A 6AEF      00633         CLRF    INDF0
               00634 ;       .line   136; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   return buffer;
006C 6E00      00635         MOVWF   r0x01
006E 0E80      00636         MOVLW   0x80
0070 6E00      00637         MOVWF   r0x02
0072 C000 FFF4 00638         MOVFF   r0x02, PRODH
0076 C000 FFF3 00639         MOVFF   r0x01, PRODL
007A 0E00      00640         MOVLW   LOW(_CDCgetstring_buffer_1_1)
007C CFE4 F000 00641         MOVFF   PREINC1, r0x03
0080 CFE4 F000 00642         MOVFF   PREINC1, r0x02
0084 CFE4 F000 00643         MOVFF   PREINC1, r0x01
0088 CFE4 F000 00644         MOVFF   PREINC1, r0x00
008C 0012      00645         RETURN  
               00646 
               00647 ; ; Starting pCode block
               00648 S_main__CDCgetkey       code
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0000 00649 _CDCgetkey:
               00650 ;       .line   116; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   char CDCgetkey()
0000 C000 FFE5 00651         MOVFF   r0x00, POSTDEC1
0004 00652 _01070_DS_:
               00653 ;       .line   120; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   while (!CDCgets(buffer));
0004 0E80      00654         MOVLW   0x80
               00655 ; #     MOVWF   r0x02
               00656 ; #     MOVF    r0x02, W
0006 6EE5      00657         MOVWF   POSTDEC1
0008 0E00      00658         MOVLW   HIGH(_CDCgetkey_buffer_1_1)
000A 6EE5      00659         MOVWF   POSTDEC1
000C 0E00      00660         MOVLW   LOW(_CDCgetkey_buffer_1_1)
000E 6EE5      00661         MOVWF   POSTDEC1
0010 EC00 F000 00662         CALL    _CDCgets
0014 6E00      00663         MOVWF   r0x00
0016 0E03      00664         MOVLW   0x03
0018 26E1      00665         ADDWF   FSR1L, F
001A 5000      00666         MOVF    r0x00, W
001C E000      00667         BZ      _01070_DS_
001E 0000      00668         BANKSEL _CDCgetkey_buffer_1_1
               00669 ;       .line   121; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   return (buffer[0]);     // return only the first character
0020 5100      00670         MOVF    _CDCgetkey_buffer_1_1, W, B
0022 CFE4 F000 00671         MOVFF   PREINC1, r0x00
0026 0012      00672         RETURN  
               00673 
               00674 ; ; Starting pCode block
               00675 S_main__CDCprintln      code
0000 00676 _CDCprintln:
               00677 ;       .line   106; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   void CDCprintln(const u8 *fmt, ...)
0000 CFD9 FFE5 00678         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 00679         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 00680         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 00681         MOVFF   r0x01, POSTDEC1
               00682 ;       .line   109; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   va_start(args, fmt);                                    // initialize the list
0010 0E02      00683         MOVLW   0x02
0012 24D9      00684         ADDWF   FSR2L, W
0014 6E00      00685         MOVWF   r0x00
0016 0E00      00686         MOVLW   0x00
0018 20DA      00687         ADDWFC  FSR2H, W
001A 6E00      00688         MOVWF   r0x01
001C 0E03      00689         MOVLW   0x03
001E 2600      00690         ADDWF   r0x00, F
0020 B0D8      00691         BTFSC   STATUS, 0
0022 2A00      00692         INCF    r0x01, F
               00693 ; #     MOVF    r0x01, W
               00694 ; #     MOVWF   r0x01
               00695 ; #     MOVF    r0x01, W
               00696 ; #     MOVF    r0x00, W
               00697 ; #     MOVF    r0x00, W
               00698 ; #     MOVWF   r0x00
               00699 ;       .line   111; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   CDCprintf(fmt, args);
0024 C000 FFE5 00700         MOVFF   r0x03, POSTDEC1
0028 C000 FFE5 00701         MOVFF   r0x04, POSTDEC1
002C C000 FFE5 00702         MOVFF   r0x05, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0030 0E02      00703         MOVLW   0x02
0032 CFDB F000 00704         MOVFF   PLUSW2, r0x03
0036 0E03      00705         MOVLW   0x03
0038 CFDB F000 00706         MOVFF   PLUSW2, r0x04
003C 0E04      00707         MOVLW   0x04
003E CFDB F000 00708         MOVFF   PLUSW2, r0x05
0042 CFE4 F000 00709         MOVFF   PREINC1, r0x05
0046 CFE4 F000 00710         MOVFF   PREINC1, r0x04
004A CFE4 F000 00711         MOVFF   PREINC1, r0x03
004E 0E80      00712         MOVLW   0x80
0050 6EE5      00713         MOVWF   POSTDEC1
0052 5000      00714         MOVF    r0x01, W
0054 6EE5      00715         MOVWF   POSTDEC1
0056 5000      00716         MOVF    r0x00, W
0058 6EE5      00717         MOVWF   POSTDEC1
005A C000 FFE5 00718         MOVFF   r0x03, POSTDEC1
005E C000 FFE5 00719         MOVFF   r0x04, POSTDEC1
0062 C000 FFE5 00720         MOVFF   r0x05, POSTDEC1
0066 0E02      00721         MOVLW   0x02
0068 CFDB F000 00722         MOVFF   PLUSW2, r0x03
006C 0E03      00723         MOVLW   0x03
006E CFDB F000 00724         MOVFF   PLUSW2, r0x04
0072 0E04      00725         MOVLW   0x04
0074 CFDB F000 00726         MOVFF   PLUSW2, r0x05
0078 5000      00727         MOVF    r0x05, W
007A 6EE5      00728         MOVWF   POSTDEC1
007C 5000      00729         MOVF    r0x04, W
007E 6EE5      00730         MOVWF   POSTDEC1
0080 5000      00731         MOVF    r0x03, W
0082 6EE5      00732         MOVWF   POSTDEC1
0084 CFE4 F000 00733         MOVFF   PREINC1, r0x05
0088 CFE4 F000 00734         MOVFF   PREINC1, r0x04
008C CFE4 F000 00735         MOVFF   PREINC1, r0x03
0090 EC00 F000 00736         CALL    _CDCprintf
0094 0E06      00737         MOVLW   0x06
0096 26E1      00738         ADDWF   FSR1L, F
               00739 ;       .line   112; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   CDCprintf("\n\r");
0098 0E00      00740         MOVLW   UPPER(__str_6)
009A 6EE5      00741         MOVWF   POSTDEC1
009C 0E00      00742         MOVLW   HIGH(__str_6)
009E 6EE5      00743         MOVWF   POSTDEC1
00A0 0E00      00744         MOVLW   LOW(__str_6)
00A2 6EE5      00745         MOVWF   POSTDEC1
00A4 EC00 F000 00746         CALL    _CDCprintf
00A8 0E03      00747         MOVLW   0x03
00AA 26E1      00748         ADDWF   FSR1L, F
00AC CFE4 F000 00749         MOVFF   PREINC1, r0x01
00B0 CFE4 F000 00750         MOVFF   PREINC1, r0x00
00B4 CFE4 FFD9 00751         MOVFF   PREINC1, FSR2L
00B8 0012      00752         RETURN  
               00753 
               00754 ; ; Starting pCode block
               00755 S_main__CDCprint        code
0000 00756 _CDCprint:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00757 ;       .line   69; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    void CDCprint(const u8 *fmt, ...)
0000 CFD9 FFE5 00758         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 00759         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 00760         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 00761         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 00762         MOVFF   r0x02, POSTDEC1
               00763 ;       .line   73; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    va_start(args, fmt);                                    // initialize the list
0014 0E02      00764         MOVLW   0x02
0016 24D9      00765         ADDWF   FSR2L, W
0018 6E00      00766         MOVWF   r0x00
001A 0E00      00767         MOVLW   0x00
001C 20DA      00768         ADDWFC  FSR2H, W
001E 6E00      00769         MOVWF   r0x01
0020 0E03      00770         MOVLW   0x03
0022 2600      00771         ADDWF   r0x00, F
0024 B0D8      00772         BTFSC   STATUS, 0
0026 2A00      00773         INCF    r0x01, F
               00774 ; #     MOVF    r0x01, W
               00775 ; #     MOVWF   r0x01
               00776 ; #     MOVF    r0x01, W
               00777 ; #     MOVF    r0x00, W
               00778 ; #     MOVF    r0x00, W
               00779 ; #     MOVWF   r0x00
0028 0E80      00780         MOVLW   0x80
002A 6E00      00781         MOVWF   r0x02
               00782 ;       .line   74; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    s = (u8) va_arg(args, u32);                             // get the first variable arg.
002C 0E04      00783         MOVLW   0x04
002E 2600      00784         ADDWF   r0x00, F
0030 0E00      00785         MOVLW   0x00
0032 2200      00786         ADDWFC  r0x01, F
0034 2200      00787         ADDWFC  r0x02, F
0036 0EFC      00788         MOVLW   0xfc
0038 2600      00789         ADDWF   r0x00, F
003A 0EFF      00790         MOVLW   0xff
003C 2200      00791         ADDWFC  r0x01, F
003E 2200      00792         ADDWFC  r0x02, F
0040 C000 FFE9 00793         MOVFF   r0x00, FSR0L
0044 C000 FFF3 00794         MOVFF   r0x01, PRODL
0048 5000      00795         MOVF    r0x02, W
004A EC00 F000 00796         CALL    __gptrget4
004E 6E00      00797         MOVWF   r0x00
               00798 ;       .line   77; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    switch (s)
0050 0A01      00799         XORLW   0x01
0052 E100      00800         BNZ     _01050_DS_
0054 D000      00801         BRA     _01036_DS_
0056 00802 _01050_DS_:
0056 5000      00803         MOVF    r0x00, W
0058 0A02      00804         XORLW   0x02
005A E100      00805         BNZ     _01052_DS_
005C D000      00806         BRA     _01038_DS_
005E 00807 _01052_DS_:
005E 5000      00808         MOVF    r0x00, W
0060 0A08      00809         XORLW   0x08
0062 E100      00810         BNZ     _01054_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0064 D000      00811         BRA     _01037_DS_
0066 00812 _01054_DS_:
0066 5000      00813         MOVF    r0x00, W
0068 0A0A      00814         XORLW   0x0a
006A E000      00815         BZ      _01034_DS_
006C 5000      00816         MOVF    r0x00, W
006E 0A10      00817         XORLW   0x10
0070 E100      00818         BNZ     _01058_DS_
0072 D000      00819         BRA     _01035_DS_
0074 00820 _01058_DS_:
0074 5000      00821         MOVF    r0x00, W
0076 0A20      00822         XORLW   0x20
0078 E000      00823         BZ      _01060_DS_
007A D000      00824         BRA     _01039_DS_
007C 00825 _01060_DS_:
               00826 ;       .line   80; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCprintf("%f", (u32)fmt);
007C C000 FFE5 00827         MOVFF   r0x04, POSTDEC1
0080 C000 FFE5 00828         MOVFF   r0x05, POSTDEC1
0084 C000 FFE5 00829         MOVFF   r0x06, POSTDEC1
0088 0E02      00830         MOVLW   0x02
008A CFDB F000 00831         MOVFF   PLUSW2, r0x04
008E 0E03      00832         MOVLW   0x03
0090 CFDB F000 00833         MOVFF   PLUSW2, r0x05
0094 0E04      00834         MOVLW   0x04
0096 CFDB F000 00835         MOVFF   PLUSW2, r0x06
009A C000 F000 00836         MOVFF   r0x04, r0x00
009E C000 F000 00837         MOVFF   r0x05, r0x01
00A2 C000 F000 00838         MOVFF   r0x06, r0x02
00A6 CFE4 F000 00839         MOVFF   PREINC1, r0x06
00AA CFE4 F000 00840         MOVFF   PREINC1, r0x05
00AE CFE4 F000 00841         MOVFF   PREINC1, r0x04
00B2 6AE5      00842         CLRF    POSTDEC1
00B4 5000      00843         MOVF    r0x02, W
00B6 6EE5      00844         MOVWF   POSTDEC1
00B8 5000      00845         MOVF    r0x01, W
00BA 6EE5      00846         MOVWF   POSTDEC1
00BC 5000      00847         MOVF    r0x00, W
00BE 6EE5      00848         MOVWF   POSTDEC1
00C0 0E00      00849         MOVLW   UPPER(__str_1)
00C2 6EE5      00850         MOVWF   POSTDEC1
00C4 0E00      00851         MOVLW   HIGH(__str_1)
00C6 6EE5      00852         MOVWF   POSTDEC1
00C8 0E00      00853         MOVLW   LOW(__str_1)
00CA 6EE5      00854         MOVWF   POSTDEC1
00CC EC00 F000 00855         CALL    _CDCprintf
00D0 0E07      00856         MOVLW   0x07
00D2 26E1      00857         ADDWF   FSR1L, F
               00858 ;       .line   81; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    break;
00D4 D000      00859         BRA     _01041_DS_
00D6 00860 _01034_DS_:
               00861 ;       .line   83; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCprintf("%d", (u32)fmt);
00D6 C000 FFE5 00862         MOVFF   r0x04, POSTDEC1
00DA C000 FFE5 00863         MOVFF   r0x05, POSTDEC1
00DE C000 FFE5 00864         MOVFF   r0x06, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00E2 0E02      00865         MOVLW   0x02
00E4 CFDB F000 00866         MOVFF   PLUSW2, r0x04
00E8 0E03      00867         MOVLW   0x03
00EA CFDB F000 00868         MOVFF   PLUSW2, r0x05
00EE 0E04      00869         MOVLW   0x04
00F0 CFDB F000 00870         MOVFF   PLUSW2, r0x06
00F4 C000 F000 00871         MOVFF   r0x04, r0x00
00F8 C000 F000 00872         MOVFF   r0x05, r0x01
00FC C000 F000 00873         MOVFF   r0x06, r0x02
0100 CFE4 F000 00874         MOVFF   PREINC1, r0x06
0104 CFE4 F000 00875         MOVFF   PREINC1, r0x05
0108 CFE4 F000 00876         MOVFF   PREINC1, r0x04
010C 6AE5      00877         CLRF    POSTDEC1
010E 5000      00878         MOVF    r0x02, W
0110 6EE5      00879         MOVWF   POSTDEC1
0112 5000      00880         MOVF    r0x01, W
0114 6EE5      00881         MOVWF   POSTDEC1
0116 5000      00882         MOVF    r0x00, W
0118 6EE5      00883         MOVWF   POSTDEC1
011A 0E00      00884         MOVLW   UPPER(__str_2)
011C 6EE5      00885         MOVWF   POSTDEC1
011E 0E00      00886         MOVLW   HIGH(__str_2)
0120 6EE5      00887         MOVWF   POSTDEC1
0122 0E00      00888         MOVLW   LOW(__str_2)
0124 6EE5      00889         MOVWF   POSTDEC1
0126 EC00 F000 00890         CALL    _CDCprintf
012A 0E07      00891         MOVLW   0x07
012C 26E1      00892         ADDWF   FSR1L, F
               00893 ;       .line   84; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    break;
012E D000      00894         BRA     _01041_DS_
0130 00895 _01035_DS_:
               00896 ;       .line   86; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCprintf("%x", (u32)fmt);
0130 C000 FFE5 00897         MOVFF   r0x04, POSTDEC1
0134 C000 FFE5 00898         MOVFF   r0x05, POSTDEC1
0138 C000 FFE5 00899         MOVFF   r0x06, POSTDEC1
013C 0E02      00900         MOVLW   0x02
013E CFDB F000 00901         MOVFF   PLUSW2, r0x04
0142 0E03      00902         MOVLW   0x03
0144 CFDB F000 00903         MOVFF   PLUSW2, r0x05
0148 0E04      00904         MOVLW   0x04
014A CFDB F000 00905         MOVFF   PLUSW2, r0x06
014E C000 F000 00906         MOVFF   r0x04, r0x00
0152 C000 F000 00907         MOVFF   r0x05, r0x01
0156 C000 F000 00908         MOVFF   r0x06, r0x02
015A CFE4 F000 00909         MOVFF   PREINC1, r0x06
015E CFE4 F000 00910         MOVFF   PREINC1, r0x05
0162 CFE4 F000 00911         MOVFF   PREINC1, r0x04
0166 6AE5      00912         CLRF    POSTDEC1
0168 5000      00913         MOVF    r0x02, W
016A 6EE5      00914         MOVWF   POSTDEC1
016C 5000      00915         MOVF    r0x01, W
016E 6EE5      00916         MOVWF   POSTDEC1
0170 5000      00917         MOVF    r0x00, W
0172 6EE5      00918         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0174 0E00      00919         MOVLW   UPPER(__str_3)
0176 6EE5      00920         MOVWF   POSTDEC1
0178 0E00      00921         MOVLW   HIGH(__str_3)
017A 6EE5      00922         MOVWF   POSTDEC1
017C 0E00      00923         MOVLW   LOW(__str_3)
017E 6EE5      00924         MOVWF   POSTDEC1
0180 EC00 F000 00925         CALL    _CDCprintf
0184 0E07      00926         MOVLW   0x07
0186 26E1      00927         ADDWF   FSR1L, F
               00928 ;       .line   87; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    break;
0188 D000      00929         BRA     _01041_DS_
018A 00930 _01036_DS_:
               00931 ;       .line   90; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCprintf("%d", (u32)fmt);
018A C000 FFE5 00932         MOVFF   r0x04, POSTDEC1
018E C000 FFE5 00933         MOVFF   r0x05, POSTDEC1
0192 C000 FFE5 00934         MOVFF   r0x06, POSTDEC1
0196 0E02      00935         MOVLW   0x02
0198 CFDB F000 00936         MOVFF   PLUSW2, r0x04
019C 0E03      00937         MOVLW   0x03
019E CFDB F000 00938         MOVFF   PLUSW2, r0x05
01A2 0E04      00939         MOVLW   0x04
01A4 CFDB F000 00940         MOVFF   PLUSW2, r0x06
01A8 C000 F000 00941         MOVFF   r0x04, r0x00
01AC C000 F000 00942         MOVFF   r0x05, r0x01
01B0 C000 F000 00943         MOVFF   r0x06, r0x02
01B4 CFE4 F000 00944         MOVFF   PREINC1, r0x06
01B8 CFE4 F000 00945         MOVFF   PREINC1, r0x05
01BC CFE4 F000 00946         MOVFF   PREINC1, r0x04
01C0 6AE5      00947         CLRF    POSTDEC1
01C2 5000      00948         MOVF    r0x02, W
01C4 6EE5      00949         MOVWF   POSTDEC1
01C6 5000      00950         MOVF    r0x01, W
01C8 6EE5      00951         MOVWF   POSTDEC1
01CA 5000      00952         MOVF    r0x00, W
01CC 6EE5      00953         MOVWF   POSTDEC1
01CE 0E00      00954         MOVLW   UPPER(__str_2)
01D0 6EE5      00955         MOVWF   POSTDEC1
01D2 0E00      00956         MOVLW   HIGH(__str_2)
01D4 6EE5      00957         MOVWF   POSTDEC1
01D6 0E00      00958         MOVLW   LOW(__str_2)
01D8 6EE5      00959         MOVWF   POSTDEC1
01DA EC00 F000 00960         CALL    _CDCprintf
01DE 0E07      00961         MOVLW   0x07
01E0 26E1      00962         ADDWF   FSR1L, F
               00963 ;       .line   91; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    break;
01E2 D000      00964         BRA     _01041_DS_
01E4 00965 _01037_DS_:
               00966 ;       .line   93; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCprintf("%o", (u32)fmt);
01E4 C000 FFE5 00967         MOVFF   r0x04, POSTDEC1
01E8 C000 FFE5 00968         MOVFF   r0x05, POSTDEC1
01EC C000 FFE5 00969         MOVFF   r0x06, POSTDEC1
01F0 0E02      00970         MOVLW   0x02
01F2 CFDB F000 00971         MOVFF   PLUSW2, r0x04
01F6 0E03      00972         MOVLW   0x03
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01F8 CFDB F000 00973         MOVFF   PLUSW2, r0x05
01FC 0E04      00974         MOVLW   0x04
01FE CFDB F000 00975         MOVFF   PLUSW2, r0x06
0202 C000 F000 00976         MOVFF   r0x04, r0x00
0206 C000 F000 00977         MOVFF   r0x05, r0x01
020A C000 F000 00978         MOVFF   r0x06, r0x02
020E CFE4 F000 00979         MOVFF   PREINC1, r0x06
0212 CFE4 F000 00980         MOVFF   PREINC1, r0x05
0216 CFE4 F000 00981         MOVFF   PREINC1, r0x04
021A 6AE5      00982         CLRF    POSTDEC1
021C 5000      00983         MOVF    r0x02, W
021E 6EE5      00984         MOVWF   POSTDEC1
0220 5000      00985         MOVF    r0x01, W
0222 6EE5      00986         MOVWF   POSTDEC1
0224 5000      00987         MOVF    r0x00, W
0226 6EE5      00988         MOVWF   POSTDEC1
0228 0E00      00989         MOVLW   UPPER(__str_4)
022A 6EE5      00990         MOVWF   POSTDEC1
022C 0E00      00991         MOVLW   HIGH(__str_4)
022E 6EE5      00992         MOVWF   POSTDEC1
0230 0E00      00993         MOVLW   LOW(__str_4)
0232 6EE5      00994         MOVWF   POSTDEC1
0234 EC00 F000 00995         CALL    _CDCprintf
0238 0E07      00996         MOVLW   0x07
023A 26E1      00997         ADDWF   FSR1L, F
               00998 ;       .line   94; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    break;
023C D000      00999         BRA     _01041_DS_
023E 01000 _01038_DS_:
               01001 ;       .line   96; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCprintf("%b", (u32)fmt);
023E C000 FFE5 01002         MOVFF   r0x04, POSTDEC1
0242 C000 FFE5 01003         MOVFF   r0x05, POSTDEC1
0246 C000 FFE5 01004         MOVFF   r0x06, POSTDEC1
024A 0E02      01005         MOVLW   0x02
024C CFDB F000 01006         MOVFF   PLUSW2, r0x04
0250 0E03      01007         MOVLW   0x03
0252 CFDB F000 01008         MOVFF   PLUSW2, r0x05
0256 0E04      01009         MOVLW   0x04
0258 CFDB F000 01010         MOVFF   PLUSW2, r0x06
025C C000 F000 01011         MOVFF   r0x04, r0x00
0260 C000 F000 01012         MOVFF   r0x05, r0x01
0264 C000 F000 01013         MOVFF   r0x06, r0x02
0268 CFE4 F000 01014         MOVFF   PREINC1, r0x06
026C CFE4 F000 01015         MOVFF   PREINC1, r0x05
0270 CFE4 F000 01016         MOVFF   PREINC1, r0x04
0274 6AE5      01017         CLRF    POSTDEC1
0276 5000      01018         MOVF    r0x02, W
0278 6EE5      01019         MOVWF   POSTDEC1
027A 5000      01020         MOVF    r0x01, W
027C 6EE5      01021         MOVWF   POSTDEC1
027E 5000      01022         MOVF    r0x00, W
0280 6EE5      01023         MOVWF   POSTDEC1
0282 0E00      01024         MOVLW   UPPER(__str_5)
0284 6EE5      01025         MOVWF   POSTDEC1
0286 0E00      01026         MOVLW   HIGH(__str_5)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0288 6EE5      01027         MOVWF   POSTDEC1
028A 0E00      01028         MOVLW   LOW(__str_5)
028C 6EE5      01029         MOVWF   POSTDEC1
028E EC00 F000 01030         CALL    _CDCprintf
0292 0E07      01031         MOVLW   0x07
0294 26E1      01032         ADDWF   FSR1L, F
               01033 ;       .line   97; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    break;           
0296 D000      01034         BRA     _01041_DS_
0298 01035 _01039_DS_:
               01036 ;       .line   99; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCprintf(fmt);
0298 C000 FFE5 01037         MOVFF   r0x04, POSTDEC1
029C C000 FFE5 01038         MOVFF   r0x05, POSTDEC1
02A0 C000 FFE5 01039         MOVFF   r0x06, POSTDEC1
02A4 0E02      01040         MOVLW   0x02
02A6 CFDB F000 01041         MOVFF   PLUSW2, r0x04
02AA 0E03      01042         MOVLW   0x03
02AC CFDB F000 01043         MOVFF   PLUSW2, r0x05
02B0 0E04      01044         MOVLW   0x04
02B2 CFDB F000 01045         MOVFF   PLUSW2, r0x06
02B6 CFE4 F000 01046         MOVFF   PREINC1, r0x06
02BA CFE4 F000 01047         MOVFF   PREINC1, r0x05
02BE CFE4 F000 01048         MOVFF   PREINC1, r0x04
02C2 C000 FFE5 01049         MOVFF   r0x04, POSTDEC1
02C6 C000 FFE5 01050         MOVFF   r0x05, POSTDEC1
02CA C000 FFE5 01051         MOVFF   r0x06, POSTDEC1
02CE 0E02      01052         MOVLW   0x02
02D0 CFDB F000 01053         MOVFF   PLUSW2, r0x04
02D4 0E03      01054         MOVLW   0x03
02D6 CFDB F000 01055         MOVFF   PLUSW2, r0x05
02DA 0E04      01056         MOVLW   0x04
02DC CFDB F000 01057         MOVFF   PLUSW2, r0x06
02E0 5000      01058         MOVF    r0x06, W
02E2 6EE5      01059         MOVWF   POSTDEC1
02E4 5000      01060         MOVF    r0x05, W
02E6 6EE5      01061         MOVWF   POSTDEC1
02E8 5000      01062         MOVF    r0x04, W
02EA 6EE5      01063         MOVWF   POSTDEC1
02EC CFE4 F000 01064         MOVFF   PREINC1, r0x06
02F0 CFE4 F000 01065         MOVFF   PREINC1, r0x05
02F4 CFE4 F000 01066         MOVFF   PREINC1, r0x04
02F8 EC00 F000 01067         CALL    _CDCprintf
02FC 0E03      01068         MOVLW   0x03
02FE 26E1      01069         ADDWF   FSR1L, F
0300 01070 _01041_DS_:
               01071 ;       .line   102; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c   va_end(args);
0300 CFE4 F000 01072         MOVFF   PREINC1, r0x02
0304 CFE4 F000 01073         MOVFF   PREINC1, r0x01
0308 CFE4 F000 01074         MOVFF   PREINC1, r0x00
030C CFE4 FFD9 01075         MOVFF   PREINC1, FSR2L
0310 0012      01076         RETURN  
               01077 
               01078 ; ; Starting pCode block
               01079 S_main__CDCprintf       code
0000 01080 _CDCprintf:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01081 ;       .line   51; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    void CDCprintf(const u8 *fmt, ...)
0000 CFD9 FFE5 01082         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01083         MOVFF   FSR1L, FSR2L
0008 0E50      01084         MOVLW   0x50
000A 5EE1      01085         SUBWF   FSR1L, F
000C A0D8      01086         BTFSS   STATUS, 0
000E 06E2      01087         DECF    FSR1H, F
0010 C000 FFE5 01088         MOVFF   r0x00, POSTDEC1
0014 C000 FFE5 01089         MOVFF   r0x01, POSTDEC1
0018 C000 FFE5 01090         MOVFF   r0x03, POSTDEC1
001C C000 FFE5 01091         MOVFF   r0x04, POSTDEC1
0020 C000 FFE5 01092         MOVFF   r0x05, POSTDEC1
0024 C000 FFE5 01093         MOVFF   r0x06, POSTDEC1
               01094 ;       .line   58; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    va_start(args, fmt);
0028 0E02      01095         MOVLW   0x02
002A 24D9      01096         ADDWF   FSR2L, W
002C 6E00      01097         MOVWF   r0x00
002E 0E00      01098         MOVLW   0x00
0030 20DA      01099         ADDWFC  FSR2H, W
0032 6E00      01100         MOVWF   r0x01
0034 0E03      01101         MOVLW   0x03
0036 2600      01102         ADDWF   r0x00, F
0038 B0D8      01103         BTFSC   STATUS, 0
003A 2A00      01104         INCF    r0x01, F
               01105 ; #     MOVF    r0x01, W
               01106 ; #     MOVWF   r0x01
               01107 ; #     MOVF    r0x01, W
               01108 ; #     MOVF    r0x00, W
               01109 ; #     MOVF    r0x00, W
               01110 ; #     MOVWF   r0x00
               01111 ;       .line   61; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    length = psprintf2(buffer, fmt, args);
003C 0EB1      01112         MOVLW   0xb1
003E 24D9      01113         ADDWF   FSR2L, W
0040 6E00      01114         MOVWF   r0x03
0042 0EFF      01115         MOVLW   0xff
0044 20DA      01116         ADDWFC  FSR2H, W
               01117 ; #     MOVWF   r0x04
               01118 ; #     MOVF    r0x04, W
0046 6E00      01119         MOVWF   r0x04
0048 6E00      01120         MOVWF   r0x06
004A 5000      01121         MOVF    r0x03, W
004C 6E00      01122         MOVWF   r0x05
004E 0E80      01123         MOVLW   0x80
0050 6EE5      01124         MOVWF   POSTDEC1
0052 5000      01125         MOVF    r0x01, W
0054 6EE5      01126         MOVWF   POSTDEC1
0056 5000      01127         MOVF    r0x00, W
0058 6EE5      01128         MOVWF   POSTDEC1
005A 0E04      01129         MOVLW   0x04
005C CFDB FFE5 01130         MOVFF   PLUSW2, POSTDEC1
0060 0E03      01131         MOVLW   0x03
0062 CFDB FFE5 01132         MOVFF   PLUSW2, POSTDEC1
0066 0E02      01133         MOVLW   0x02
0068 CFDB FFE5 01134         MOVFF   PLUSW2, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
006C 0E80      01135         MOVLW   0x80
006E 6EE5      01136         MOVWF   POSTDEC1
0070 5000      01137         MOVF    r0x06, W
0072 6EE5      01138         MOVWF   POSTDEC1
0074 5000      01139         MOVF    r0x05, W
0076 6EE5      01140         MOVWF   POSTDEC1
0078 EC00 F000 01141         CALL    _psprintf2
007C 6E00      01142         MOVWF   r0x00
007E 0E09      01143         MOVLW   0x09
0080 26E1      01144         ADDWF   FSR1L, F
               01145 ; #     MOVF    r0x04, W
               01146 ; #     MOVWF   r0x04
               01147 ; #     MOVF    r0x04, W
               01148 ; #     MOVF    r0x03, W
               01149 ; #     MOVF    r0x03, W
               01150 ; #     MOVWF   r0x03
               01151 ;       .line   62; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCputs(buffer,length);
0082 5000      01152         MOVF    r0x00, W
0084 6EE5      01153         MOVWF   POSTDEC1
0086 0E80      01154         MOVLW   0x80
0088 6EE5      01155         MOVWF   POSTDEC1
008A 5000      01156         MOVF    r0x04, W
008C 6EE5      01157         MOVWF   POSTDEC1
008E 5000      01158         MOVF    r0x03, W
0090 6EE5      01159         MOVWF   POSTDEC1
0092 EC00 F000 01160         CALL    _CDCputs
0096 0E04      01161         MOVLW   0x04
0098 26E1      01162         ADDWF   FSR1L, F
               01163 ;       .line   63; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    va_end(args);
009A CFE4 F000 01164         MOVFF   PREINC1, r0x06
009E CFE4 F000 01165         MOVFF   PREINC1, r0x05
00A2 CFE4 F000 01166         MOVFF   PREINC1, r0x04
00A6 CFE4 F000 01167         MOVFF   PREINC1, r0x03
00AA CFE4 F000 01168         MOVFF   PREINC1, r0x01
00AE CFE4 F000 01169         MOVFF   PREINC1, r0x00
00B2 6EE6      01170         MOVWF   POSTINC1
00B4 0E4F      01171         MOVLW   0x4f
00B6 26E1      01172         ADDWF   FSR1L, F
00B8 B0D8      01173         BTFSC   STATUS, 0
00BA 2AE2      01174         INCF    FSR1H, F
00BC 1EE8      01175         COMF    WREG, F
00BE 50E3      01176         MOVF    PLUSW1, W
00C0 CFE4 FFD9 01177         MOVFF   PREINC1, FSR2L
00C4 0012      01178         RETURN  
               01179 
               01180 ; ; Starting pCode block
               01181 S_main__CDCwrite        code
0000 01182 _CDCwrite:
               01183 ;       .line   45; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    void CDCwrite(u8 c)
0000 CFD9 FFE5 01184         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01185         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 01186         MOVFF   r0x00, POSTDEC1
000C 0E02      01187         MOVLW   0x02
000E CFDB F000 01188         MOVFF   PLUSW2, r0x00
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01189 ; #     MOVF    r0x00, W
               01190 ; #     MOVWF   r0x00
               01191 ;       .line   47; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    CDCputs(c, 1);
0012 0E01      01192         MOVLW   0x01
0014 6EE5      01193         MOVWF   POSTDEC1
0016 0E80      01194         MOVLW   0x80
0018 6EE5      01195         MOVWF   POSTDEC1
001A 6AE5      01196         CLRF    POSTDEC1
001C 5000      01197         MOVF    r0x00, W
001E 6EE5      01198         MOVWF   POSTDEC1
0020 EC00 F000 01199         CALL    _CDCputs
0024 0E04      01200         MOVLW   0x04
0026 26E1      01201         ADDWF   FSR1L, F
0028 CFE4 F000 01202         MOVFF   PREINC1, r0x00
002C CFE4 FFD9 01203         MOVFF   PREINC1, FSR2L
0030 0012      01204         RETURN  
               01205 
               01206 ; ; Starting pCode block
               01207 S_main__CDC_init        code
0000 01208 _CDC_init:
               01209 ;       .line   20; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    INTCON=0;
0000 6A00      01210         CLRF    _INTCON
               01211 ;       .line   21; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    INTCON2=0xC0;
0002 0EC0      01212         MOVLW   0xc0
0004 6E00      01213         MOVWF   _INTCON2
               01214 ;       .line   22; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    UCON=0;
0006 6A00      01215         CLRF    _UCON
               01216 ;       .line   23; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    UCFG=0;
0008 6A00      01217         CLRF    _UCFG
               01218 ;       .line   24; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    UEP0=0;UEP1=0;UEP2=0;UEP3=0;UEP4=0;UEP5=0;
000A 6A00      01219         CLRF    _UEP0
000C 6A00      01220         CLRF    _UEP1
000E 6A00      01221         CLRF    _UEP2
0010 6A00      01222         CLRF    _UEP3
0012 6A00      01223         CLRF    _UEP4
0014 6A00      01224         CLRF    _UEP5
               01225 ;       .line   25; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    UEP6=0;UEP7=0;UEP8=0;UEP9=0;UEP10=0;UEP11=0;
0016 6A00      01226         CLRF    _UEP6
0018 6A00      01227         CLRF    _UEP7
001A 6A00      01228         CLRF    _UEP8
001C 6A00      01229         CLRF    _UEP9
001E 6A00      01230         CLRF    _UEP10
0020 6A00      01231         CLRF    _UEP11
               01232 ;       .line   26; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    UEP12=0;UEP13=0;UEP14=0;UEP15=0;
0022 6A00      01233         CLRF    _UEP12
0024 6A00      01234         CLRF    _UEP13
0026 6A00      01235         CLRF    _UEP14
0028 6A00      01236         CLRF    _UEP15
               01237 ;       .line   28; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    Delayms(2000);
002A 6AE5      01238         CLRF    POSTDEC1
002C 6AE5      01239         CLRF    POSTDEC1
002E 0E07      01240         MOVLW   0x07
0030 6EE5      01241         MOVWF   POSTDEC1
0032 0ED0      01242         MOVLW   0xd0
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0034 6EE5      01243         MOVWF   POSTDEC1
0036 EC00 F000 01244         CALL    _Delayms
003A 0E04      01245         MOVLW   0x04
003C 26E1      01246         ADDWF   FSR1L, F
               01247 ;       .line   30; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    UCFG = 0x14;                            // Enable pullup resistors; full speed mode
003E 0E14      01248         MOVLW   0x14
0040 6E00      01249         MOVWF   _UCFG
0042 0000      01250         BANKSEL _deviceState
               01251 ;       .line   31; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    deviceState = DETACHED;
0044 6B00      01252         CLRF    _deviceState, B
0046 0000      01253         BANKSEL _remoteWakeup
               01254 ;       .line   32; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    remoteWakeup = 0x00;
0048 6B00      01255         CLRF    _remoteWakeup, B
004A 0000      01256         BANKSEL _currentConfiguration
               01257 ;       .line   33; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    currentConfiguration = 0x00;
004C 6B00      01258         CLRF    _currentConfiguration, B
004E 01259 _01010_DS_:
004E 0000      01260         BANKSEL _deviceState
               01261 ;       .line   35; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    while(deviceState != CONFIGURED)
0050 5100      01262         MOVF    _deviceState, W, B
0052 0A05      01263         XORLW   0x05
0054 E000      01264         BZ      _01013_DS_
               01265 ;       .line   37; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    EnableUSBModule();
0056 EC00 F000 01266         CALL    _EnableUSBModule
               01267 ;       .line   38; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/__cdc.c    ProcessUSBTransactions();
005A EC00 F000 01268         CALL    _ProcessUSBTransactions
005E D000      01269         BRA     _01010_DS_
0060 01270 _01013_DS_:
0060 0012      01271         RETURN  
               01272 
               01273 ; ; Starting pCode block
               01274 S_main__psprintf        code
0000 01275 _psprintf:
               01276 ;       .line   463; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 psprintf(u8 *out, const u8 *format, ...)
0000 CFD9 FFE5 01277         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01278         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 01279         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 01280         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 01281         MOVFF   r0x03, POSTDEC1
0014 C000 FFE5 01282         MOVFF   r0x04, POSTDEC1
               01283 ;       .line   467; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        va_start(args, format);
0018 0E05      01284         MOVLW   0x05
001A 24D9      01285         ADDWF   FSR2L, W
001C 6E00      01286         MOVWF   r0x00
001E 0E00      01287         MOVLW   0x00
0020 20DA      01288         ADDWFC  FSR2H, W
0022 6E00      01289         MOVWF   r0x01
0024 0E03      01290         MOVLW   0x03
0026 2600      01291         ADDWF   r0x00, F
0028 B0D8      01292         BTFSC   STATUS, 0
002A 2A00      01293         INCF    r0x01, F
               01294 ; #     MOVF    r0x01, W
               01295 ; #     MOVWF   r0x01
               01296 ; #     MOVF    r0x01, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01297 ; #     MOVF    r0x00, W
               01298 ; #     MOVF    r0x00, W
               01299 ; #     MOVWF   r0x00
               01300 ;       .line   468; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        return pprint(&out, format, args);
002C 0E02      01301         MOVLW   0x02
002E 24D9      01302         ADDWF   FSR2L, W
0030 6E00      01303         MOVWF   r0x03
0032 0E00      01304         MOVLW   0x00
0034 20DA      01305         ADDWFC  FSR2H, W
               01306 ; #     MOVWF   r0x04
               01307 ; #     MOVF    r0x04, W
               01308 ; #     MOVWF   r0x04
               01309 ; #     MOVWF   r0x04
0036 6E00      01310         MOVWF   r0x04
               01311 ; #     MOVF    r0x03, W
               01312 ; #     MOVWF   r0x03
0038 0E80      01313         MOVLW   0x80
003A 6EE5      01314         MOVWF   POSTDEC1
003C 5000      01315         MOVF    r0x01, W
003E 6EE5      01316         MOVWF   POSTDEC1
0040 5000      01317         MOVF    r0x00, W
0042 6EE5      01318         MOVWF   POSTDEC1
0044 0E07      01319         MOVLW   0x07
0046 CFDB FFE5 01320         MOVFF   PLUSW2, POSTDEC1
004A 0E06      01321         MOVLW   0x06
004C CFDB FFE5 01322         MOVFF   PLUSW2, POSTDEC1
0050 0E05      01323         MOVLW   0x05
0052 CFDB FFE5 01324         MOVFF   PLUSW2, POSTDEC1
0056 0E80      01325         MOVLW   0x80
0058 6EE5      01326         MOVWF   POSTDEC1
005A 5000      01327         MOVF    r0x04, W
005C 6EE5      01328         MOVWF   POSTDEC1
005E 5000      01329         MOVF    r0x03, W
0060 6EE5      01330         MOVWF   POSTDEC1
0062 EC00 F000 01331         CALL    _pprint
0066 6E00      01332         MOVWF   r0x00
0068 0E09      01333         MOVLW   0x09
006A 26E1      01334         ADDWF   FSR1L, F
006C 5000      01335         MOVF    r0x00, W
006E CFE4 F000 01336         MOVFF   PREINC1, r0x04
0072 CFE4 F000 01337         MOVFF   PREINC1, r0x03
0076 CFE4 F000 01338         MOVFF   PREINC1, r0x01
007A CFE4 F000 01339         MOVFF   PREINC1, r0x00
007E CFE4 FFD9 01340         MOVFF   PREINC1, FSR2L
0082 0012      01341         RETURN  
               01342 
               01343 ; ; Starting pCode block
               01344 S_main__psprintf2       code
0000 01345 _psprintf2:
               01346 ;       .line   457; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 psprintf2(u8 *out, const u8 *format, va_list args)
0000 CFD9 FFE5 01347         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01348         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 01349         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 01350         MOVFF   r0x01, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0010 C000 FFE5 01351         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 01352         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 01353         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 01354         MOVFF   r0x05, POSTDEC1
0020 0E02      01355         MOVLW   0x02
0022 CFDB F000 01356         MOVFF   PLUSW2, _psprintf2_out_1_1
0026 0E03      01357         MOVLW   0x03
0028 CFDB F000 01358         MOVFF   PLUSW2, (_psprintf2_out_1_1 + 1)
002C 0E04      01359         MOVLW   0x04
002E CFDB F000 01360         MOVFF   PLUSW2, (_psprintf2_out_1_1 + 2)
0032 0E05      01361         MOVLW   0x05
0034 CFDB F000 01362         MOVFF   PLUSW2, r0x00
0038 0E06      01363         MOVLW   0x06
003A CFDB F000 01364         MOVFF   PLUSW2, r0x01
003E 0E07      01365         MOVLW   0x07
0040 CFDB F000 01366         MOVFF   PLUSW2, r0x02
0044 0E08      01367         MOVLW   0x08
0046 CFDB F000 01368         MOVFF   PLUSW2, r0x03
004A 0E09      01369         MOVLW   0x09
004C CFDB F000 01370         MOVFF   PLUSW2, r0x04
0050 0E0A      01371         MOVLW   0x0a
0052 CFDB F000 01372         MOVFF   PLUSW2, r0x05
               01373 ;       .line   459; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        return pprint(&out, format, args);
0056 5000      01374         MOVF    r0x05, W
0058 6EE5      01375         MOVWF   POSTDEC1
005A 5000      01376         MOVF    r0x04, W
005C 6EE5      01377         MOVWF   POSTDEC1
005E 5000      01378         MOVF    r0x03, W
0060 6EE5      01379         MOVWF   POSTDEC1
0062 5000      01380         MOVF    r0x02, W
0064 6EE5      01381         MOVWF   POSTDEC1
0066 5000      01382         MOVF    r0x01, W
0068 6EE5      01383         MOVWF   POSTDEC1
006A 5000      01384         MOVF    r0x00, W
006C 6EE5      01385         MOVWF   POSTDEC1
006E 0E80      01386         MOVLW   0x80
0070 6EE5      01387         MOVWF   POSTDEC1
0072 0E00      01388         MOVLW   HIGH(_psprintf2_out_1_1)
0074 6EE5      01389         MOVWF   POSTDEC1
0076 0E00      01390         MOVLW   LOW(_psprintf2_out_1_1)
0078 6EE5      01391         MOVWF   POSTDEC1
007A EC00 F000 01392         CALL    _pprint
007E 6E00      01393         MOVWF   r0x00
0080 0E09      01394         MOVLW   0x09
0082 26E1      01395         ADDWF   FSR1L, F
0084 5000      01396         MOVF    r0x00, W
0086 CFE4 F000 01397         MOVFF   PREINC1, r0x05
008A CFE4 F000 01398         MOVFF   PREINC1, r0x04
008E CFE4 F000 01399         MOVFF   PREINC1, r0x03
0092 CFE4 F000 01400         MOVFF   PREINC1, r0x02
0096 CFE4 F000 01401         MOVFF   PREINC1, r0x01
009A CFE4 F000 01402         MOVFF   PREINC1, r0x00
009E CFE4 FFD9 01403         MOVFF   PREINC1, FSR2L
00A2 0012      01404         RETURN  
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01405 
               01406 ; ; Starting pCode block
               01407 S_main__pprintf code
0000 01408 _pprintf:
               01409 ;       .line   443; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 pprintf(funcout func, const u8 *format, va_list args)
0000 CFD9 FFE5 01410         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01411         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 01412         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 01413         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 01414         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 01415         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 01416         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 01417         MOVFF   r0x05, POSTDEC1
0020 0E02      01418         MOVLW   0x02
0022 CFDB F000 01419         MOVFF   PLUSW2, _pputchar
0026 0E03      01420         MOVLW   0x03
0028 CFDB F000 01421         MOVFF   PLUSW2, (_pputchar + 1)
002C 0E04      01422         MOVLW   0x04
002E CFDB F000 01423         MOVFF   PLUSW2, (_pputchar + 2)
0032 0E05      01424         MOVLW   0x05
0034 CFDB F000 01425         MOVFF   PLUSW2, r0x00
0038 0E06      01426         MOVLW   0x06
003A CFDB F000 01427         MOVFF   PLUSW2, r0x01
003E 0E07      01428         MOVLW   0x07
0040 CFDB F000 01429         MOVFF   PLUSW2, r0x02
0044 0E08      01430         MOVLW   0x08
0046 CFDB F000 01431         MOVFF   PLUSW2, r0x03
004A 0E09      01432         MOVLW   0x09
004C CFDB F000 01433         MOVFF   PLUSW2, r0x04
0050 0E0A      01434         MOVLW   0x0a
0052 CFDB F000 01435         MOVFF   PLUSW2, r0x05
               01436 ;       .line   449; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        return pprint(0, format, args);
0056 5000      01437         MOVF    r0x05, W
0058 6EE5      01438         MOVWF   POSTDEC1
005A 5000      01439         MOVF    r0x04, W
005C 6EE5      01440         MOVWF   POSTDEC1
005E 5000      01441         MOVF    r0x03, W
0060 6EE5      01442         MOVWF   POSTDEC1
0062 5000      01443         MOVF    r0x02, W
0064 6EE5      01444         MOVWF   POSTDEC1
0066 5000      01445         MOVF    r0x01, W
0068 6EE5      01446         MOVWF   POSTDEC1
006A 5000      01447         MOVF    r0x00, W
006C 6EE5      01448         MOVWF   POSTDEC1
006E 0E00      01449         MOVLW   0x00
0070 6AE5      01450         CLRF    POSTDEC1
0072 6AE5      01451         CLRF    POSTDEC1
0074 6AE5      01452         CLRF    POSTDEC1
0076 EC00 F000 01453         CALL    _pprint
007A 6E00      01454         MOVWF   r0x00
007C 0E09      01455         MOVLW   0x09
007E 26E1      01456         ADDWF   FSR1L, F
0080 5000      01457         MOVF    r0x00, W
0082 CFE4 F000 01458         MOVFF   PREINC1, r0x05
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0086 CFE4 F000 01459         MOVFF   PREINC1, r0x04
008A CFE4 F000 01460         MOVFF   PREINC1, r0x03
008E CFE4 F000 01461         MOVFF   PREINC1, r0x02
0092 CFE4 F000 01462         MOVFF   PREINC1, r0x01
0096 CFE4 F000 01463         MOVFF   PREINC1, r0x00
009A CFE4 FFD9 01464         MOVFF   PREINC1, FSR2L
009E 0012      01465         RETURN  
               01466 
               01467 ; ; Starting pCode block
               01468 S_main__pprint  code
0000 01469 _pprint:
               01470 ;       .line   298; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        static u8 pprint(u8 **out, const u8 *format, va_list args)
0000 CFD9 FFE5 01471         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01472         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 01473         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 01474         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 01475         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 01476         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 01477         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 01478         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 01479         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 01480         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 01481         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 01482         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 01483         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 01484         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 01485         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 01486         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 01487         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 01488         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 01489         MOVFF   r0x10, POSTDEC1
004C C000 FFE5 01490         MOVFF   r0x11, POSTDEC1
0050 C000 FFE5 01491         MOVFF   r0x12, POSTDEC1
0054 C000 FFE5 01492         MOVFF   r0x13, POSTDEC1
0058 C000 FFE5 01493         MOVFF   r0x14, POSTDEC1
005C C000 FFE5 01494         MOVFF   r0x15, POSTDEC1
0060 0E02      01495         MOVLW   0x02
0062 CFDB F000 01496         MOVFF   PLUSW2, r0x00
0066 0E03      01497         MOVLW   0x03
0068 CFDB F000 01498         MOVFF   PLUSW2, r0x01
006C 0E04      01499         MOVLW   0x04
006E CFDB F000 01500         MOVFF   PLUSW2, r0x02
0072 0E05      01501         MOVLW   0x05
0074 CFDB F000 01502         MOVFF   PLUSW2, r0x03
0078 0E06      01503         MOVLW   0x06
007A CFDB F000 01504         MOVFF   PLUSW2, r0x04
007E 0E07      01505         MOVLW   0x07
0080 CFDB F000 01506         MOVFF   PLUSW2, r0x05
0084 0E08      01507         MOVLW   0x08
0086 CFDB F000 01508         MOVFF   PLUSW2, r0x06
008A 0E09      01509         MOVLW   0x09
008C CFDB F000 01510         MOVFF   PLUSW2, r0x07
0090 0E0A      01511         MOVLW   0x0a
0092 CFDB F000 01512         MOVFF   PLUSW2, r0x08
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01513 ;       .line   302; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        register u8 pc = 0;
0096 6A00      01514         CLRF    r0x09
               01515 ;       .line   303; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 precision = 2; // default value is 2 digits fractional part
0098 0E02      01516         MOVLW   0x02
009A 6E00      01517         MOVWF   r0x0a
               01518 ;       .line   306; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 islong = 0;
009C 6A00      01519         CLRF    r0x0b
009E 01520 _00899_DS_:
               01521 ;       .line   308; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        for (; *format != 0; ++format)
009E C000 FFE9 01522         MOVFF   r0x03, FSR0L
00A2 C000 FFF3 01523         MOVFF   r0x04, PRODL
00A6 5000      01524         MOVF    r0x05, W
00A8 EC00 F000 01525         CALL    __gptrget1
00AC 6E00      01526         MOVWF   r0x0c
00AE 5000      01527         MOVF    r0x0c, W
00B0 B4D8      01528         BTFSC   STATUS, 2
00B2 EF00 F000 01529         GOTO    _00902_DS_
               01530 ;       .line   310; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == '%')
00B6 5000      01531         MOVF    r0x0c, W
00B8 0A25      01532         XORLW   0x25
00BA E000      01533         BZ      _00951_DS_
00BC EF00 F000 01534         GOTO    _00895_DS_
00C0 01535 _00951_DS_:
               01536 ;       .line   312; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        width = pad = 0;                // default is left justify, no zero padded
00C0 6A00      01537         CLRF    r0x0c
00C2 6A00      01538         CLRF    r0x0d
               01539 ;       .line   313; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        ++format;                               // get the next format identifier
00C4 2A00      01540         INCF    r0x03, F
00C6 B0D8      01541         BTFSC   STATUS, 0
00C8 2A00      01542         INCF    r0x04, F
00CA B0D8      01543         BTFSC   STATUS, 0
00CC 2A00      01544         INCF    r0x05, F
               01545 ;       .line   315; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == '\0')    // end of line
00CE C000 FFE9 01546         MOVFF   r0x03, FSR0L
00D2 C000 FFF3 01547         MOVFF   r0x04, PRODL
00D6 5000      01548         MOVF    r0x05, W
00D8 EC00 F000 01549         CALL    __gptrget1
00DC 6E00      01550         MOVWF   r0x0e
00DE 5000      01551         MOVF    r0x0e, W
00E0 B4D8      01552         BTFSC   STATUS, 2
00E2 EF00 F000 01553         GOTO    _00902_DS_
               01554 ;       .line   318; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == '%')             // error
00E6 5000      01555         MOVF    r0x0e, W
00E8 0A25      01556         XORLW   0x25
00EA E100      01557         BNZ     _00953_DS_
00EC EF00 F000 01558         GOTO    _00895_DS_
00F0 01559 _00953_DS_:
               01560 ;       .line   321; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == '-')             // right justify
00F0 5000      01561         MOVF    r0x0e, W
00F2 0A2D      01562         XORLW   0x2d
00F4 E100      01563         BNZ     _00925_DS_
               01564 ;       .line   323; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        ++format;
00F6 2A00      01565         INCF    r0x03, F
00F8 B0D8      01566         BTFSC   STATUS, 0
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00FA 2A00      01567         INCF    r0x04, F
00FC B0D8      01568         BTFSC   STATUS, 0
00FE 2A00      01569         INCF    r0x05, F
               01570 ;       .line   324; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pad = PAD_RIGHT;
0100 0E01      01571         MOVLW   0x01
0102 6E00      01572         MOVWF   r0x0c
0104 01573 _00925_DS_:
               01574 ;       .line   327; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        while (*format == '0')  // field is padded with 0's instead of blanks
0104 C000 F000 01575         MOVFF   r0x03, r0x0e
0108 C000 F000 01576         MOVFF   r0x04, r0x0f
010C C000 F000 01577         MOVFF   r0x05, r0x10
0110 01578 _00864_DS_:
0110 C000 FFE9 01579         MOVFF   r0x0e, FSR0L
0114 C000 FFF3 01580         MOVFF   r0x0f, PRODL
0118 5000      01581         MOVF    r0x10, W
011A EC00 F000 01582         CALL    __gptrget1
               01583 ; #     MOVWF   r0x11
               01584 ; #     MOVF    r0x11, W
011E 0A30      01585         XORLW   0x30
0120 E100      01586         BNZ     _00906_DS_
               01587 ;       .line   329; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        ++format;
0122 2A00      01588         INCF    r0x0e, F
0124 B0D8      01589         BTFSC   STATUS, 0
0126 2A00      01590         INCF    r0x0f, F
0128 B0D8      01591         BTFSC   STATUS, 0
012A 2A00      01592         INCF    r0x10, F
               01593 ;       .line   330; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pad |= PAD_ZERO;
012C 8200      01594         BSF     r0x0c, 1
012E D000      01595         BRA     _00864_DS_
0130 01596 _00906_DS_:
               01597 ;       .line   333; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        for ( ; *format >= '0' && *format <= '9'; ++format)
0130 C000 FFE9 01598         MOVFF   r0x0e, FSR0L
0134 C000 FFF3 01599         MOVFF   r0x0f, PRODL
0138 5000      01600         MOVF    r0x10, W
013A EC00 F000 01601         CALL    __gptrget1
013E 6E00      01602         MOVWF   r0x11
0140 0E30      01603         MOVLW   0x30
0142 5C00      01604         SUBWF   r0x11, W
0144 E300      01605         BNC     _00948_DS_
0146 0E3A      01606         MOVLW   0x3a
0148 5C00      01607         SUBWF   r0x11, W
014A E200      01608         BC      _00948_DS_
               01609 ; ;multiply lit val:0x0a by variable r0x0d and store in r0x0d
               01610 ; ;Unrolled 8 X 8 multiplication
               01611 ; ;FIXME: the function does not support result==WREG
               01612 ;       .line   335; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        width *= 10;
014C 5000      01613         MOVF    r0x0d, W
014E 0D0A      01614         MULLW   0x0a
0150 CFF3 F000 01615         MOVFF   PRODL, r0x0d
               01616 ;       .line   336; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        width += *format - '0';
0154 0ED0      01617         MOVLW   0xd0
0156 2600      01618         ADDWF   r0x11, F
0158 5000      01619         MOVF    r0x11, W
015A 2600      01620         ADDWF   r0x0d, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01621 ;       .line   333; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        for ( ; *format >= '0' && *format <= '9'; ++format)
015C 2A00      01622         INCF    r0x0e, F
015E B0D8      01623         BTFSC   STATUS, 0
0160 2A00      01624         INCF    r0x0f, F
0162 B0D8      01625         BTFSC   STATUS, 0
0164 2A00      01626         INCF    r0x10, F
0166 D000      01627         BRA     _00906_DS_
0168 01628 _00948_DS_:
0168 C000 F000 01629         MOVFF   r0x0e, r0x03
016C C000 F000 01630         MOVFF   r0x0f, r0x04
0170 C000 F000 01631         MOVFF   r0x10, r0x05
               01632 ;       .line   346; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == '.')             // float precision
0174 C000 FFE9 01633         MOVFF   r0x0e, FSR0L
0178 C000 FFF3 01634         MOVFF   r0x0f, PRODL
017C 5000      01635         MOVF    r0x10, W
017E EC00 F000 01636         CALL    __gptrget1
               01637 ; #     MOVWF   r0x11
               01638 ; #     MOVF    r0x11, W
0182 0A2E      01639         XORLW   0x2e
0184 E100      01640         BNZ     _00932_DS_
               01641 ;       .line   348; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        ++format;
0186 5000      01642         MOVF    r0x0e, W
0188 0F01      01643         ADDLW   0x01
018A 6E00      01644         MOVWF   r0x03
018C 0E00      01645         MOVLW   0x00
018E 2000      01646         ADDWFC  r0x0f, W
0190 6E00      01647         MOVWF   r0x04
0192 0E00      01648         MOVLW   0x00
0194 2000      01649         ADDWFC  r0x10, W
0196 6E00      01650         MOVWF   r0x05
               01651 ;       .line   349; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        precision = 0;
0198 6A00      01652         CLRF    r0x0a
019A 01653 _00932_DS_:
019A C000 F000 01654         MOVFF   r0x03, r0x0e
019E C000 F000 01655         MOVFF   r0x04, r0x0f
01A2 C000 F000 01656         MOVFF   r0x05, r0x10
01A6 01657 _00911_DS_:
               01658 ;       .line   352; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        for ( ; *format >= '0' && *format <= '9'; ++format)
01A6 C000 FFE9 01659         MOVFF   r0x0e, FSR0L
01AA C000 FFF3 01660         MOVFF   r0x0f, PRODL
01AE 5000      01661         MOVF    r0x10, W
01B0 EC00 F000 01662         CALL    __gptrget1
01B4 6E00      01663         MOVWF   r0x11
01B6 0E30      01664         MOVLW   0x30
01B8 5C00      01665         SUBWF   r0x11, W
01BA E300      01666         BNC     _00949_DS_
01BC 0E3A      01667         MOVLW   0x3a
01BE 5C00      01668         SUBWF   r0x11, W
01C0 E200      01669         BC      _00949_DS_
               01670 ; ;multiply lit val:0x0a by variable r0x0a and store in r0x0a
               01671 ; ;Unrolled 8 X 8 multiplication
               01672 ; ;FIXME: the function does not support result==WREG
               01673 ;       .line   354; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        precision *= 10;
01C2 5000      01674         MOVF    r0x0a, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01C4 0D0A      01675         MULLW   0x0a
01C6 CFF3 F000 01676         MOVFF   PRODL, r0x0a
               01677 ;       .line   355; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        precision += *format - '0';
01CA 0ED0      01678         MOVLW   0xd0
01CC 2600      01679         ADDWF   r0x11, F
01CE 5000      01680         MOVF    r0x11, W
01D0 2600      01681         ADDWF   r0x0a, F
               01682 ;       .line   352; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        for ( ; *format >= '0' && *format <= '9'; ++format)
01D2 2A00      01683         INCF    r0x0e, F
01D4 B0D8      01684         BTFSC   STATUS, 0
01D6 2A00      01685         INCF    r0x0f, F
01D8 B0D8      01686         BTFSC   STATUS, 0
01DA 2A00      01687         INCF    r0x10, F
01DC D000      01688         BRA     _00911_DS_
01DE 01689 _00949_DS_:
01DE C000 F000 01690         MOVFF   r0x0e, r0x03
01E2 C000 F000 01691         MOVFF   r0x0f, r0x04
01E6 C000 F000 01692         MOVFF   r0x10, r0x05
               01693 ;       .line   358; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'f')     // float
01EA C000 FFE9 01694         MOVFF   r0x0e, FSR0L
01EE C000 FFF3 01695         MOVFF   r0x0f, PRODL
01F2 5000      01696         MOVF    r0x10, W
01F4 EC00 F000 01697         CALL    __gptrget1
               01698 ; #     MOVWF   r0x11
               01699 ; #     MOVF    r0x11, W
01F8 6E00      01700         MOVWF   r0x11
01FA 0A66      01701         XORLW   0x66
01FC E000      01702         BZ      _00966_DS_
01FE D000      01703         BRA     _00870_DS_
0200 01704 _00966_DS_:
               01705 ;       .line   360; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprintfl(out, va_arg(args, float), width, pad, separator, precision);
0200 5000      01706         MOVF    r0x06, W
0202 0F04      01707         ADDLW   0x04
0204 6E00      01708         MOVWF   r0x12
0206 0E00      01709         MOVLW   0x00
0208 2000      01710         ADDWFC  r0x07, W
020A 6E00      01711         MOVWF   r0x13
020C 0E00      01712         MOVLW   0x00
020E 2000      01713         ADDWFC  r0x08, W
0210 6E00      01714         MOVWF   r0x14
0212 C000 F000 01715         MOVFF   r0x12, r0x06
0216 C000 F000 01716         MOVFF   r0x13, r0x07
021A C000 F000 01717         MOVFF   r0x14, r0x08
021E 0EFC      01718         MOVLW   0xfc
0220 2600      01719         ADDWF   r0x12, F
0222 0EFF      01720         MOVLW   0xff
0224 2200      01721         ADDWFC  r0x13, F
0226 2200      01722         ADDWFC  r0x14, F
0228 C000 FFE9 01723         MOVFF   r0x12, FSR0L
022C C000 FFF3 01724         MOVFF   r0x13, PRODL
0230 5000      01725         MOVF    r0x14, W
0232 EC00 F000 01726         CALL    __gptrget4
0236 6E00      01727         MOVWF   r0x12
0238 CFF3 F000 01728         MOVFF   PRODL, r0x13
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
023C CFF4 F000 01729         MOVFF   PRODH, r0x14
0240 CFE9 F000 01730         MOVFF   FSR0L, r0x15
0244 5000      01731         MOVF    r0x0a, W
0246 6EE5      01732         MOVWF   POSTDEC1
0248 6AE5      01733         CLRF    POSTDEC1
024A 5000      01734         MOVF    r0x0c, W
024C 6EE5      01735         MOVWF   POSTDEC1
024E 5000      01736         MOVF    r0x0d, W
0250 6EE5      01737         MOVWF   POSTDEC1
0252 5000      01738         MOVF    r0x15, W
0254 6EE5      01739         MOVWF   POSTDEC1
0256 5000      01740         MOVF    r0x14, W
0258 6EE5      01741         MOVWF   POSTDEC1
025A 5000      01742         MOVF    r0x13, W
025C 6EE5      01743         MOVWF   POSTDEC1
025E 5000      01744         MOVF    r0x12, W
0260 6EE5      01745         MOVWF   POSTDEC1
0262 5000      01746         MOVF    r0x02, W
0264 6EE5      01747         MOVWF   POSTDEC1
0266 5000      01748         MOVF    r0x01, W
0268 6EE5      01749         MOVWF   POSTDEC1
026A 5000      01750         MOVF    r0x00, W
026C 6EE5      01751         MOVWF   POSTDEC1
026E EC00 F000 01752         CALL    _pprintfl
0272 6E00      01753         MOVWF   r0x12
0274 0E0B      01754         MOVLW   0x0b
0276 26E1      01755         ADDWF   FSR1L, F
0278 5000      01756         MOVF    r0x12, W
027A 2600      01757         ADDWF   r0x09, F
               01758 ;       .line   361; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
027C D000      01759         BRA     _00901_DS_
027E 01760 _00870_DS_:
               01761 ;       .line   364; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 's')             // string
027E 5000      01762         MOVF    r0x11, W
0280 0A73      01763         XORLW   0x73
0282 E000      01764         BZ      _00968_DS_
0284 D000      01765         BRA     _00872_DS_
0286 01766 _00968_DS_:
               01767 ;       .line   366; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 *s = va_arg(args, u8*);
0286 5000      01768         MOVF    r0x06, W
0288 0F03      01769         ADDLW   0x03
028A 6E00      01770         MOVWF   r0x12
028C 0E00      01771         MOVLW   0x00
028E 2000      01772         ADDWFC  r0x07, W
0290 6E00      01773         MOVWF   r0x13
0292 0E00      01774         MOVLW   0x00
0294 2000      01775         ADDWFC  r0x08, W
0296 6E00      01776         MOVWF   r0x14
0298 C000 F000 01777         MOVFF   r0x12, r0x06
029C C000 F000 01778         MOVFF   r0x13, r0x07
02A0 C000 F000 01779         MOVFF   r0x14, r0x08
02A4 0EFD      01780         MOVLW   0xfd
02A6 2600      01781         ADDWF   r0x12, F
02A8 0EFF      01782         MOVLW   0xff
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02AA 2200      01783         ADDWFC  r0x13, F
02AC 2200      01784         ADDWFC  r0x14, F
02AE C000 FFE9 01785         MOVFF   r0x12, FSR0L
02B2 C000 FFF3 01786         MOVFF   r0x13, PRODL
02B6 5000      01787         MOVF    r0x14, W
02B8 EC00 F000 01788         CALL    __gptrget3
02BC 6E00      01789         MOVWF   r0x12
02BE CFF3 F000 01790         MOVFF   PRODL, r0x13
02C2 CFF4 F000 01791         MOVFF   PRODH, r0x14
               01792 ;       .line   367; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprints(out, s?s:"(null)", width, pad);
02C6 1000      01793         IORWF   r0x13, W
               01794 ; #     IORWF   r0x14, W
               01795 ; #     BTFSC   STATUS, 2
               01796 ; #     GOTO    _00917_DS_
               01797 ; #     GOTO    _00918_DS_
               01798 ; #     MOVLW   LOW(__str_0)
02C8 1000      01799         IORWF   r0x14, W
02CA E100      01800         BNZ     _00918_DS_
02CC 0E00      01801         MOVLW   LOW(__str_0)
02CE 6E00      01802         MOVWF   r0x12
02D0 0E00      01803         MOVLW   HIGH(__str_0)
02D2 6E00      01804         MOVWF   r0x13
02D4 0E00      01805         MOVLW   UPPER(__str_0)
02D6 6E00      01806         MOVWF   r0x14
02D8 01807 _00918_DS_:
02D8 5000      01808         MOVF    r0x0c, W
02DA 6EE5      01809         MOVWF   POSTDEC1
02DC 5000      01810         MOVF    r0x0d, W
02DE 6EE5      01811         MOVWF   POSTDEC1
02E0 5000      01812         MOVF    r0x14, W
02E2 6EE5      01813         MOVWF   POSTDEC1
02E4 5000      01814         MOVF    r0x13, W
02E6 6EE5      01815         MOVWF   POSTDEC1
02E8 5000      01816         MOVF    r0x12, W
02EA 6EE5      01817         MOVWF   POSTDEC1
02EC 5000      01818         MOVF    r0x02, W
02EE 6EE5      01819         MOVWF   POSTDEC1
02F0 5000      01820         MOVF    r0x01, W
02F2 6EE5      01821         MOVWF   POSTDEC1
02F4 5000      01822         MOVF    r0x00, W
02F6 6EE5      01823         MOVWF   POSTDEC1
02F8 EC00 F000 01824         CALL    _pprints
02FC 6E00      01825         MOVWF   r0x12
02FE 0E08      01826         MOVLW   0x08
0300 26E1      01827         ADDWF   FSR1L, F
0302 5000      01828         MOVF    r0x12, W
0304 2600      01829         ADDWF   r0x09, F
               01830 ;       .line   368; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
0306 D000      01831         BRA     _00901_DS_
0308 01832 _00872_DS_:
               01833 ;       .line   371; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'l')             // long support
0308 5000      01834         MOVF    r0x11, W
030A 0A6C      01835         XORLW   0x6c
030C E100      01836         BNZ     _00874_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01837 ;       .line   373; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        ++format;
030E 5000      01838         MOVF    r0x0e, W
0310 0F01      01839         ADDLW   0x01
0312 6E00      01840         MOVWF   r0x03
0314 0E00      01841         MOVLW   0x00
0316 2000      01842         ADDWFC  r0x0f, W
0318 6E00      01843         MOVWF   r0x04
031A 0E00      01844         MOVLW   0x00
031C 2000      01845         ADDWFC  r0x10, W
031E 6E00      01846         MOVWF   r0x05
               01847 ;       .line   374; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        islong = 1;
0320 0E01      01848         MOVLW   0x01
0322 6E00      01849         MOVWF   r0x0b
0324 01850 _00874_DS_:
               01851 ;       .line   377; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (islong)
0324 5000      01852         MOVF    r0x0b, W
0326 E000      01853         BZ      _00876_DS_
               01854 ;       .line   378; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        val = va_arg(args, u32);
0328 5000      01855         MOVF    r0x06, W
032A 0F04      01856         ADDLW   0x04
032C 6E00      01857         MOVWF   r0x0e
032E 0E00      01858         MOVLW   0x00
0330 2000      01859         ADDWFC  r0x07, W
0332 6E00      01860         MOVWF   r0x0f
0334 0E00      01861         MOVLW   0x00
0336 2000      01862         ADDWFC  r0x08, W
0338 6E00      01863         MOVWF   r0x10
033A C000 F000 01864         MOVFF   r0x0e, r0x06
033E C000 F000 01865         MOVFF   r0x0f, r0x07
0342 C000 F000 01866         MOVFF   r0x10, r0x08
0346 0EFC      01867         MOVLW   0xfc
0348 2600      01868         ADDWF   r0x0e, F
034A 0EFF      01869         MOVLW   0xff
034C 2200      01870         ADDWFC  r0x0f, F
034E 2200      01871         ADDWFC  r0x10, F
0350 C000 FFE9 01872         MOVFF   r0x0e, FSR0L
0354 C000 FFF3 01873         MOVFF   r0x0f, PRODL
0358 5000      01874         MOVF    r0x10, W
035A EC00 F000 01875         CALL    __gptrget4
035E 6E00      01876         MOVWF   r0x0e
0360 CFF3 F000 01877         MOVFF   PRODL, r0x0f
0364 CFF4 F000 01878         MOVFF   PRODH, r0x10
0368 CFE9 F000 01879         MOVFF   FSR0L, r0x11
036C D000      01880         BRA     _00877_DS_
036E 01881 _00876_DS_:
               01882 ;       .line   380; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        val = (u32)va_arg(args, u16);
036E 5000      01883         MOVF    r0x06, W
0370 0F02      01884         ADDLW   0x02
0372 6E00      01885         MOVWF   r0x12
0374 0E00      01886         MOVLW   0x00
0376 2000      01887         ADDWFC  r0x07, W
0378 6E00      01888         MOVWF   r0x13
037A 0E00      01889         MOVLW   0x00
037C 2000      01890         ADDWFC  r0x08, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
037E 6E00      01891         MOVWF   r0x14
0380 C000 F000 01892         MOVFF   r0x12, r0x06
0384 C000 F000 01893         MOVFF   r0x13, r0x07
0388 C000 F000 01894         MOVFF   r0x14, r0x08
038C 0EFE      01895         MOVLW   0xfe
038E 2600      01896         ADDWF   r0x12, F
0390 0EFF      01897         MOVLW   0xff
0392 2200      01898         ADDWFC  r0x13, F
0394 2200      01899         ADDWFC  r0x14, F
0396 C000 FFE9 01900         MOVFF   r0x12, FSR0L
039A C000 FFF3 01901         MOVFF   r0x13, PRODL
039E 5000      01902         MOVF    r0x14, W
03A0 EC00 F000 01903         CALL    __gptrget2
03A4 6E00      01904         MOVWF   r0x12
03A6 CFF3 F000 01905         MOVFF   PRODL, r0x13
03AA C000 F000 01906         MOVFF   r0x12, r0x0e
03AE C000 F000 01907         MOVFF   r0x13, r0x0f
03B2 6A00      01908         CLRF    r0x10
03B4 6A00      01909         CLRF    r0x11
03B6 01910 _00877_DS_:
               01911 ;       .line   382; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'u')             // unsigned integer
03B6 C000 FFE9 01912         MOVFF   r0x03, FSR0L
03BA C000 FFF3 01913         MOVFF   r0x04, PRODL
03BE 5000      01914         MOVF    r0x05, W
03C0 EC00 F000 01915         CALL    __gptrget1
               01916 ; #     MOVWF   r0x12
               01917 ; #     MOVF    r0x12, W
03C4 6E00      01918         MOVWF   r0x12
03C6 0A75      01919         XORLW   0x75
03C8 E100      01920         BNZ     _00879_DS_
               01921 ;       .line   384; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprinti(out, val, 10, 0, width, pad, separator, 'a');
03CA 0E61      01922         MOVLW   0x61
03CC 6EE5      01923         MOVWF   POSTDEC1
03CE 6AE5      01924         CLRF    POSTDEC1
03D0 5000      01925         MOVF    r0x0c, W
03D2 6EE5      01926         MOVWF   POSTDEC1
03D4 5000      01927         MOVF    r0x0d, W
03D6 6EE5      01928         MOVWF   POSTDEC1
03D8 6AE5      01929         CLRF    POSTDEC1
03DA 0E0A      01930         MOVLW   0x0a
03DC 6EE5      01931         MOVWF   POSTDEC1
03DE 5000      01932         MOVF    r0x11, W
03E0 6EE5      01933         MOVWF   POSTDEC1
03E2 5000      01934         MOVF    r0x10, W
03E4 6EE5      01935         MOVWF   POSTDEC1
03E6 5000      01936         MOVF    r0x0f, W
03E8 6EE5      01937         MOVWF   POSTDEC1
03EA 5000      01938         MOVF    r0x0e, W
03EC 6EE5      01939         MOVWF   POSTDEC1
03EE 5000      01940         MOVF    r0x02, W
03F0 6EE5      01941         MOVWF   POSTDEC1
03F2 5000      01942         MOVF    r0x01, W
03F4 6EE5      01943         MOVWF   POSTDEC1
03F6 5000      01944         MOVF    r0x00, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
03F8 6EE5      01945         MOVWF   POSTDEC1
03FA EC00 F000 01946         CALL    _pprinti
03FE 6E00      01947         MOVWF   r0x13
0400 0E0D      01948         MOVLW   0x0d
0402 26E1      01949         ADDWF   FSR1L, F
0404 5000      01950         MOVF    r0x13, W
0406 2600      01951         ADDWF   r0x09, F
               01952 ;       .line   385; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
0408 D000      01953         BRA     _00901_DS_
040A 01954 _00879_DS_:
               01955 ;       .line   388; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'd' || *format == 'i')           // decimal signed integer
040A 5000      01956         MOVF    r0x12, W
040C 0A64      01957         XORLW   0x64
040E E000      01958         BZ      _00880_DS_
0410 5000      01959         MOVF    r0x12, W
0412 0A69      01960         XORLW   0x69
0414 E100      01961         BNZ     _00881_DS_
0416 01962 _00880_DS_:
               01963 ;       .line   390; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprinti(out, val, 10, 1, width, pad, separator, 'a');
0416 0E61      01964         MOVLW   0x61
0418 6EE5      01965         MOVWF   POSTDEC1
041A 6AE5      01966         CLRF    POSTDEC1
041C 5000      01967         MOVF    r0x0c, W
041E 6EE5      01968         MOVWF   POSTDEC1
0420 5000      01969         MOVF    r0x0d, W
0422 6EE5      01970         MOVWF   POSTDEC1
0424 0E01      01971         MOVLW   0x01
0426 6EE5      01972         MOVWF   POSTDEC1
0428 0E0A      01973         MOVLW   0x0a
042A 6EE5      01974         MOVWF   POSTDEC1
042C 5000      01975         MOVF    r0x11, W
042E 6EE5      01976         MOVWF   POSTDEC1
0430 5000      01977         MOVF    r0x10, W
0432 6EE5      01978         MOVWF   POSTDEC1
0434 5000      01979         MOVF    r0x0f, W
0436 6EE5      01980         MOVWF   POSTDEC1
0438 5000      01981         MOVF    r0x0e, W
043A 6EE5      01982         MOVWF   POSTDEC1
043C 5000      01983         MOVF    r0x02, W
043E 6EE5      01984         MOVWF   POSTDEC1
0440 5000      01985         MOVF    r0x01, W
0442 6EE5      01986         MOVWF   POSTDEC1
0444 5000      01987         MOVF    r0x00, W
0446 6EE5      01988         MOVWF   POSTDEC1
0448 EC00 F000 01989         CALL    _pprinti
044C 6E00      01990         MOVWF   r0x13
044E 0E0D      01991         MOVLW   0x0d
0450 26E1      01992         ADDWF   FSR1L, F
0452 5000      01993         MOVF    r0x13, W
0454 2600      01994         ADDWF   r0x09, F
               01995 ;       .line   391; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
0456 D000      01996         BRA     _00901_DS_
0458 01997 _00881_DS_:
               01998 ;       .line   394; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'x' || *format == 'p')   // lower hexa or pointer
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0458 5000      01999         MOVF    r0x12, W
045A 0A78      02000         XORLW   0x78
045C E000      02001         BZ      _00883_DS_
045E 5000      02002         MOVF    r0x12, W
0460 0A70      02003         XORLW   0x70
0462 E100      02004         BNZ     _00884_DS_
0464 02005 _00883_DS_:
               02006 ;       .line   396; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprinti(out, val, 16, 0, width, pad, separator, 'a');
0464 0E61      02007         MOVLW   0x61
0466 6EE5      02008         MOVWF   POSTDEC1
0468 6AE5      02009         CLRF    POSTDEC1
046A 5000      02010         MOVF    r0x0c, W
046C 6EE5      02011         MOVWF   POSTDEC1
046E 5000      02012         MOVF    r0x0d, W
0470 6EE5      02013         MOVWF   POSTDEC1
0472 6AE5      02014         CLRF    POSTDEC1
0474 0E10      02015         MOVLW   0x10
0476 6EE5      02016         MOVWF   POSTDEC1
0478 5000      02017         MOVF    r0x11, W
047A 6EE5      02018         MOVWF   POSTDEC1
047C 5000      02019         MOVF    r0x10, W
047E 6EE5      02020         MOVWF   POSTDEC1
0480 5000      02021         MOVF    r0x0f, W
0482 6EE5      02022         MOVWF   POSTDEC1
0484 5000      02023         MOVF    r0x0e, W
0486 6EE5      02024         MOVWF   POSTDEC1
0488 5000      02025         MOVF    r0x02, W
048A 6EE5      02026         MOVWF   POSTDEC1
048C 5000      02027         MOVF    r0x01, W
048E 6EE5      02028         MOVWF   POSTDEC1
0490 5000      02029         MOVF    r0x00, W
0492 6EE5      02030         MOVWF   POSTDEC1
0494 EC00 F000 02031         CALL    _pprinti
0498 6E00      02032         MOVWF   r0x13
049A 0E0D      02033         MOVLW   0x0d
049C 26E1      02034         ADDWF   FSR1L, F
049E 5000      02035         MOVF    r0x13, W
04A0 2600      02036         ADDWF   r0x09, F
               02037 ;       .line   397; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
04A2 D000      02038         BRA     _00901_DS_
04A4 02039 _00884_DS_:
               02040 ;       .line   400; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'X' || *format == 'P')   // upper hexa or pointer
04A4 5000      02041         MOVF    r0x12, W
04A6 0A58      02042         XORLW   0x58
04A8 E000      02043         BZ      _00886_DS_
04AA 5000      02044         MOVF    r0x12, W
04AC 0A50      02045         XORLW   0x50
04AE E100      02046         BNZ     _00887_DS_
04B0 02047 _00886_DS_:
               02048 ;       .line   402; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprinti(out, val, 16, 0, width, pad, separator, 'A');
04B0 0E41      02049         MOVLW   0x41
04B2 6EE5      02050         MOVWF   POSTDEC1
04B4 6AE5      02051         CLRF    POSTDEC1
04B6 5000      02052         MOVF    r0x0c, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
04B8 6EE5      02053         MOVWF   POSTDEC1
04BA 5000      02054         MOVF    r0x0d, W
04BC 6EE5      02055         MOVWF   POSTDEC1
04BE 6AE5      02056         CLRF    POSTDEC1
04C0 0E10      02057         MOVLW   0x10
04C2 6EE5      02058         MOVWF   POSTDEC1
04C4 5000      02059         MOVF    r0x11, W
04C6 6EE5      02060         MOVWF   POSTDEC1
04C8 5000      02061         MOVF    r0x10, W
04CA 6EE5      02062         MOVWF   POSTDEC1
04CC 5000      02063         MOVF    r0x0f, W
04CE 6EE5      02064         MOVWF   POSTDEC1
04D0 5000      02065         MOVF    r0x0e, W
04D2 6EE5      02066         MOVWF   POSTDEC1
04D4 5000      02067         MOVF    r0x02, W
04D6 6EE5      02068         MOVWF   POSTDEC1
04D8 5000      02069         MOVF    r0x01, W
04DA 6EE5      02070         MOVWF   POSTDEC1
04DC 5000      02071         MOVF    r0x00, W
04DE 6EE5      02072         MOVWF   POSTDEC1
04E0 EC00 F000 02073         CALL    _pprinti
04E4 6E00      02074         MOVWF   r0x13
04E6 0E0D      02075         MOVLW   0x0d
04E8 26E1      02076         ADDWF   FSR1L, F
04EA 5000      02077         MOVF    r0x13, W
04EC 2600      02078         ADDWF   r0x09, F
               02079 ;       .line   403; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
04EE D000      02080         BRA     _00901_DS_
04F0 02081 _00887_DS_:
               02082 ;       .line   406; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'b')             // binary
04F0 5000      02083         MOVF    r0x12, W
04F2 0A62      02084         XORLW   0x62
04F4 E100      02085         BNZ     _00890_DS_
               02086 ;       .line   408; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprinti(out, val, 2, 0, width, pad, separator, 'a');
04F6 0E61      02087         MOVLW   0x61
04F8 6EE5      02088         MOVWF   POSTDEC1
04FA 6AE5      02089         CLRF    POSTDEC1
04FC 5000      02090         MOVF    r0x0c, W
04FE 6EE5      02091         MOVWF   POSTDEC1
0500 5000      02092         MOVF    r0x0d, W
0502 6EE5      02093         MOVWF   POSTDEC1
0504 6AE5      02094         CLRF    POSTDEC1
0506 0E02      02095         MOVLW   0x02
0508 6EE5      02096         MOVWF   POSTDEC1
050A 5000      02097         MOVF    r0x11, W
050C 6EE5      02098         MOVWF   POSTDEC1
050E 5000      02099         MOVF    r0x10, W
0510 6EE5      02100         MOVWF   POSTDEC1
0512 5000      02101         MOVF    r0x0f, W
0514 6EE5      02102         MOVWF   POSTDEC1
0516 5000      02103         MOVF    r0x0e, W
0518 6EE5      02104         MOVWF   POSTDEC1
051A 5000      02105         MOVF    r0x02, W
051C 6EE5      02106         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
051E 5000      02107         MOVF    r0x01, W
0520 6EE5      02108         MOVWF   POSTDEC1
0522 5000      02109         MOVF    r0x00, W
0524 6EE5      02110         MOVWF   POSTDEC1
0526 EC00 F000 02111         CALL    _pprinti
052A 6E00      02112         MOVWF   r0x13
052C 0E0D      02113         MOVLW   0x0d
052E 26E1      02114         ADDWF   FSR1L, F
0530 5000      02115         MOVF    r0x13, W
0532 2600      02116         ADDWF   r0x09, F
               02117 ;       .line   409; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
0534 D000      02118         BRA     _00901_DS_
0536 02119 _00890_DS_:
               02120 ;       .line   412; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'o')             // octal
0536 5000      02121         MOVF    r0x12, W
0538 0A6F      02122         XORLW   0x6f
053A E100      02123         BNZ     _00892_DS_
               02124 ;       .line   414; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprinti(out, val, 8, 0, width, pad, separator, 'a');
053C 0E61      02125         MOVLW   0x61
053E 6EE5      02126         MOVWF   POSTDEC1
0540 6AE5      02127         CLRF    POSTDEC1
0542 5000      02128         MOVF    r0x0c, W
0544 6EE5      02129         MOVWF   POSTDEC1
0546 5000      02130         MOVF    r0x0d, W
0548 6EE5      02131         MOVWF   POSTDEC1
054A 6AE5      02132         CLRF    POSTDEC1
054C 0E08      02133         MOVLW   0x08
054E 6EE5      02134         MOVWF   POSTDEC1
0550 5000      02135         MOVF    r0x11, W
0552 6EE5      02136         MOVWF   POSTDEC1
0554 5000      02137         MOVF    r0x10, W
0556 6EE5      02138         MOVWF   POSTDEC1
0558 5000      02139         MOVF    r0x0f, W
055A 6EE5      02140         MOVWF   POSTDEC1
055C 5000      02141         MOVF    r0x0e, W
055E 6EE5      02142         MOVWF   POSTDEC1
0560 5000      02143         MOVF    r0x02, W
0562 6EE5      02144         MOVWF   POSTDEC1
0564 5000      02145         MOVF    r0x01, W
0566 6EE5      02146         MOVWF   POSTDEC1
0568 5000      02147         MOVF    r0x00, W
056A 6EE5      02148         MOVWF   POSTDEC1
056C EC00 F000 02149         CALL    _pprinti
0570 6E00      02150         MOVWF   r0x13
0572 0E0D      02151         MOVLW   0x0d
0574 26E1      02152         ADDWF   FSR1L, F
0576 5000      02153         MOVF    r0x13, W
0578 2600      02154         ADDWF   r0x09, F
               02155 ;       .line   415; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
057A D000      02156         BRA     _00901_DS_
057C 02157 _00892_DS_:
               02158 ;       .line   418; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (*format == 'c')     // ascii
057C 5000      02159         MOVF    r0x12, W
057E 0A63      02160         XORLW   0x63
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0580 E100      02161         BNZ     _00901_DS_
               02162 ;       .line   420; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        scr[0] = val;
0582 5000      02163         MOVF    r0x0e, W
0584 0000      02164         BANKSEL _pprint_scr_1_1
0586 6F00      02165         MOVWF   _pprint_scr_1_1, B
               02166 ; removed redundant BANKSEL
               02167 ;       .line   421; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        scr[1] = '\0';
0588 6B00      02168         CLRF    (_pprint_scr_1_1 + 1), B
               02169 ;       .line   422; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pc += pprints(out, scr, width, pad);
058A 5000      02170         MOVF    r0x0c, W
058C 6EE5      02171         MOVWF   POSTDEC1
058E 5000      02172         MOVF    r0x0d, W
0590 6EE5      02173         MOVWF   POSTDEC1
0592 0E80      02174         MOVLW   0x80
0594 6EE5      02175         MOVWF   POSTDEC1
0596 0E00      02176         MOVLW   HIGH(_pprint_scr_1_1)
0598 6EE5      02177         MOVWF   POSTDEC1
059A 0E00      02178         MOVLW   LOW(_pprint_scr_1_1)
059C 6EE5      02179         MOVWF   POSTDEC1
059E 5000      02180         MOVF    r0x02, W
05A0 6EE5      02181         MOVWF   POSTDEC1
05A2 5000      02182         MOVF    r0x01, W
05A4 6EE5      02183         MOVWF   POSTDEC1
05A6 5000      02184         MOVF    r0x00, W
05A8 6EE5      02185         MOVWF   POSTDEC1
05AA EC00 F000 02186         CALL    _pprints
05AE 6E00      02187         MOVWF   r0x0c
05B0 0E08      02188         MOVLW   0x08
05B2 26E1      02189         ADDWF   FSR1L, F
05B4 5000      02190         MOVF    r0x0c, W
05B6 2600      02191         ADDWF   r0x09, F
               02192 ;       .line   423; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        continue;
05B8 D000      02193         BRA     _00901_DS_
05BA 02194 _00895_DS_:
               02195 ;       .line   430; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pprintc(out, *format);
05BA C000 FFE9 02196         MOVFF   r0x03, FSR0L
05BE C000 FFF3 02197         MOVFF   r0x04, PRODL
05C2 5000      02198         MOVF    r0x05, W
05C4 EC00 F000 02199         CALL    __gptrget1
               02200 ; #     MOVWF   r0x0c
               02201 ; #     MOVF    r0x0c, W
05C8 6EE5      02202         MOVWF   POSTDEC1
05CA 5000      02203         MOVF    r0x02, W
05CC 6EE5      02204         MOVWF   POSTDEC1
05CE 5000      02205         MOVF    r0x01, W
05D0 6EE5      02206         MOVWF   POSTDEC1
05D2 5000      02207         MOVF    r0x00, W
05D4 6EE5      02208         MOVWF   POSTDEC1
05D6 EC00 F000 02209         CALL    _pprintc
05DA 0E04      02210         MOVLW   0x04
05DC 26E1      02211         ADDWF   FSR1L, F
               02212 ;       .line   431; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        ++pc;
05DE 2A00      02213         INCF    r0x09, F
05E0 02214 _00901_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               02215 ;       .line   308; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        for (; *format != 0; ++format)
05E0 2A00      02216         INCF    r0x03, F
05E2 B0D8      02217         BTFSC   STATUS, 0
05E4 2A00      02218         INCF    r0x04, F
05E6 B0D8      02219         BTFSC   STATUS, 0
05E8 2A00      02220         INCF    r0x05, F
05EA EF00 F000 02221         GOTO    _00899_DS_
05EE 02222 _00902_DS_:
               02223 ;       .line   434; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (out) **out = '\0';
05EE 5000      02224         MOVF    r0x00, W
05F0 1000      02225         IORWF   r0x01, W
05F2 1000      02226         IORWF   r0x02, W
05F4 E000      02227         BZ      _00904_DS_
05F6 C000 FFE9 02228         MOVFF   r0x00, FSR0L
05FA C000 FFF3 02229         MOVFF   r0x01, PRODL
05FE 5000      02230         MOVF    r0x02, W
0600 EC00 F000 02231         CALL    __gptrget3
0604 6E00      02232         MOVWF   r0x00
0606 CFF3 F000 02233         MOVFF   PRODL, r0x01
060A CFF4 F000 02234         MOVFF   PRODH, r0x02
060E 6AE5      02235         CLRF    POSTDEC1
0610 C000 FFE9 02236         MOVFF   r0x00, FSR0L
0614 C000 FFF3 02237         MOVFF   r0x01, PRODL
0618 5000      02238         MOVF    r0x02, W
061A EC00 F000 02239         CALL    __gptrput1
061E 02240 _00904_DS_:
               02241 ;       .line   435; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        return pc;
061E 5000      02242         MOVF    r0x09, W
0620 CFE4 F000 02243         MOVFF   PREINC1, r0x15
0624 CFE4 F000 02244         MOVFF   PREINC1, r0x14
0628 CFE4 F000 02245         MOVFF   PREINC1, r0x13
062C CFE4 F000 02246         MOVFF   PREINC1, r0x12
0630 CFE4 F000 02247         MOVFF   PREINC1, r0x11
0634 CFE4 F000 02248         MOVFF   PREINC1, r0x10
0638 CFE4 F000 02249         MOVFF   PREINC1, r0x0f
063C CFE4 F000 02250         MOVFF   PREINC1, r0x0e
0640 CFE4 F000 02251         MOVFF   PREINC1, r0x0d
0644 CFE4 F000 02252         MOVFF   PREINC1, r0x0c
0648 CFE4 F000 02253         MOVFF   PREINC1, r0x0b
064C CFE4 F000 02254         MOVFF   PREINC1, r0x0a
0650 CFE4 F000 02255         MOVFF   PREINC1, r0x09
0654 CFE4 F000 02256         MOVFF   PREINC1, r0x08
0658 CFE4 F000 02257         MOVFF   PREINC1, r0x07
065C CFE4 F000 02258         MOVFF   PREINC1, r0x06
0660 CFE4 F000 02259         MOVFF   PREINC1, r0x05
0664 CFE4 F000 02260         MOVFF   PREINC1, r0x04
0668 CFE4 F000 02261         MOVFF   PREINC1, r0x03
066C CFE4 F000 02262         MOVFF   PREINC1, r0x02
0670 CFE4 F000 02263         MOVFF   PREINC1, r0x01
0674 CFE4 F000 02264         MOVFF   PREINC1, r0x00
0678 CFE4 FFD9 02265         MOVFF   PREINC1, FSR2L
067C 0012      02266         RETURN  
               02267 
               02268 ; ; Starting pCode block
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               02269 S_main__pprintfl        code
0000 02270 _pprintfl:
               02271 ;       .line   167; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        static u8 pprintfl(u8 **out, float value, u8 width, u8 pad, u8 separator, u8 precision)
0000 CFD9 FFE5 02272         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 02273         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 02274         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 02275         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 02276         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 02277         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 02278         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 02279         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 02280         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 02281         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 02282         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 02283         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 02284         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 02285         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 02286         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 02287         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 02288         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 02289         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 02290         MOVFF   r0x10, POSTDEC1
004C C000 FFE5 02291         MOVFF   r0x11, POSTDEC1
0050 C000 FFE5 02292         MOVFF   r0x12, POSTDEC1
0054 C000 FFE5 02293         MOVFF   r0x13, POSTDEC1
0058 C000 FFE5 02294         MOVFF   r0x14, POSTDEC1
005C C000 FFE5 02295         MOVFF   r0x15, POSTDEC1
0060 C000 FFE5 02296         MOVFF   r0x16, POSTDEC1
0064 C000 FFE5 02297         MOVFF   r0x17, POSTDEC1
0068 C000 FFE5 02298         MOVFF   r0x18, POSTDEC1
006C C000 FFE5 02299         MOVFF   r0x19, POSTDEC1
0070 C000 FFE5 02300         MOVFF   r0x1a, POSTDEC1
0074 C000 FFE5 02301         MOVFF   r0x1b, POSTDEC1
0078 C000 FFE5 02302         MOVFF   r0x1c, POSTDEC1
007C C000 FFE5 02303         MOVFF   r0x1d, POSTDEC1
0080 C000 FFE5 02304         MOVFF   r0x1e, POSTDEC1
0084 C000 FFE5 02305         MOVFF   r0x1f, POSTDEC1
0088 C000 FFE5 02306         MOVFF   r0x20, POSTDEC1
008C 0E02      02307         MOVLW   0x02
008E CFDB F000 02308         MOVFF   PLUSW2, r0x00
0092 0E03      02309         MOVLW   0x03
0094 CFDB F000 02310         MOVFF   PLUSW2, r0x01
0098 0E04      02311         MOVLW   0x04
009A CFDB F000 02312         MOVFF   PLUSW2, r0x02
009E 0E05      02313         MOVLW   0x05
00A0 CFDB F000 02314         MOVFF   PLUSW2, r0x03
00A4 0E06      02315         MOVLW   0x06
00A6 CFDB F000 02316         MOVFF   PLUSW2, r0x04
00AA 0E07      02317         MOVLW   0x07
00AC CFDB F000 02318         MOVFF   PLUSW2, r0x05
00B0 0E08      02319         MOVLW   0x08
00B2 CFDB F000 02320         MOVFF   PLUSW2, r0x06
00B6 0E09      02321         MOVLW   0x09
00B8 CFDB F000 02322         MOVFF   PLUSW2, r0x07
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00BC 0E0A      02323         MOVLW   0x0a
00BE CFDB F000 02324         MOVFF   PLUSW2, r0x08
00C2 0E0C      02325         MOVLW   0x0c
00C4 CFDB F000 02326         MOVFF   PLUSW2, r0x09
               02327 ;       .line   176; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u32 int_part  = 0;
00C8 6A00      02328         CLRF    r0x0a
00CA 6A00      02329         CLRF    r0x0b
00CC 6A00      02330         CLRF    r0x0c
00CE 6A00      02331         CLRF    r0x0d
               02332 ;       .line   177; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u32 frac_part = 0;
00D0 6A00      02333         CLRF    r0x0e
00D2 6A00      02334         CLRF    r0x0f
00D4 6A00      02335         CLRF    r0x10
00D6 6A00      02336         CLRF    r0x11
               02337 ;       .line   179; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 buffer[PRINT_BUF_LEN], *string = buffer;
00D8 0E00      02338         MOVLW   HIGH(_pprintfl_buffer_1_1)
00DA 6E00      02339         MOVWF   r0x13
00DC 0E00      02340         MOVLW   LOW(_pprintfl_buffer_1_1)
00DE 6E00      02341         MOVWF   r0x12
00E0 0E80      02342         MOVLW   0x80
00E2 6E00      02343         MOVWF   r0x14
               02344 ;       .line   180; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 tmp[PRINT_BUF_LEN], *s = tmp;
00E4 0E00      02345         MOVLW   HIGH(_pprintfl_tmp_1_1)
00E6 6E00      02346         MOVWF   r0x16
00E8 0E00      02347         MOVLW   LOW(_pprintfl_tmp_1_1)
00EA 6E00      02348         MOVWF   r0x15
00EC 0E80      02349         MOVLW   0x80
00EE 6E00      02350         MOVWF   r0x17
               02351 ;       .line   181; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 count = 0, m, t;
00F0 6A00      02352         CLRF    r0x18
               02353 ;       .line   182; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 length = PRINT_BUF_LEN - 1;
00F2 0E0B      02354         MOVLW   0x0b
00F4 6E00      02355         MOVWF   r0x19
               02356 ;       .line   184; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        helper.f = value;
00F6 5000      02357         MOVF    r0x03, W
00F8 0000      02358         BANKSEL _pprintfl_helper_1_1
00FA 6F00      02359         MOVWF   _pprintfl_helper_1_1, B
00FC 5000      02360         MOVF    r0x04, W
               02361 ; removed redundant BANKSEL
00FE 6F00      02362         MOVWF   (_pprintfl_helper_1_1 + 1), B
0100 5000      02363         MOVF    r0x05, W
               02364 ; removed redundant BANKSEL
0102 6F00      02365         MOVWF   (_pprintfl_helper_1_1 + 2), B
0104 5000      02366         MOVF    r0x06, W
               02367 ; removed redundant BANKSEL
0106 6F00      02368         MOVWF   (_pprintfl_helper_1_1 + 3), B
               02369 ;       .line   187; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (helper.l < 0)
0108 80D8      02370         BSF     STATUS, 0
               02371 ; removed redundant BANKSEL
010A AF00      02372         BTFSS   (_pprintfl_helper_1_1 + 3), 7, B
010C 90D8      02373         BCF     STATUS, 0
010E E300      02374         BNC     _00773_DS_
               02375 ;       .line   189; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (width && (pad & PAD_ZERO))
0110 5000      02376         MOVF    r0x07, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0112 E000      02377         BZ      _00769_DS_
0114 A200      02378         BTFSS   r0x08, 1
0116 D000      02379         BRA     _00769_DS_
               02380 ;       .line   191; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pprintc(out, '-');
0118 0E2D      02381         MOVLW   0x2d
011A 6EE5      02382         MOVWF   POSTDEC1
011C 5000      02383         MOVF    r0x02, W
011E 6EE5      02384         MOVWF   POSTDEC1
0120 5000      02385         MOVF    r0x01, W
0122 6EE5      02386         MOVWF   POSTDEC1
0124 5000      02387         MOVF    r0x00, W
0126 6EE5      02388         MOVWF   POSTDEC1
0128 EC00 F000 02389         CALL    _pprintc
012C 0E04      02390         MOVLW   0x04
012E 26E1      02391         ADDWF   FSR1L, F
               02392 ;       .line   192; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        ++count;
0130 0E01      02393         MOVLW   0x01
0132 6E00      02394         MOVWF   r0x18
               02395 ;       .line   193; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        --width;
0134 0600      02396         DECF    r0x07, F
0136 D000      02397         BRA     _00773_DS_
0138 02398 _00769_DS_:
               02399 ;       .line   197; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *string++ = '-';
0138 0E2D      02400         MOVLW   0x2d
013A 6EE5      02401         MOVWF   POSTDEC1
013C C000 FFE9 02402         MOVFF   r0x12, FSR0L
0140 C000 FFF3 02403         MOVFF   r0x13, PRODL
0144 5000      02404         MOVF    r0x14, W
0146 EC00 F000 02405         CALL    __gptrput1
014A 2A00      02406         INCF    r0x12, F
014C B0D8      02407         BTFSC   STATUS, 0
014E 2A00      02408         INCF    r0x13, F
0150 B0D8      02409         BTFSC   STATUS, 0
0152 2A00      02410         INCF    r0x14, F
               02411 ;       .line   198; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        length--;
0154 0E0A      02412         MOVLW   0x0a
0156 6E00      02413         MOVWF   r0x19
0158 02414 _00773_DS_:
0158 0000      02415         BANKSEL (_pprintfl_helper_1_1 + 2)
               02416 ;       .line   204; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        exponent = ((helper.l >> 23) & 0xFF) - 127;     
015A 3500      02417         RLCF    (_pprintfl_helper_1_1 + 2), W, B
               02418 ; removed redundant BANKSEL
015C 3500      02419         RLCF    (_pprintfl_helper_1_1 + 3), W, B
015E 6E00      02420         MOVWF   r0x03
0160 6A00      02421         CLRF    r0x04
0162 0E81      02422         MOVLW   0x81
0164 2600      02423         ADDWF   r0x03, F
               02424 ; removed redundant BANKSEL
               02425 ;       .line   207; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        mantissa = (helper.l & 0x7FFFFF) | 0x800000;
0166 5100      02426         MOVF    _pprintfl_helper_1_1, W, B
0168 6E00      02427         MOVWF   r0x04
               02428 ; removed redundant BANKSEL
016A 5100      02429         MOVF    (_pprintfl_helper_1_1 + 1), W, B
016C 6E00      02430         MOVWF   r0x05
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
016E 0E7F      02431         MOVLW   0x7f
               02432 ; removed redundant BANKSEL
0170 1500      02433         ANDWF   (_pprintfl_helper_1_1 + 2), W, B
0172 6E00      02434         MOVWF   r0x06
0174 6A00      02435         CLRF    r0x1a
0176 8E00      02436         BSF     r0x06, 7
               02437 ;       .line   209; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if ( (exponent >= 31) || (exponent < -23) )
0178 5000      02438         MOVF    r0x03, W
017A 0F80      02439         ADDLW   0x80
017C 0F61      02440         ADDLW   0x61
017E E200      02441         BC      _00780_DS_
0180 5000      02442         MOVF    r0x03, W
0182 0F80      02443         ADDLW   0x80
0184 0F97      02444         ADDLW   0x97
0186 E200      02445         BC      _00781_DS_
0188 02446 _00780_DS_:
               02447 ;       .line   211; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        buffer[0] = 'i';
0188 0E69      02448         MOVLW   0x69
018A 0000      02449         BANKSEL _pprintfl_buffer_1_1
018C 6F00      02450         MOVWF   _pprintfl_buffer_1_1, B
               02451 ;       .line   212; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        buffer[1] = 'n';
018E 0E6E      02452         MOVLW   0x6e
               02453 ; removed redundant BANKSEL
0190 6F00      02454         MOVWF   (_pprintfl_buffer_1_1 + 1), B
               02455 ;       .line   213; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        buffer[2] = 'f';
0192 0E66      02456         MOVLW   0x66
               02457 ; removed redundant BANKSEL
0194 6F00      02458         MOVWF   (_pprintfl_buffer_1_1 + 2), B
               02459 ; removed redundant BANKSEL
               02460 ;       .line   214; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        buffer[3] = '\0';
0196 6B00      02461         CLRF    (_pprintfl_buffer_1_1 + 3), B
               02462 ;       .line   215; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        return pprints(out, buffer, width, pad);
0198 5000      02463         MOVF    r0x08, W
019A 6EE5      02464         MOVWF   POSTDEC1
019C 5000      02465         MOVF    r0x07, W
019E 6EE5      02466         MOVWF   POSTDEC1
01A0 0E80      02467         MOVLW   0x80
01A2 6EE5      02468         MOVWF   POSTDEC1
01A4 0E00      02469         MOVLW   HIGH(_pprintfl_buffer_1_1)
01A6 6EE5      02470         MOVWF   POSTDEC1
01A8 0E00      02471         MOVLW   LOW(_pprintfl_buffer_1_1)
01AA 6EE5      02472         MOVWF   POSTDEC1
01AC 5000      02473         MOVF    r0x02, W
01AE 6EE5      02474         MOVWF   POSTDEC1
01B0 5000      02475         MOVF    r0x01, W
01B2 6EE5      02476         MOVWF   POSTDEC1
01B4 5000      02477         MOVF    r0x00, W
01B6 6EE5      02478         MOVWF   POSTDEC1
01B8 EC00 F000 02479         CALL    _pprints
01BC 6E00      02480         MOVWF   r0x1b
01BE 0E08      02481         MOVLW   0x08
01C0 26E1      02482         ADDWF   FSR1L, F
01C2 5000      02483         MOVF    r0x1b, W
01C4 D000      02484         BRA     _00803_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01C6 02485 _00781_DS_:
               02486 ;       .line   217; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        else if (exponent >= 23)
01C6 5000      02487         MOVF    r0x03, W
01C8 0F80      02488         ADDLW   0x80
01CA 0F69      02489         ADDLW   0x69
01CC E300      02490         BNC     _00778_DS_
               02491 ;       .line   219; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        int_part = mantissa << (exponent - 23);
01CE C000 F000 02492         MOVFF   r0x03, r0x1b
01D2 6A00      02493         CLRF    r0x1c
01D4 BE00      02494         BTFSC   r0x03, 7
01D6 6800      02495         SETF    r0x1c
01D8 0EE9      02496         MOVLW   0xe9
01DA 2600      02497         ADDWF   r0x1b, F
01DC A0D8      02498         BTFSS   STATUS, 0
01DE 0600      02499         DECF    r0x1c, F
01E0 C000 F000 02500         MOVFF   r0x04, r0x0a
01E4 C000 F000 02501         MOVFF   r0x05, r0x0b
01E8 C000 F000 02502         MOVFF   r0x06, r0x0c
01EC C000 F000 02503         MOVFF   r0x1a, r0x0d
01F0 5000      02504         MOVF    r0x1b, W
01F2 E000      02505         BZ      _00831_DS_
01F4 E600      02506         BN      _00834_DS_
01F6 6CE8      02507         NEGF    WREG
01F8 90D8      02508         BCF     STATUS, 0
01FA 02509 _00832_DS_:
01FA 3600      02510         RLCF    r0x0a, F
01FC 3600      02511         RLCF    r0x0b, F
01FE 3600      02512         RLCF    r0x0c, F
0200 3600      02513         RLCF    r0x0d, F
0202 0F01      02514         ADDLW   0x01
0204 E300      02515         BNC     _00832_DS_
0206 D000      02516         BRA     _00782_DS_
0208 02517 _00834_DS_:
0208 90D8      02518         BCF     STATUS, 0
020A 02519 _00833_DS_:
020A 3200      02520         RRCF    r0x0d, F
020C 3200      02521         RRCF    r0x0c, F
020E 3200      02522         RRCF    r0x0b, F
0210 3200      02523         RRCF    r0x0a, F
0212 0F01      02524         ADDLW   0x01
0214 E300      02525         BNC     _00833_DS_
0216 02526 _00831_DS_:
0216 D000      02527         BRA     _00782_DS_
0218 02528 _00778_DS_:
               02529 ;       .line   221; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        else if (exponent >= 0) 
0218 80D8      02530         BSF     STATUS, 0
021A AE00      02531         BTFSS   r0x03, 7
021C 90D8      02532         BCF     STATUS, 0
021E B0D8      02533         BTFSC   STATUS, 0
0220 D000      02534         BRA     _00775_DS_
               02535 ;       .line   223; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        int_part = mantissa >> (23 - exponent);
0222 C000 F000 02536         MOVFF   r0x03, r0x1b
0226 6A00      02537         CLRF    r0x1c
0228 BE00      02538         BTFSC   r0x03, 7
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
022A 6800      02539         SETF    r0x1c
022C 5000      02540         MOVF    r0x1b, W
022E 0817      02541         SUBLW   0x17
0230 6E00      02542         MOVWF   r0x1d
0232 0E00      02543         MOVLW   0x00
0234 5400      02544         SUBFWB  r0x1c, W
0236 C000 F000 02545         MOVFF   r0x04, r0x0a
023A C000 F000 02546         MOVFF   r0x05, r0x0b
023E C000 F000 02547         MOVFF   r0x06, r0x0c
0242 C000 F000 02548         MOVFF   r0x1a, r0x0d
0246 5000      02549         MOVF    r0x1d, W
0248 E000      02550         BZ      _00835_DS_
024A E600      02551         BN      _00838_DS_
024C 6CE8      02552         NEGF    WREG
024E 90D8      02553         BCF     STATUS, 0
0250 02554 _00836_DS_:
0250 3200      02555         RRCF    r0x0d, F
0252 3200      02556         RRCF    r0x0c, F
0254 3200      02557         RRCF    r0x0b, F
0256 3200      02558         RRCF    r0x0a, F
0258 0F01      02559         ADDLW   0x01
025A E300      02560         BNC     _00836_DS_
025C D000      02561         BRA     _00835_DS_
025E 02562 _00838_DS_:
025E 90D8      02563         BCF     STATUS, 0
0260 02564 _00837_DS_:
0260 3600      02565         RLCF    r0x0a, F
0262 3600      02566         RLCF    r0x0b, F
0264 3600      02567         RLCF    r0x0c, F
0266 3600      02568         RLCF    r0x0d, F
0268 0F01      02569         ADDLW   0x01
026A E300      02570         BNC     _00837_DS_
026C 02571 _00835_DS_:
               02572 ;       .line   224; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        frac_part = (mantissa << (exponent + 1)) & 0xFFFFFF; // mfh
026C 2A00      02573         INCF    r0x1b, F
026E B0D8      02574         BTFSC   STATUS, 0
0270 2A00      02575         INCF    r0x1c, F
0272 C000 F000 02576         MOVFF   r0x04, r0x1d
0276 C000 F000 02577         MOVFF   r0x05, r0x1e
027A C000 F000 02578         MOVFF   r0x06, r0x1f
027E C000 F000 02579         MOVFF   r0x1a, r0x20
0282 5000      02580         MOVF    r0x1b, W
0284 E000      02581         BZ      _00839_DS_
0286 E600      02582         BN      _00842_DS_
0288 6CE8      02583         NEGF    WREG
028A 90D8      02584         BCF     STATUS, 0
028C 02585 _00840_DS_:
028C 3600      02586         RLCF    r0x1d, F
028E 3600      02587         RLCF    r0x1e, F
0290 3600      02588         RLCF    r0x1f, F
0292 3600      02589         RLCF    r0x20, F
0294 0F01      02590         ADDLW   0x01
0296 E300      02591         BNC     _00840_DS_
0298 D000      02592         BRA     _00839_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
029A 02593 _00842_DS_:
029A 90D8      02594         BCF     STATUS, 0
029C 02595 _00841_DS_:
029C 3200      02596         RRCF    r0x20, F
029E 3200      02597         RRCF    r0x1f, F
02A0 3200      02598         RRCF    r0x1e, F
02A2 3200      02599         RRCF    r0x1d, F
02A4 0F01      02600         ADDLW   0x01
02A6 E300      02601         BNC     _00841_DS_
02A8 02602 _00839_DS_:
02A8 5000      02603         MOVF    r0x1d, W
02AA 6E00      02604         MOVWF   r0x0e
02AC 5000      02605         MOVF    r0x1e, W
02AE 6E00      02606         MOVWF   r0x0f
02B0 5000      02607         MOVF    r0x1f, W
02B2 6E00      02608         MOVWF   r0x10
02B4 6A00      02609         CLRF    r0x11
02B6 D000      02610         BRA     _00782_DS_
02B8 02611 _00775_DS_:
               02612 ;       .line   227; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        frac_part = (mantissa & 0xFFFFFF) >> -(exponent + 1);
02B8 6A00      02613         CLRF    r0x1a
02BA 6A00      02614         CLRF    r0x1b
02BC BE00      02615         BTFSC   r0x03, 7
02BE 6800      02616         SETF    r0x1b
02C0 2A00      02617         INCF    r0x03, F
02C2 B0D8      02618         BTFSC   STATUS, 0
02C4 2A00      02619         INCF    r0x1b, F
02C6 1E00      02620         COMF    r0x1b, F
02C8 6C00      02621         NEGF    r0x03
02CA B4D8      02622         BTFSC   STATUS, 2
02CC 2A00      02623         INCF    r0x1b, F
02CE C000 F000 02624         MOVFF   r0x04, r0x0e
02D2 C000 F000 02625         MOVFF   r0x05, r0x0f
02D6 C000 F000 02626         MOVFF   r0x06, r0x10
02DA C000 F000 02627         MOVFF   r0x1a, r0x11
02DE 5000      02628         MOVF    r0x03, W
02E0 E000      02629         BZ      _00782_DS_
02E2 E600      02630         BN      _00849_DS_
02E4 6CE8      02631         NEGF    WREG
02E6 90D8      02632         BCF     STATUS, 0
02E8 02633 _00847_DS_:
02E8 3200      02634         RRCF    r0x11, F
02EA 3200      02635         RRCF    r0x10, F
02EC 3200      02636         RRCF    r0x0f, F
02EE 3200      02637         RRCF    r0x0e, F
02F0 0F01      02638         ADDLW   0x01
02F2 E300      02639         BNC     _00847_DS_
02F4 D000      02640         BRA     _00782_DS_
02F6 02641 _00849_DS_:
02F6 90D8      02642         BCF     STATUS, 0
02F8 02643 _00848_DS_:
02F8 3600      02644         RLCF    r0x0e, F
02FA 3600      02645         RLCF    r0x0f, F
02FC 3600      02646         RLCF    r0x10, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02FE 3600      02647         RLCF    r0x11, F
0300 0F01      02648         ADDLW   0x01
0302 E300      02649         BNC     _00848_DS_
0304 02650 _00782_DS_:
               02651 ;       .line   230; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (int_part == 0)
0304 5000      02652         MOVF    r0x0a, W
0306 1000      02653         IORWF   r0x0b, W
0308 1000      02654         IORWF   r0x0c, W
030A 1000      02655         IORWF   r0x0d, W
030C E100      02656         BNZ     _00813_DS_
               02657 ;       .line   232; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *string++ = '0';
030E 0E30      02658         MOVLW   0x30
0310 6EE5      02659         MOVWF   POSTDEC1
0312 C000 FFE9 02660         MOVFF   r0x12, FSR0L
0316 C000 FFF3 02661         MOVFF   r0x13, PRODL
031A 5000      02662         MOVF    r0x14, W
031C EC00 F000 02663         CALL    __gptrput1
0320 2A00      02664         INCF    r0x12, F
0322 B0D8      02665         BTFSC   STATUS, 0
0324 2A00      02666         INCF    r0x13, F
0326 B0D8      02667         BTFSC   STATUS, 0
0328 2A00      02668         INCF    r0x14, F
               02669 ;       .line   233; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        length--;
032A 0600      02670         DECF    r0x19, F
032C D000      02671         BRA     _00792_DS_
032E 02672 _00813_DS_:
               02673 ;       .line   239; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        while (int_part)
032E C000 F000 02674         MOVFF   r0x15, r0x03
0332 C000 F000 02675         MOVFF   r0x16, r0x04
0336 C000 F000 02676         MOVFF   r0x17, r0x05
033A 6A00      02677         CLRF    r0x06
033C C000 F000 02678         MOVFF   r0x19, r0x15
0340 02679 _00784_DS_:
0340 5000      02680         MOVF    r0x0a, W
0342 1000      02681         IORWF   r0x0b, W
0344 1000      02682         IORWF   r0x0c, W
0346 1000      02683         IORWF   r0x0d, W
0348 B4D8      02684         BTFSC   STATUS, 2
034A D000      02685         BRA     _00821_DS_
               02686 ;       .line   241; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        t = int_part % 10;              // decimal base
034C 6AE5      02687         CLRF    POSTDEC1
034E 6AE5      02688         CLRF    POSTDEC1
0350 6AE5      02689         CLRF    POSTDEC1
0352 0E0A      02690         MOVLW   0x0a
0354 6EE5      02691         MOVWF   POSTDEC1
0356 5000      02692         MOVF    r0x0d, W
0358 6EE5      02693         MOVWF   POSTDEC1
035A 5000      02694         MOVF    r0x0c, W
035C 6EE5      02695         MOVWF   POSTDEC1
035E 5000      02696         MOVF    r0x0b, W
0360 6EE5      02697         MOVWF   POSTDEC1
0362 5000      02698         MOVF    r0x0a, W
0364 6EE5      02699         MOVWF   POSTDEC1
0366 EC00 F000 02700         CALL    __modulong
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
036A 6E00      02701         MOVWF   r0x16
036C 0E08      02702         MOVLW   0x08
036E 26E1      02703         ADDWF   FSR1L, F
               02704 ;       .line   242; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *s++ = t + '0';
0370 0E30      02705         MOVLW   0x30
0372 2600      02706         ADDWF   r0x16, F
0374 C000 FFE5 02707         MOVFF   r0x16, POSTDEC1
0378 C000 FFE9 02708         MOVFF   r0x03, FSR0L
037C C000 FFF3 02709         MOVFF   r0x04, PRODL
0380 5000      02710         MOVF    r0x05, W
0382 EC00 F000 02711         CALL    __gptrput1
0386 2A00      02712         INCF    r0x03, F
0388 B0D8      02713         BTFSC   STATUS, 0
038A 2A00      02714         INCF    r0x04, F
038C B0D8      02715         BTFSC   STATUS, 0
038E 2A00      02716         INCF    r0x05, F
               02717 ;       .line   243; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        int_part /= 10;
0390 6AE5      02718         CLRF    POSTDEC1
0392 6AE5      02719         CLRF    POSTDEC1
0394 6AE5      02720         CLRF    POSTDEC1
0396 0E0A      02721         MOVLW   0x0a
0398 6EE5      02722         MOVWF   POSTDEC1
039A 5000      02723         MOVF    r0x0d, W
039C 6EE5      02724         MOVWF   POSTDEC1
039E 5000      02725         MOVF    r0x0c, W
03A0 6EE5      02726         MOVWF   POSTDEC1
03A2 5000      02727         MOVF    r0x0b, W
03A4 6EE5      02728         MOVWF   POSTDEC1
03A6 5000      02729         MOVF    r0x0a, W
03A8 6EE5      02730         MOVWF   POSTDEC1
03AA EC00 F000 02731         CALL    __divulong
03AE 6E00      02732         MOVWF   r0x0a
03B0 CFF3 F000 02733         MOVFF   PRODL, r0x0b
03B4 CFF4 F000 02734         MOVFF   PRODH, r0x0c
03B8 CFE9 F000 02735         MOVFF   FSR0L, r0x0d
03BC 0E08      02736         MOVLW   0x08
03BE 26E1      02737         ADDWF   FSR1L, F
               02738 ;       .line   244; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        m++;                                    // string's length counter
03C0 2A00      02739         INCF    r0x06, F
               02740 ;       .line   245; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        length--;
03C2 0600      02741         DECF    r0x15, F
03C4 D000      02742         BRA     _00784_DS_
03C6 02743 _00821_DS_:
               02744 ;       .line   248; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        while (m--)
03C6 C000 F000 02745         MOVFF   r0x15, r0x19
03CA C000 F000 02746         MOVFF   r0x12, r0x0a
03CE C000 F000 02747         MOVFF   r0x13, r0x0b
03D2 C000 F000 02748         MOVFF   r0x14, r0x0c
03D6 02749 _00787_DS_:
03D6 C000 F000 02750         MOVFF   r0x06, r0x0d
03DA 0600      02751         DECF    r0x06, F
03DC 5000      02752         MOVF    r0x0d, W
03DE E000      02753         BZ      _00822_DS_
               02754 ;       .line   250; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *string++ = *--s;
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
03E0 0EFF      02755         MOVLW   0xff
03E2 2600      02756         ADDWF   r0x03, F
03E4 2200      02757         ADDWFC  r0x04, F
03E6 2200      02758         ADDWFC  r0x05, F
03E8 C000 FFE9 02759         MOVFF   r0x03, FSR0L
03EC C000 FFF3 02760         MOVFF   r0x04, PRODL
03F0 5000      02761         MOVF    r0x05, W
03F2 EC00 F000 02762         CALL    __gptrget1
03F6 6E00      02763         MOVWF   r0x0d
03F8 C000 FFE5 02764         MOVFF   r0x0d, POSTDEC1
03FC C000 FFE9 02765         MOVFF   r0x0a, FSR0L
0400 C000 FFF3 02766         MOVFF   r0x0b, PRODL
0404 5000      02767         MOVF    r0x0c, W
0406 EC00 F000 02768         CALL    __gptrput1
040A 2A00      02769         INCF    r0x0a, F
040C B0D8      02770         BTFSC   STATUS, 0
040E 2A00      02771         INCF    r0x0b, F
0410 B0D8      02772         BTFSC   STATUS, 0
0412 2A00      02773         INCF    r0x0c, F
0414 D000      02774         BRA     _00787_DS_
0416 02775 _00822_DS_:
0416 C000 F000 02776         MOVFF   r0x0a, r0x12
041A C000 F000 02777         MOVFF   r0x0b, r0x13
041E C000 F000 02778         MOVFF   r0x0c, r0x14
0422 02779 _00792_DS_:
               02780 ;       .line   263; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (precision > 6)
0422 0E07      02781         MOVLW   0x07
0424 5C00      02782         SUBWF   r0x09, W
0426 E300      02783         BNC     _00794_DS_
               02784 ;       .line   264; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        precision = 6;
0428 0E06      02785         MOVLW   0x06
042A 6E00      02786         MOVWF   r0x09
042C 02787 _00794_DS_:
               02788 ;       .line   267; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (precision > length)
042C 5000      02789         MOVF    r0x09, W
               02790 ; #     SUBWF   r0x19, W
               02791 ; #     BTFSC   STATUS, 0
               02792 ; #     GOTO    _00796_DS_
               02793 ; #     MOVFF   r0x19, r0x09
               02794 ; #     MOVLW   0x01
               02795 ;       .line   268; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        precision = length;
042E 5C00      02796         SUBWF   r0x19, W
               02797 ;       .line   271; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (precision >= 1)
0430 A0D8      02798         BTFSS   STATUS, 0
0432 C000 F000 02799         MOVFF   r0x19, r0x09
0436 0E01      02800         MOVLW   0x01
0438 5C00      02801         SUBWF   r0x09, W
043A A0D8      02802         BTFSS   STATUS, 0
043C D000      02803         BRA     _00798_DS_
               02804 ;       .line   274; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *string++ = '.';
043E 0E2E      02805         MOVLW   0x2e
0440 6EE5      02806         MOVWF   POSTDEC1
0442 C000 FFE9 02807         MOVFF   r0x12, FSR0L
0446 C000 FFF3 02808         MOVFF   r0x13, PRODL
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
044A 5000      02809         MOVF    r0x14, W
044C EC00 F000 02810         CALL    __gptrput1
0450 2A00      02811         INCF    r0x12, F
0452 B0D8      02812         BTFSC   STATUS, 0
0454 2A00      02813         INCF    r0x13, F
0456 B0D8      02814         BTFSC   STATUS, 0
0458 2A00      02815         INCF    r0x14, F
               02816 ;       .line   277; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        for (m = 0; m < precision; m++)
045A C000 F000 02817         MOVFF   r0x12, r0x03
045E C000 F000 02818         MOVFF   r0x13, r0x04
0462 C000 F000 02819         MOVFF   r0x14, r0x05
0466 6A00      02820         CLRF    r0x06
0468 02821 _00799_DS_:
0468 5000      02822         MOVF    r0x09, W
046A 5C00      02823         SUBWF   r0x06, W
046C E200      02824         BC      _00823_DS_
               02825 ;       .line   280; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        frac_part = (frac_part << 3) + (frac_part << 1); 
046E 5000      02826         MOVF    r0x0e, W
0470 2400      02827         ADDWF   r0x0e, W
0472 6E00      02828         MOVWF   r0x0a
0474 3400      02829         RLCF    r0x0f, W
0476 6E00      02830         MOVWF   r0x0b
0478 3400      02831         RLCF    r0x10, W
047A 6E00      02832         MOVWF   r0x0c
047C 3400      02833         RLCF    r0x11, W
047E 6E00      02834         MOVWF   r0x0d
0480 5000      02835         MOVF    r0x0a, W
0482 2600      02836         ADDWF   r0x0a, F
0484 3600      02837         RLCF    r0x0b, F
0486 3600      02838         RLCF    r0x0c, F
0488 3600      02839         RLCF    r0x0d, F
048A 5000      02840         MOVF    r0x0a, W
048C 2600      02841         ADDWF   r0x0a, F
048E 3600      02842         RLCF    r0x0b, F
0490 3600      02843         RLCF    r0x0c, F
0492 3600      02844         RLCF    r0x0d, F
0494 5000      02845         MOVF    r0x0e, W
0496 2400      02846         ADDWF   r0x0e, W
0498 6E00      02847         MOVWF   r0x15
049A 3400      02848         RLCF    r0x0f, W
049C 6E00      02849         MOVWF   r0x16
049E 3400      02850         RLCF    r0x10, W
04A0 6E00      02851         MOVWF   r0x17
04A2 3400      02852         RLCF    r0x11, W
04A4 6E00      02853         MOVWF   r0x19
04A6 5000      02854         MOVF    r0x15, W
04A8 2400      02855         ADDWF   r0x0a, W
04AA 6E00      02856         MOVWF   r0x0e
04AC 5000      02857         MOVF    r0x16, W
04AE 2000      02858         ADDWFC  r0x0b, W
04B0 6E00      02859         MOVWF   r0x0f
04B2 5000      02860         MOVF    r0x17, W
04B4 2000      02861         ADDWFC  r0x0c, W
04B6 6E00      02862         MOVWF   r0x10
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
04B8 5000      02863         MOVF    r0x19, W
04BA 2000      02864         ADDWFC  r0x0d, W
               02865 ; #     MOVWF   r0x11
               02866 ; #     MOVF    r0x11, W
               02867 ;       .line   282; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *string++ = (frac_part >> 24) + '0';
04BC 6E00      02868         MOVWF   r0x0a
04BE 0E30      02869         MOVLW   0x30
04C0 2600      02870         ADDWF   r0x0a, F
04C2 C000 FFE5 02871         MOVFF   r0x0a, POSTDEC1
04C6 C000 FFE9 02872         MOVFF   r0x03, FSR0L
04CA C000 FFF3 02873         MOVFF   r0x04, PRODL
04CE 5000      02874         MOVF    r0x05, W
04D0 EC00 F000 02875         CALL    __gptrput1
04D4 2A00      02876         INCF    r0x03, F
04D6 B0D8      02877         BTFSC   STATUS, 0
04D8 2A00      02878         INCF    r0x04, F
04DA B0D8      02879         BTFSC   STATUS, 0
04DC 2A00      02880         INCF    r0x05, F
               02881 ;       .line   284; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        frac_part &= 0xFFFFFF;
04DE 6A00      02882         CLRF    r0x11
               02883 ;       .line   277; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        for (m = 0; m < precision; m++)
04E0 2A00      02884         INCF    r0x06, F
04E2 D000      02885         BRA     _00799_DS_
04E4 02886 _00823_DS_:
04E4 C000 F000 02887         MOVFF   r0x03, r0x12
04E8 C000 F000 02888         MOVFF   r0x04, r0x13
04EC C000 F000 02889         MOVFF   r0x05, r0x14
04F0 02890 _00798_DS_:
               02891 ;       .line   289; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *string++ = '\0';
04F0 6AE5      02892         CLRF    POSTDEC1
04F2 C000 FFE9 02893         MOVFF   r0x12, FSR0L
04F6 C000 FFF3 02894         MOVFF   r0x13, PRODL
04FA 5000      02895         MOVF    r0x14, W
04FC EC00 F000 02896         CALL    __gptrput1
               02897 ;       .line   291; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        return count + pprints(out, buffer, width, pad);
0500 5000      02898         MOVF    r0x08, W
0502 6EE5      02899         MOVWF   POSTDEC1
0504 5000      02900         MOVF    r0x07, W
0506 6EE5      02901         MOVWF   POSTDEC1
0508 0E80      02902         MOVLW   0x80
050A 6EE5      02903         MOVWF   POSTDEC1
050C 0E00      02904         MOVLW   HIGH(_pprintfl_buffer_1_1)
050E 6EE5      02905         MOVWF   POSTDEC1
0510 0E00      02906         MOVLW   LOW(_pprintfl_buffer_1_1)
0512 6EE5      02907         MOVWF   POSTDEC1
0514 5000      02908         MOVF    r0x02, W
0516 6EE5      02909         MOVWF   POSTDEC1
0518 5000      02910         MOVF    r0x01, W
051A 6EE5      02911         MOVWF   POSTDEC1
051C 5000      02912         MOVF    r0x00, W
051E 6EE5      02913         MOVWF   POSTDEC1
0520 EC00 F000 02914         CALL    _pprints
0524 6E00      02915         MOVWF   r0x00
0526 0E08      02916         MOVLW   0x08
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0528 26E1      02917         ADDWF   FSR1L, F
052A 5000      02918         MOVF    r0x00, W
052C 2600      02919         ADDWF   r0x18, F
052E 5000      02920         MOVF    r0x18, W
0530 02921 _00803_DS_:
0530 CFE4 F000 02922         MOVFF   PREINC1, r0x20
0534 CFE4 F000 02923         MOVFF   PREINC1, r0x1f
0538 CFE4 F000 02924         MOVFF   PREINC1, r0x1e
053C CFE4 F000 02925         MOVFF   PREINC1, r0x1d
0540 CFE4 F000 02926         MOVFF   PREINC1, r0x1c
0544 CFE4 F000 02927         MOVFF   PREINC1, r0x1b
0548 CFE4 F000 02928         MOVFF   PREINC1, r0x1a
054C CFE4 F000 02929         MOVFF   PREINC1, r0x19
0550 CFE4 F000 02930         MOVFF   PREINC1, r0x18
0554 CFE4 F000 02931         MOVFF   PREINC1, r0x17
0558 CFE4 F000 02932         MOVFF   PREINC1, r0x16
055C CFE4 F000 02933         MOVFF   PREINC1, r0x15
0560 CFE4 F000 02934         MOVFF   PREINC1, r0x14
0564 CFE4 F000 02935         MOVFF   PREINC1, r0x13
0568 CFE4 F000 02936         MOVFF   PREINC1, r0x12
056C CFE4 F000 02937         MOVFF   PREINC1, r0x11
0570 CFE4 F000 02938         MOVFF   PREINC1, r0x10
0574 CFE4 F000 02939         MOVFF   PREINC1, r0x0f
0578 CFE4 F000 02940         MOVFF   PREINC1, r0x0e
057C CFE4 F000 02941         MOVFF   PREINC1, r0x0d
0580 CFE4 F000 02942         MOVFF   PREINC1, r0x0c
0584 CFE4 F000 02943         MOVFF   PREINC1, r0x0b
0588 CFE4 F000 02944         MOVFF   PREINC1, r0x0a
058C CFE4 F000 02945         MOVFF   PREINC1, r0x09
0590 CFE4 F000 02946         MOVFF   PREINC1, r0x08
0594 CFE4 F000 02947         MOVFF   PREINC1, r0x07
0598 CFE4 F000 02948         MOVFF   PREINC1, r0x06
059C CFE4 F000 02949         MOVFF   PREINC1, r0x05
05A0 CFE4 F000 02950         MOVFF   PREINC1, r0x04
05A4 CFE4 F000 02951         MOVFF   PREINC1, r0x03
05A8 CFE4 F000 02952         MOVFF   PREINC1, r0x02
05AC CFE4 F000 02953         MOVFF   PREINC1, r0x01
05B0 CFE4 F000 02954         MOVFF   PREINC1, r0x00
05B4 CFE4 FFD9 02955         MOVFF   PREINC1, FSR2L
05B8 0012      02956         RETURN  
               02957 
               02958 ; ; Starting pCode block
               02959 S_main__pprinti code
0000 02960 _pprinti:
               02961 ;       .line   112; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        static u8 pprinti(u8 **out, u32 i, u8 base, u8 sign, u8 width, u8 pad, u8 separator, u8 letterbase)
0000 CFD9 FFE5 02962         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 02963         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 02964         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 02965         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 02966         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 02967         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 02968         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 02969         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 02970         MOVFF   r0x06, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0024 C000 FFE5 02971         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 02972         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 02973         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 02974         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 02975         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 02976         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 02977         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 02978         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 02979         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 02980         MOVFF   r0x10, POSTDEC1
004C C000 FFE5 02981         MOVFF   r0x11, POSTDEC1
0050 C000 FFE5 02982         MOVFF   r0x12, POSTDEC1
0054 C000 FFE5 02983         MOVFF   r0x13, POSTDEC1
0058 C000 FFE5 02984         MOVFF   r0x14, POSTDEC1
005C C000 FFE5 02985         MOVFF   r0x15, POSTDEC1
0060 C000 FFE5 02986         MOVFF   r0x16, POSTDEC1
0064 C000 FFE5 02987         MOVFF   r0x17, POSTDEC1
0068 C000 FFE5 02988         MOVFF   r0x18, POSTDEC1
006C C000 FFE5 02989         MOVFF   r0x19, POSTDEC1
0070 C000 FFE5 02990         MOVFF   r0x1a, POSTDEC1
0074 C000 FFE5 02991         MOVFF   r0x1b, POSTDEC1
0078 0E02      02992         MOVLW   0x02
007A CFDB F000 02993         MOVFF   PLUSW2, r0x00
007E 0E03      02994         MOVLW   0x03
0080 CFDB F000 02995         MOVFF   PLUSW2, r0x01
0084 0E04      02996         MOVLW   0x04
0086 CFDB F000 02997         MOVFF   PLUSW2, r0x02
008A 0E05      02998         MOVLW   0x05
008C CFDB F000 02999         MOVFF   PLUSW2, r0x03
0090 0E06      03000         MOVLW   0x06
0092 CFDB F000 03001         MOVFF   PLUSW2, r0x04
0096 0E07      03002         MOVLW   0x07
0098 CFDB F000 03003         MOVFF   PLUSW2, r0x05
009C 0E08      03004         MOVLW   0x08
009E CFDB F000 03005         MOVFF   PLUSW2, r0x06
00A2 0E09      03006         MOVLW   0x09
00A4 CFDB F000 03007         MOVFF   PLUSW2, r0x07
00A8 0E0A      03008         MOVLW   0x0a
00AA CFDB F000 03009         MOVFF   PLUSW2, r0x08
00AE 0E0B      03010         MOVLW   0x0b
00B0 CFDB F000 03011         MOVFF   PLUSW2, r0x09
00B4 0E0C      03012         MOVLW   0x0c
00B6 CFDB F000 03013         MOVFF   PLUSW2, r0x0a
00BA 0E0E      03014         MOVLW   0x0e
00BC CFDB F000 03015         MOVFF   PLUSW2, r0x0b
               03016 ;       .line   116; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u8 neg = 0, pc = 0;
00C0 6A00      03017         CLRF    r0x0c
00C2 6A00      03018         CLRF    r0x0d
               03019 ;       .line   117; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        u32 t, uns32 = i;
00C4 C000 F000 03020         MOVFF   r0x03, r0x0e
00C8 C000 F000 03021         MOVFF   r0x04, r0x0f
00CC C000 F000 03022         MOVFF   r0x05, r0x10
00D0 C000 F000 03023         MOVFF   r0x06, r0x11
               03024 ;       .line   119; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (i == 0)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00D4 5000      03025         MOVF    r0x03, W
00D6 1000      03026         IORWF   r0x04, W
00D8 1000      03027         IORWF   r0x05, W
00DA 1000      03028         IORWF   r0x06, W
00DC E100      03029         BNZ     _00730_DS_
               03030 ;       .line   121; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        buffer[0] = '0';
00DE 0E30      03031         MOVLW   0x30
00E0 0000      03032         BANKSEL _pprinti_buffer_1_1
00E2 6F00      03033         MOVWF   _pprinti_buffer_1_1, B
               03034 ; removed redundant BANKSEL
               03035 ;       .line   122; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        buffer[1] = '\0';
00E4 6B00      03036         CLRF    (_pprinti_buffer_1_1 + 1), B
               03037 ;       .line   123; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        return pprints(out, buffer, width, pad);
00E6 5000      03038         MOVF    r0x0a, W
00E8 6EE5      03039         MOVWF   POSTDEC1
00EA 5000      03040         MOVF    r0x09, W
00EC 6EE5      03041         MOVWF   POSTDEC1
00EE 0E80      03042         MOVLW   0x80
00F0 6EE5      03043         MOVWF   POSTDEC1
00F2 0E00      03044         MOVLW   HIGH(_pprinti_buffer_1_1)
00F4 6EE5      03045         MOVWF   POSTDEC1
00F6 0E00      03046         MOVLW   LOW(_pprinti_buffer_1_1)
00F8 6EE5      03047         MOVWF   POSTDEC1
00FA 5000      03048         MOVF    r0x02, W
00FC 6EE5      03049         MOVWF   POSTDEC1
00FE 5000      03050         MOVF    r0x01, W
0100 6EE5      03051         MOVWF   POSTDEC1
0102 5000      03052         MOVF    r0x00, W
0104 6EE5      03053         MOVWF   POSTDEC1
0106 EC00 F000 03054         CALL    _pprints
010A 6E00      03055         MOVWF   r0x12
010C 0E08      03056         MOVLW   0x08
010E 26E1      03057         ADDWF   FSR1L, F
0110 5000      03058         MOVF    r0x12, W
0112 D000      03059         BRA     _00746_DS_
0114 03060 _00730_DS_:
               03061 ;       .line   127; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if ( (sign) && (base == 10) && ( (s32)i < 0 ) )
0114 5000      03062         MOVF    r0x08, W
0116 E000      03063         BZ      _00732_DS_
0118 5000      03064         MOVF    r0x07, W
011A 0A0A      03065         XORLW   0x0a
011C E100      03066         BNZ     _00732_DS_
011E C000 F000 03067         MOVFF   r0x06, r0x14
0122 80D8      03068         BSF     STATUS, 0
0124 AE00      03069         BTFSS   r0x14, 7
0126 90D8      03070         BCF     STATUS, 0
0128 E300      03071         BNC     _00732_DS_
               03072 ;       .line   129; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        neg = 1;
012A 0E01      03073         MOVLW   0x01
012C 6E00      03074         MOVWF   r0x0c
               03075 ;       .line   130; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        uns32 = - (s32)i;
012E 1C00      03076         COMF    r0x06, W
0130 6E00      03077         MOVWF   r0x11
0132 1C00      03078         COMF    r0x05, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0134 6E00      03079         MOVWF   r0x10
0136 1C00      03080         COMF    r0x04, W
0138 6E00      03081         MOVWF   r0x0f
013A 1C00      03082         COMF    r0x03, W
013C 6E00      03083         MOVWF   r0x0e
013E 2A00      03084         INCF    r0x0e, F
0140 E100      03085         BNZ     _00732_DS_
0142 2A00      03086         INCF    r0x0f, F
0144 E100      03087         BNZ     _00732_DS_
0146 4A00      03088         INFSNZ  r0x10, F
0148 2A00      03089         INCF    r0x11, F
014A 03090 _00732_DS_:
               03091 ;       .line   134; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        string = buffer + PRINT_BUF_LEN - 1;
014A 0E00      03092         MOVLW   HIGH(_pprinti_buffer_1_1 + 11)
014C 6E00      03093         MOVWF   r0x04
014E 0E00      03094         MOVLW   LOW(_pprinti_buffer_1_1 + 11)
0150 6E00      03095         MOVWF   r0x03
0152 0E80      03096         MOVLW   0x80
0154 6E00      03097         MOVWF   r0x05
               03098 ;       .line   135; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *string = '\0';
0156 6AE5      03099         CLRF    POSTDEC1
0158 C000 FFE9 03100         MOVFF   r0x03, FSR0L
015C C000 FFF3 03101         MOVFF   r0x04, PRODL
0160 EC00 F000 03102         CALL    __gptrput1
               03103 ;       .line   137; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        while (uns32)
0164 C000 F000 03104         MOVFF   r0x03, r0x06
0168 C000 F000 03105         MOVFF   r0x04, r0x08
016C C000 F000 03106         MOVFF   r0x05, r0x12
0170 03107 _00737_DS_:
0170 5000      03108         MOVF    r0x0e, W
0172 1000      03109         IORWF   r0x0f, W
0174 1000      03110         IORWF   r0x10, W
0176 1000      03111         IORWF   r0x11, W
0178 B4D8      03112         BTFSC   STATUS, 2
017A D000      03113         BRA     _00758_DS_
               03114 ;       .line   139; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        t = uns32 % base;
017C C000 F000 03115         MOVFF   r0x07, r0x13
0180 6A00      03116         CLRF    r0x14
0182 6A00      03117         CLRF    r0x15
0184 6A00      03118         CLRF    r0x16
0186 6AE5      03119         CLRF    POSTDEC1
0188 6AE5      03120         CLRF    POSTDEC1
018A 6AE5      03121         CLRF    POSTDEC1
018C 5000      03122         MOVF    r0x13, W
018E 6EE5      03123         MOVWF   POSTDEC1
0190 5000      03124         MOVF    r0x11, W
0192 6EE5      03125         MOVWF   POSTDEC1
0194 5000      03126         MOVF    r0x10, W
0196 6EE5      03127         MOVWF   POSTDEC1
0198 5000      03128         MOVF    r0x0f, W
019A 6EE5      03129         MOVWF   POSTDEC1
019C 5000      03130         MOVF    r0x0e, W
019E 6EE5      03131         MOVWF   POSTDEC1
01A0 EC00 F000 03132         CALL    __modulong
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01A4 6E00      03133         MOVWF   r0x17
01A6 CFF3 F000 03134         MOVFF   PRODL, r0x18
01AA CFF4 F000 03135         MOVFF   PRODH, r0x19
01AE CFE9 F000 03136         MOVFF   FSR0L, r0x1a
01B2 0E08      03137         MOVLW   0x08
01B4 26E1      03138         ADDWF   FSR1L, F
               03139 ;       .line   140; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if ( t >= 10 )
01B6 0E00      03140         MOVLW   0x00
01B8 5C00      03141         SUBWF   r0x1a, W
01BA E100      03142         BNZ     _00762_DS_
01BC 0E00      03143         MOVLW   0x00
01BE 5C00      03144         SUBWF   r0x19, W
01C0 E100      03145         BNZ     _00762_DS_
01C2 0E00      03146         MOVLW   0x00
01C4 5C00      03147         SUBWF   r0x18, W
01C6 E100      03148         BNZ     _00762_DS_
01C8 0E0A      03149         MOVLW   0x0a
01CA 5C00      03150         SUBWF   r0x17, W
01CC 03151 _00762_DS_:
01CC E300      03152         BNC     _00736_DS_
               03153 ;       .line   141; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        t += letterbase - '0' - 10;
01CE C000 F000 03154         MOVFF   r0x0b, r0x1b
01D2 0EC6      03155         MOVLW   0xc6
01D4 2600      03156         ADDWF   r0x1b, F
01D6 5000      03157         MOVF    r0x1b, W
01D8 2600      03158         ADDWF   r0x17, F
01DA 03159 _00736_DS_:
               03160 ;       .line   142; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *--string = t + '0';
01DA 0EFF      03161         MOVLW   0xff
01DC 2600      03162         ADDWF   r0x06, F
01DE 2200      03163         ADDWFC  r0x08, F
01E0 2200      03164         ADDWFC  r0x12, F
01E2 0E30      03165         MOVLW   0x30
01E4 2600      03166         ADDWF   r0x17, F
01E6 C000 FFE5 03167         MOVFF   r0x17, POSTDEC1
01EA C000 FFE9 03168         MOVFF   r0x06, FSR0L
01EE C000 FFF3 03169         MOVFF   r0x08, PRODL
01F2 5000      03170         MOVF    r0x12, W
01F4 EC00 F000 03171         CALL    __gptrput1
               03172 ;       .line   143; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        uns32 /= base;
01F8 5000      03173         MOVF    r0x16, W
01FA 6EE5      03174         MOVWF   POSTDEC1
01FC 5000      03175         MOVF    r0x15, W
01FE 6EE5      03176         MOVWF   POSTDEC1
0200 5000      03177         MOVF    r0x14, W
0202 6EE5      03178         MOVWF   POSTDEC1
0204 5000      03179         MOVF    r0x13, W
0206 6EE5      03180         MOVWF   POSTDEC1
0208 5000      03181         MOVF    r0x11, W
020A 6EE5      03182         MOVWF   POSTDEC1
020C 5000      03183         MOVF    r0x10, W
020E 6EE5      03184         MOVWF   POSTDEC1
0210 5000      03185         MOVF    r0x0f, W
0212 6EE5      03186         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0214 5000      03187         MOVF    r0x0e, W
0216 6EE5      03188         MOVWF   POSTDEC1
0218 EC00 F000 03189         CALL    __divulong
021C 6E00      03190         MOVWF   r0x0e
021E CFF3 F000 03191         MOVFF   PRODL, r0x0f
0222 CFF4 F000 03192         MOVFF   PRODH, r0x10
0226 CFE9 F000 03193         MOVFF   FSR0L, r0x11
022A 0E08      03194         MOVLW   0x08
022C 26E1      03195         ADDWF   FSR1L, F
022E D000      03196         BRA     _00737_DS_
0230 03197 _00758_DS_:
0230 C000 F000 03198         MOVFF   r0x06, r0x03
0234 C000 F000 03199         MOVFF   r0x08, r0x04
0238 C000 F000 03200         MOVFF   r0x12, r0x05
               03201 ;       .line   146; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (neg)
023C 5000      03202         MOVF    r0x0c, W
023E E000      03203         BZ      _00745_DS_
               03204 ;       .line   148; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        if (width && (pad & PAD_ZERO))
0240 5000      03205         MOVF    r0x09, W
0242 E000      03206         BZ      _00741_DS_
0244 A200      03207         BTFSS   r0x0a, 1
0246 D000      03208         BRA     _00741_DS_
               03209 ;       .line   150; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        pprintc(out, '-');
0248 0E2D      03210         MOVLW   0x2d
024A 6EE5      03211         MOVWF   POSTDEC1
024C 5000      03212         MOVF    r0x02, W
024E 6EE5      03213         MOVWF   POSTDEC1
0250 5000      03214         MOVF    r0x01, W
0252 6EE5      03215         MOVWF   POSTDEC1
0254 5000      03216         MOVF    r0x00, W
0256 6EE5      03217         MOVWF   POSTDEC1
0258 EC00 F000 03218         CALL    _pprintc
025C 0E04      03219         MOVLW   0x04
025E 26E1      03220         ADDWF   FSR1L, F
               03221 ;       .line   151; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        ++pc;
0260 0E01      03222         MOVLW   0x01
0262 6E00      03223         MOVWF   r0x0d
               03224 ;       .line   152; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        --width;
0264 0600      03225         DECF    r0x09, F
0266 D000      03226         BRA     _00745_DS_
0268 03227 _00741_DS_:
               03228 ;       .line   156; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        *--string = '-';
0268 0EFF      03229         MOVLW   0xff
026A 2600      03230         ADDWF   r0x03, F
026C 2200      03231         ADDWFC  r0x04, F
026E 2200      03232         ADDWFC  r0x05, F
0270 0E2D      03233         MOVLW   0x2d
0272 6EE5      03234         MOVWF   POSTDEC1
0274 C000 FFE9 03235         MOVFF   r0x03, FSR0L
0278 C000 FFF3 03236         MOVFF   r0x04, PRODL
027C 5000      03237         MOVF    r0x05, W
027E EC00 F000 03238         CALL    __gptrput1
0282 03239 _00745_DS_:
               03240 ;       .line   160; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c        return pc + pprints(out, string, width, pad);
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0282 5000      03241         MOVF    r0x0a, W
0284 6EE5      03242         MOVWF   POSTDEC1
0286 5000      03243         MOVF    r0x09, W
0288 6EE5      03244         MOVWF   POSTDEC1
028A 5000      03245         MOVF    r0x05, W
028C 6EE5      03246         MOVWF   POSTDEC1
028E 5000      03247         MOVF    r0x04, W
0290 6EE5      03248         MOVWF   POSTDEC1
0292 5000      03249         MOVF    r0x03, W
0294 6EE5      03250         MOVWF   POSTDEC1
0296 5000      03251         MOVF    r0x02, W
0298 6EE5      03252         MOVWF   POSTDEC1
029A 5000      03253         MOVF    r0x01, W
029C 6EE5      03254         MOVWF   POSTDEC1
029E 5000      03255         MOVF    r0x00, W
02A0 6EE5      03256         MOVWF   POSTDEC1
02A2 EC00 F000 03257         CALL    _pprints
02A6 6E00      03258         MOVWF   r0x00
02A8 0E08      03259         MOVLW   0x08
02AA 26E1      03260         ADDWF   FSR1L, F
02AC 5000      03261         MOVF    r0x00, W
02AE 2600      03262         ADDWF   r0x0d, F
02B0 5000      03263         MOVF    r0x0d, W
02B2 03264 _00746_DS_:
02B2 CFE4 F000 03265         MOVFF   PREINC1, r0x1b
02B6 CFE4 F000 03266         MOVFF   PREINC1, r0x1a
02BA CFE4 F000 03267         MOVFF   PREINC1, r0x19
02BE CFE4 F000 03268         MOVFF   PREINC1, r0x18
02C2 CFE4 F000 03269         MOVFF   PREINC1, r0x17
02C6 CFE4 F000 03270         MOVFF   PREINC1, r0x16
02CA CFE4 F000 03271         MOVFF   PREINC1, r0x15
02CE CFE4 F000 03272         MOVFF   PREINC1, r0x14
02D2 CFE4 F000 03273         MOVFF   PREINC1, r0x13
02D6 CFE4 F000 03274         MOVFF   PREINC1, r0x12
02DA CFE4 F000 03275         MOVFF   PREINC1, r0x11
02DE CFE4 F000 03276         MOVFF   PREINC1, r0x10
02E2 CFE4 F000 03277         MOVFF   PREINC1, r0x0f
02E6 CFE4 F000 03278         MOVFF   PREINC1, r0x0e
02EA CFE4 F000 03279         MOVFF   PREINC1, r0x0d
02EE CFE4 F000 03280         MOVFF   PREINC1, r0x0c
02F2 CFE4 F000 03281         MOVFF   PREINC1, r0x0b
02F6 CFE4 F000 03282         MOVFF   PREINC1, r0x0a
02FA CFE4 F000 03283         MOVFF   PREINC1, r0x09
02FE CFE4 F000 03284         MOVFF   PREINC1, r0x08
0302 CFE4 F000 03285         MOVFF   PREINC1, r0x07
0306 CFE4 F000 03286         MOVFF   PREINC1, r0x06
030A CFE4 F000 03287         MOVFF   PREINC1, r0x05
030E CFE4 F000 03288         MOVFF   PREINC1, r0x04
0312 CFE4 F000 03289         MOVFF   PREINC1, r0x03
0316 CFE4 F000 03290         MOVFF   PREINC1, r0x02
031A CFE4 F000 03291         MOVFF   PREINC1, r0x01
031E CFE4 F000 03292         MOVFF   PREINC1, r0x00
0322 CFE4 FFD9 03293         MOVFF   PREINC1, FSR2L
0326 0012      03294         RETURN  
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               03295 
               03296 ; ; Starting pCode block
               03297 S_main__pprints code
0000 03298 _pprints:
               03299 ;       .line   62; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c static int pprints(u8 **out, const u8 *string, u8 width, u8 pad)
0000 CFD9 FFE5 03300         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 03301         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 03302         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 03303         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 03304         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 03305         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 03306         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 03307         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 03308         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 03309         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 03310         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 03311         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 03312         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 03313         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 03314         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 03315         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 03316         MOVFF   r0x0e, POSTDEC1
0044 0E02      03317         MOVLW   0x02
0046 CFDB F000 03318         MOVFF   PLUSW2, r0x00
004A 0E03      03319         MOVLW   0x03
004C CFDB F000 03320         MOVFF   PLUSW2, r0x01
0050 0E04      03321         MOVLW   0x04
0052 CFDB F000 03322         MOVFF   PLUSW2, r0x02
0056 0E05      03323         MOVLW   0x05
0058 CFDB F000 03324         MOVFF   PLUSW2, r0x03
005C 0E06      03325         MOVLW   0x06
005E CFDB F000 03326         MOVFF   PLUSW2, r0x04
0062 0E07      03327         MOVLW   0x07
0064 CFDB F000 03328         MOVFF   PLUSW2, r0x05
0068 0E08      03329         MOVLW   0x08
006A CFDB F000 03330         MOVFF   PLUSW2, r0x06
006E 0E09      03331         MOVLW   0x09
0070 CFDB F000 03332         MOVFF   PLUSW2, r0x07
               03333 ;       .line   64; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c register u8 pc = 0;
0074 6A00      03334         CLRF    r0x08
               03335 ;       .line   65; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c u8 padchar = ' ';
0076 0E20      03336         MOVLW   0x20
0078 6E00      03337         MOVWF   r0x09
               03338 ;       .line   69; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c if (width > 0)
007A 5000      03339         MOVF    r0x06, W
007C E000      03340         BZ      _00680_DS_
               03341 ;       .line   71; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c for (ptr = string; *ptr; ++ptr)
007E 6A00      03342         CLRF    r0x0a
0080 C000 F000 03343         MOVFF   r0x03, r0x0b
0084 C000 F000 03344         MOVFF   r0x04, r0x0c
0088 C000 F000 03345         MOVFF   r0x05, r0x0d
008C 03346 _00683_DS_:
008C C000 FFE9 03347         MOVFF   r0x0b, FSR0L
0090 C000 FFF3 03348         MOVFF   r0x0c, PRODL
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0094 5000      03349         MOVF    r0x0d, W
0096 EC00 F000 03350         CALL    __gptrget1
009A 6E00      03351         MOVWF   r0x0e
009C 5000      03352         MOVF    r0x0e, W
009E E000      03353         BZ      _00686_DS_
               03354 ;       .line   72; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c ++len;
00A0 2A00      03355         INCF    r0x0a, F
               03356 ;       .line   71; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c for (ptr = string; *ptr; ++ptr)
00A2 2A00      03357         INCF    r0x0b, F
00A4 B0D8      03358         BTFSC   STATUS, 0
00A6 2A00      03359         INCF    r0x0c, F
00A8 B0D8      03360         BTFSC   STATUS, 0
00AA 2A00      03361         INCF    r0x0d, F
00AC D000      03362         BRA     _00683_DS_
00AE 03363 _00686_DS_:
               03364 ;       .line   73; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c if (len >= width)
00AE 5000      03365         MOVF    r0x06, W
00B0 5C00      03366         SUBWF   r0x0a, W
00B2 E300      03367         BNC     _00675_DS_
               03368 ;       .line   74; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c width = 0;
00B4 6A00      03369         CLRF    r0x06
00B6 D000      03370         BRA     _00676_DS_
00B8 03371 _00675_DS_:
               03372 ;       .line   76; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c width -= len;
00B8 5000      03373         MOVF    r0x0a, W
00BA 5E00      03374         SUBWF   r0x06, F
00BC 03375 _00676_DS_:
               03376 ;       .line   77; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c if (pad & PAD_ZERO) padchar = '0';
00BC A200      03377         BTFSS   r0x07, 1
00BE D000      03378         BRA     _00680_DS_
00C0 0E30      03379         MOVLW   0x30
00C2 6E00      03380         MOVWF   r0x09
00C4 03381 _00680_DS_:
               03382 ;       .line   79; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c if (!(pad & PAD_RIGHT))
00C4 B000      03383         BTFSC   r0x07, 0
00C6 D000      03384         BRA     _00714_DS_
00C8 6A00      03385         CLRF    r0x07
00CA C000 F000 03386         MOVFF   r0x06, r0x0a
00CE 03387 _00687_DS_:
               03388 ;       .line   81; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c for ( ; width > 0; --width)
00CE 5000      03389         MOVF    r0x0a, W
00D0 E000      03390         BZ      _00701_DS_
00D2 0E01      03391         MOVLW   0x01
00D4 6E00      03392         MOVWF   r0x0b
00D6 D000      03393         BRA     _00702_DS_
00D8 03394 _00701_DS_:
00D8 6A00      03395         CLRF    r0x0b
00DA 03396 _00702_DS_:
00DA 5000      03397         MOVF    r0x0b, W
00DC E000      03398         BZ      _00719_DS_
               03399 ;       .line   83; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c pprintc(out, padchar);
00DE 5000      03400         MOVF    r0x09, W
00E0 6EE5      03401         MOVWF   POSTDEC1
00E2 5000      03402         MOVF    r0x02, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00E4 6EE5      03403         MOVWF   POSTDEC1
00E6 5000      03404         MOVF    r0x01, W
00E8 6EE5      03405         MOVWF   POSTDEC1
00EA 5000      03406         MOVF    r0x00, W
00EC 6EE5      03407         MOVWF   POSTDEC1
00EE EC00 F000 03408         CALL    _pprintc
00F2 0E04      03409         MOVLW   0x04
00F4 26E1      03410         ADDWF   FSR1L, F
               03411 ;       .line   84; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c ++pc;
00F6 2A00      03412         INCF    r0x07, F
               03413 ;       .line   81; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c for ( ; width > 0; --width)
00F8 0600      03414         DECF    r0x0a, F
00FA D000      03415         BRA     _00687_DS_
00FC 03416 _00719_DS_:
00FC C000 F000 03417         MOVFF   r0x07, r0x08
0100 C000 F000 03418         MOVFF   r0x0a, r0x06
0104 03419 _00714_DS_:
0104 C000 F000 03420         MOVFF   r0x08, r0x07
0108 03421 _00691_DS_:
               03422 ;       .line   87; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c for ( ; *string ; ++string)
0108 C000 FFE9 03423         MOVFF   r0x03, FSR0L
010C C000 FFF3 03424         MOVFF   r0x04, PRODL
0110 5000      03425         MOVF    r0x05, W
0112 EC00 F000 03426         CALL    __gptrget1
0116 6E00      03427         MOVWF   r0x08
0118 5000      03428         MOVF    r0x08, W
011A E000      03429         BZ      _00717_DS_
               03430 ;       .line   89; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c pprintc(out, *string);
011C 5000      03431         MOVF    r0x08, W
011E 6EE5      03432         MOVWF   POSTDEC1
0120 5000      03433         MOVF    r0x02, W
0122 6EE5      03434         MOVWF   POSTDEC1
0124 5000      03435         MOVF    r0x01, W
0126 6EE5      03436         MOVWF   POSTDEC1
0128 5000      03437         MOVF    r0x00, W
012A 6EE5      03438         MOVWF   POSTDEC1
012C EC00 F000 03439         CALL    _pprintc
0130 0E04      03440         MOVLW   0x04
0132 26E1      03441         ADDWF   FSR1L, F
               03442 ;       .line   90; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c ++pc;
0134 2A00      03443         INCF    r0x07, F
               03444 ;       .line   87; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c for ( ; *string ; ++string)
0136 2A00      03445         INCF    r0x03, F
0138 B0D8      03446         BTFSC   STATUS, 0
013A 2A00      03447         INCF    r0x04, F
013C B0D8      03448         BTFSC   STATUS, 0
013E 2A00      03449         INCF    r0x05, F
0140 D000      03450         BRA     _00691_DS_
0142 03451 _00717_DS_:
0142 C000 F000 03452         MOVFF   r0x07, r0x03
0146 C000 F000 03453         MOVFF   r0x06, r0x04
014A 03454 _00695_DS_:
               03455 ;       .line   92; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c for ( ; width > 0; --width)
014A 5000      03456         MOVF    r0x04, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
014C E000      03457         BZ      _00703_DS_
014E 0E01      03458         MOVLW   0x01
0150 6E00      03459         MOVWF   r0x05
0152 D000      03460         BRA     _00704_DS_
0154 03461 _00703_DS_:
0154 6A00      03462         CLRF    r0x05
0156 03463 _00704_DS_:
0156 5000      03464         MOVF    r0x05, W
0158 E000      03465         BZ      _00698_DS_
               03466 ;       .line   94; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c pprintc(out, padchar);
015A 5000      03467         MOVF    r0x09, W
015C 6EE5      03468         MOVWF   POSTDEC1
015E 5000      03469         MOVF    r0x02, W
0160 6EE5      03470         MOVWF   POSTDEC1
0162 5000      03471         MOVF    r0x01, W
0164 6EE5      03472         MOVWF   POSTDEC1
0166 5000      03473         MOVF    r0x00, W
0168 6EE5      03474         MOVWF   POSTDEC1
016A EC00 F000 03475         CALL    _pprintc
016E 0E04      03476         MOVLW   0x04
0170 26E1      03477         ADDWF   FSR1L, F
               03478 ;       .line   95; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c ++pc;
0172 2A00      03479         INCF    r0x03, F
               03480 ;       .line   92; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c for ( ; width > 0; --width)
0174 0600      03481         DECF    r0x04, F
0176 D000      03482         BRA     _00695_DS_
               03483 ; =DF= MOVFF: replaced by CRLF/SETF
0178 03484 _00698_DS_:
               03485 ;       .line   98; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c return pc;
0178 6AF3      03486         CLRF    PRODL
017A 5000      03487         MOVF    r0x03, W
017C CFE4 F000 03488         MOVFF   PREINC1, r0x0e
0180 CFE4 F000 03489         MOVFF   PREINC1, r0x0d
0184 CFE4 F000 03490         MOVFF   PREINC1, r0x0c
0188 CFE4 F000 03491         MOVFF   PREINC1, r0x0b
018C CFE4 F000 03492         MOVFF   PREINC1, r0x0a
0190 CFE4 F000 03493         MOVFF   PREINC1, r0x09
0194 CFE4 F000 03494         MOVFF   PREINC1, r0x08
0198 CFE4 F000 03495         MOVFF   PREINC1, r0x07
019C CFE4 F000 03496         MOVFF   PREINC1, r0x06
01A0 CFE4 F000 03497         MOVFF   PREINC1, r0x05
01A4 CFE4 F000 03498         MOVFF   PREINC1, r0x04
01A8 CFE4 F000 03499         MOVFF   PREINC1, r0x03
01AC CFE4 F000 03500         MOVFF   PREINC1, r0x02
01B0 CFE4 F000 03501         MOVFF   PREINC1, r0x01
01B4 CFE4 F000 03502         MOVFF   PREINC1, r0x00
01B8 CFE4 FFD9 03503         MOVFF   PREINC1, FSR2L
01BC 0012      03504         RETURN  
               03505 
               03506 ; ; Starting pCode block
               03507 S_main__pprintc code
0000 03508 _pprintc:
               03509 ;       .line   42; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c static void pprintc(u8 **str, u8 c)
0000 CFD9 FFE5 03510         MOVFF   FSR2L, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0004 CFE1 FFD9 03511         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 03512         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 03513         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 03514         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 03515         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 03516         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 03517         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 03518         MOVFF   r0x06, POSTDEC1
0024 0E02      03519         MOVLW   0x02
0026 CFDB F000 03520         MOVFF   PLUSW2, r0x00
002A 0E03      03521         MOVLW   0x03
002C CFDB F000 03522         MOVFF   PLUSW2, r0x01
0030 0E04      03523         MOVLW   0x04
0032 CFDB F000 03524         MOVFF   PLUSW2, r0x02
0036 0E05      03525         MOVLW   0x05
0038 CFDB F000 03526         MOVFF   PLUSW2, r0x03
               03527 ;       .line   44; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c if (str)
003C 5000      03528         MOVF    r0x00, W
003E 1000      03529         IORWF   r0x01, W
0040 1000      03530         IORWF   r0x02, W
0042 E000      03531         BZ      _00664_DS_
               03532 ;       .line   46; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c **str = c;
0044 C000 FFE9 03533         MOVFF   r0x00, FSR0L
0048 C000 FFF3 03534         MOVFF   r0x01, PRODL
004C 5000      03535         MOVF    r0x02, W
004E EC00 F000 03536         CALL    __gptrget3
0052 6E00      03537         MOVWF   r0x04
0054 CFF3 F000 03538         MOVFF   PRODL, r0x05
0058 CFF4 F000 03539         MOVFF   PRODH, r0x06
005C C000 FFE5 03540         MOVFF   r0x03, POSTDEC1
0060 C000 FFE9 03541         MOVFF   r0x04, FSR0L
0064 C000 FFF3 03542         MOVFF   r0x05, PRODL
0068 5000      03543         MOVF    r0x06, W
006A EC00 F000 03544         CALL    __gptrput1
               03545 ;       .line   47; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c ++(*str);
006E 2A00      03546         INCF    r0x04, F
0070 B0D8      03547         BTFSC   STATUS, 0
0072 2A00      03548         INCF    r0x05, F
0074 B0D8      03549         BTFSC   STATUS, 0
0076 2A00      03550         INCF    r0x06, F
0078 C000 FFE5 03551         MOVFF   r0x04, POSTDEC1
007C C000 FFF4 03552         MOVFF   r0x05, PRODH
0080 C000 FFF6 03553         MOVFF   r0x06, TBLPTRL
0084 C000 FFE9 03554         MOVFF   r0x00, FSR0L
0088 C000 FFF3 03555         MOVFF   r0x01, PRODL
008C 5000      03556         MOVF    r0x02, W
008E EC00 F000 03557         CALL    __gptrput3
0092 D000      03558         BRA     _00666_DS_
0094 03559 _00664_DS_:
               03560 ;       .line   51; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/stdio.c pputchar(c);
0094 5000      03561         MOVF    r0x03, W
0096 6EE5      03562         MOVWF   POSTDEC1
0098 CFF2 FFE5 03563         MOVFF   INTCON, POSTDEC1
009C 9EF2      03564         BCF     INTCON, 7
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
009E 0005      03565         PUSH    
00A0 0E00      03566         MOVLW   LOW(_00669_DS_)
00A2 6EFD      03567         MOVWF   TOSL
00A4 0E00      03568         MOVLW   HIGH(_00669_DS_)
00A6 6EFE      03569         MOVWF   TOSH
00A8 0E00      03570         MOVLW   UPPER(_00669_DS_)
00AA 6EFF      03571         MOVWF   TOSU
00AC 50E4      03572         MOVF    PREINC1, W
00AE 6EF2      03573         MOVWF   INTCON
00B0 C000 FFFB 03574         MOVFF   (_pputchar + 2), PCLATU
00B4 C000 FFFA 03575         MOVFF   (_pputchar + 1), PCLATH
00B8 0000      03576         BANKSEL _pputchar
00BA 5100      03577         MOVF    _pputchar, W, B
00BC 6EF9      03578         MOVWF   PCL
00BE 03579 _00669_DS_:
00BE 0E01      03580         MOVLW   0x01
00C0 26E1      03581         ADDWF   FSR1L, F
00C2 03582 _00666_DS_:
00C2 CFE4 F000 03583         MOVFF   PREINC1, r0x06
00C6 CFE4 F000 03584         MOVFF   PREINC1, r0x05
00CA CFE4 F000 03585         MOVFF   PREINC1, r0x04
00CE CFE4 F000 03586         MOVFF   PREINC1, r0x03
00D2 CFE4 F000 03587         MOVFF   PREINC1, r0x02
00D6 CFE4 F000 03588         MOVFF   PREINC1, r0x01
00DA CFE4 F000 03589         MOVFF   PREINC1, r0x00
00DE CFE4 FFD9 03590         MOVFF   PREINC1, FSR2L
00E2 0012      03591         RETURN  
               03592 
               03593 ; ; Starting pCode block
               03594 S_main__Delayus code
0000 03595 _Delayus:
               03596 ;       .line   16; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/delay.c void Delayus(int microsecondes)
0000 CFD9 FFE5 03597         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 03598         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 03599         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 03600         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 03601         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 03602         MOVFF   r0x03, POSTDEC1
0018 0E02      03603         MOVLW   0x02
001A CFDB F000 03604         MOVFF   PLUSW2, r0x00
001E 0E03      03605         MOVLW   0x03
0020 CFDB F000 03606         MOVFF   PLUSW2, r0x01
               03607 ;       .line   20; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/delay.c for (i=0;i<microsecondes;i++);
0024 6A00      03608         CLRF    r0x02
0026 6A00      03609         CLRF    r0x03
0028 03610 _00649_DS_:
0028 5000      03611         MOVF    r0x01, W
002A 5C00      03612         SUBWF   r0x03, W
002C E100      03613         BNZ     _00658_DS_
002E 5000      03614         MOVF    r0x00, W
0030 5C00      03615         SUBWF   r0x02, W
0032 03616 _00658_DS_:
0032 E200      03617         BC      _00653_DS_
0034 2A00      03618         INCF    r0x02, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0036 B0D8      03619         BTFSC   STATUS, 0
0038 2A00      03620         INCF    r0x03, F
003A D000      03621         BRA     _00649_DS_
003C 03622 _00653_DS_:
003C CFE4 F000 03623         MOVFF   PREINC1, r0x03
0040 CFE4 F000 03624         MOVFF   PREINC1, r0x02
0044 CFE4 F000 03625         MOVFF   PREINC1, r0x01
0048 CFE4 F000 03626         MOVFF   PREINC1, r0x00
004C CFE4 FFD9 03627         MOVFF   PREINC1, FSR2L
0050 0012      03628         RETURN  
               03629 
               03630 ; ; Starting pCode block
               03631 S_main__Delayms code
0000 03632 _Delayms:
               03633 ;       .line   9; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/delay.c  void Delayms(unsigned long milliseconde)
0000 CFD9 FFE5 03634         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 03635         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 03636         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 03637         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 03638         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 03639         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 03640         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 03641         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 03642         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 03643         MOVFF   r0x07, POSTDEC1
0028 0E02      03644         MOVLW   0x02
002A CFDB F000 03645         MOVFF   PLUSW2, r0x00
002E 0E03      03646         MOVLW   0x03
0030 CFDB F000 03647         MOVFF   PLUSW2, r0x01
0034 0E04      03648         MOVLW   0x04
0036 CFDB F000 03649         MOVFF   PLUSW2, r0x02
003A 0E05      03650         MOVLW   0x05
003C CFDB F000 03651         MOVFF   PLUSW2, r0x03
               03652 ;       .line   13; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/core/delay.c for (i=0;i<milliseconde;i++) delay10ktcy(1);
0040 6A00      03653         CLRF    r0x04
0042 6A00      03654         CLRF    r0x05
0044 6A00      03655         CLRF    r0x06
0046 6A00      03656         CLRF    r0x07
0048 03657 _00635_DS_:
0048 5000      03658         MOVF    r0x03, W
004A 5C00      03659         SUBWF   r0x07, W
004C E100      03660         BNZ     _00644_DS_
004E 5000      03661         MOVF    r0x02, W
0050 5C00      03662         SUBWF   r0x06, W
0052 E100      03663         BNZ     _00644_DS_
0054 5000      03664         MOVF    r0x01, W
0056 5C00      03665         SUBWF   r0x05, W
0058 E100      03666         BNZ     _00644_DS_
005A 5000      03667         MOVF    r0x00, W
005C 5C00      03668         SUBWF   r0x04, W
005E 03669 _00644_DS_:
005E E200      03670         BC      _00639_DS_
0060 0E01      03671         MOVLW   0x01
0062 EC00 F000 03672         CALL    _delay10ktcy
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0066 2A00      03673         INCF    r0x04, F
0068 B0D8      03674         BTFSC   STATUS, 0
006A 2A00      03675         INCF    r0x05, F
006C B0D8      03676         BTFSC   STATUS, 0
006E 2A00      03677         INCF    r0x06, F
0070 B0D8      03678         BTFSC   STATUS, 0
0072 2A00      03679         INCF    r0x07, F
0074 D000      03680         BRA     _00635_DS_
0076 03681 _00639_DS_:
0076 CFE4 F000 03682         MOVFF   PREINC1, r0x07
007A CFE4 F000 03683         MOVFF   PREINC1, r0x06
007E CFE4 F000 03684         MOVFF   PREINC1, r0x05
0082 CFE4 F000 03685         MOVFF   PREINC1, r0x04
0086 CFE4 F000 03686         MOVFF   PREINC1, r0x03
008A CFE4 F000 03687         MOVFF   PREINC1, r0x02
008E CFE4 F000 03688         MOVFF   PREINC1, r0x01
0092 CFE4 F000 03689         MOVFF   PREINC1, r0x00
0096 CFE4 FFD9 03690         MOVFF   PREINC1, FSR2L
009A 0012      03691         RETURN  
               03692 
               03693 ; ; Starting pCode block
               03694 S_main__CDCInitEndpoint code
0000 03695 _CDCInitEndpoint:
0000 0000      03696         BANKSEL _line_config
               03697 ;       .line   167; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     line_config.dwDTERate = USB_CDC_BAUD_RATE;
0002 6B00      03698         CLRF    _line_config, B
0004 0EC2      03699         MOVLW   0xc2
               03700 ; removed redundant BANKSEL
0006 6F00      03701         MOVWF   (_line_config + 1), B
0008 0E01      03702         MOVLW   0x01
               03703 ; removed redundant BANKSEL
000A 6F00      03704         MOVWF   (_line_config + 2), B
               03705 ; removed redundant BANKSEL
000C 6B00      03706         CLRF    (_line_config + 3), B
               03707 ; removed redundant BANKSEL
               03708 ;       .line   168; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     line_config.bCharFormat = USB_CDC_STOP_BITS;
000E 6B00      03709         CLRF    (_line_config + 4), B
               03710 ; removed redundant BANKSEL
               03711 ;       .line   169; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     line_config.bParityType = USB_CDC_PARITY;
0010 6B00      03712         CLRF    (_line_config + 5), B
               03713 ;       .line   170; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     line_config.bDataBits = USB_CDC_DATA_BITS;
0012 0E08      03714         MOVLW   0x08
               03715 ; removed redundant BANKSEL
0014 6F00      03716         MOVWF   (_line_config + 6), B
0016 0000      03717         BANKSEL _zlp
               03718 ;       .line   171; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     zlp.wValue0=0;
0018 6B00      03719         CLRF    _zlp, B
               03720 ; removed redundant BANKSEL
               03721 ;       .line   172; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     zlp.wValue1=0;
001A 6B00      03722         CLRF    (_zlp + 1), B
               03723 ; removed redundant BANKSEL
               03724 ;       .line   173; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     zlp.wValue2=0;
001C 6B00      03725         CLRF    (_zlp + 2), B
               03726 ; removed redundant BANKSEL
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               03727 ;       .line   174; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     zlp.wValue3=0;
001E 6B00      03728         CLRF    (_zlp + 3), B
               03729 ; removed redundant BANKSEL
               03730 ;       .line   175; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     zlp.wValue4=0;
0020 6B00      03731         CLRF    (_zlp + 4), B
               03732 ; removed redundant BANKSEL
               03733 ;       .line   176; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     zlp.wValue5=0;
0022 6B00      03734         CLRF    (_zlp + 5), B
               03735 ; removed redundant BANKSEL
               03736 ;       .line   177; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     zlp.wValue6=0;
0024 6B00      03737         CLRF    (_zlp + 6), B
               03738 ; removed redundant BANKSEL
               03739 ;       .line   178; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     zlp.wValue7=0;
0026 6B00      03740         CLRF    (_zlp + 7), B
               03741 ;       .line   183; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     USB_COMM_EP_UEP = EP_IN | HSHK_EN;
0028 0E1A      03742         MOVLW   0x1a
002A 6E00      03743         MOVWF   _UEP2
               03744 ;       .line   186; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     CDC_DATA_EP_UEP = EP_OUT_IN | HSHK_EN;
002C 0E1E      03745         MOVLW   0x1e
002E 6E00      03746         MOVWF   _UEP3
               03747 ;       .line   190; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_IN_BD(USB_COMM_EP_NUM).ADDR = PTR16(&CDCControlBuffer);
0030 0E00      03748         MOVLW   LOW(_CDCControlBuffer)
0032 0000      03749         BANKSEL (_ep_bdt + 22)
0034 6F00      03750         MOVWF   (_ep_bdt + 22), B
0036 0E00      03751         MOVLW   HIGH(_CDCControlBuffer)
               03752 ; removed redundant BANKSEL
0038 6F00      03753         MOVWF   (_ep_bdt + 23), B
               03754 ; #     MOVLW   0x40
               03755 ; #     MOVWF   (_ep_bdt + 20), B
               03756 ; #     MOVLW   0x40
               03757 ;       .line   191; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_IN_BD(USB_COMM_EP_NUM).Stat.uc = BDS_DAT1 | BDS_COWN;
003A 0E40      03758         MOVLW   0x40
               03759 ; removed redundant BANKSEL
               03760 ;       .line   194; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_OUT_BD(CDC_DATA_EP_NUM).Cnt = sizeof(CDCRxBuffer);
003C 6F00      03761         MOVWF   (_ep_bdt + 20), B
               03762 ; removed redundant BANKSEL
003E 6F00      03763         MOVWF   (_ep_bdt + 25), B
               03764 ;       .line   195; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_OUT_BD(CDC_DATA_EP_NUM).ADDR = PTR16(&CDCRxBuffer);
0040 0E00      03765         MOVLW   LOW(_CDCRxBuffer)
               03766 ; removed redundant BANKSEL
0042 6F00      03767         MOVWF   (_ep_bdt + 26), B
0044 0E00      03768         MOVLW   HIGH(_CDCRxBuffer)
               03769 ; removed redundant BANKSEL
0046 6F00      03770         MOVWF   (_ep_bdt + 27), B
               03771 ;       .line   196; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_OUT_BD(CDC_DATA_EP_NUM).Stat.uc = BDS_UOWN | BDS_DAT0 | BDS_DTSEN;
0048 0E88      03772         MOVLW   0x88
               03773 ; removed redundant BANKSEL
004A 6F00      03774         MOVWF   (_ep_bdt + 24), B
               03775 ;       .line   198; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_IN_BD(CDC_DATA_EP_NUM).ADDR = PTR16(&CDCTxBuffer); // +1 
004C 0E00      03776         MOVLW   LOW(_CDCTxBuffer)
               03777 ; removed redundant BANKSEL
004E 6F00      03778         MOVWF   (_ep_bdt + 30), B
0050 0E00      03779         MOVLW   HIGH(_CDCTxBuffer)
               03780 ; removed redundant BANKSEL
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0052 6F00      03781         MOVWF   (_ep_bdt + 31), B
               03782 ;       .line   199; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_IN_BD(CDC_DATA_EP_NUM).Stat.uc = BDS_DAT1 | BDS_COWN; 
0054 0E40      03783         MOVLW   0x40
               03784 ; removed redundant BANKSEL
0056 6F00      03785         MOVWF   (_ep_bdt + 28), B
               03786 ;       .line   200; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     deviceState=CONFIGURED; 
0058 0E05      03787         MOVLW   0x05
005A 0000      03788         BANKSEL _deviceState
005C 6F00      03789         MOVWF   _deviceState, B
005E 0012      03790         RETURN  
               03791 
               03792 ; ; Starting pCode block
               03793 S_main__CDCputs code
0000 03794 _CDCputs:
               03795 ;       .line   131; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     byte CDCputs(char *buffer, byte length) {
0000 CFD9 FFE5 03796         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 03797         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 03798         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 03799         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 03800         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 03801         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 03802         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 03803         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 03804         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 03805         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 03806         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 03807         MOVFF   r0x09, POSTDEC1
0030 0E02      03808         MOVLW   0x02
0032 CFDB F000 03809         MOVFF   PLUSW2, r0x00
0036 0E03      03810         MOVLW   0x03
0038 CFDB F000 03811         MOVFF   PLUSW2, r0x01
003C 0E04      03812         MOVLW   0x04
003E CFDB F000 03813         MOVFF   PLUSW2, r0x02
0042 0E05      03814         MOVLW   0x05
0044 CFDB F000 03815         MOVFF   PLUSW2, r0x03
               03816 ;       .line   132; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     byte i=0;
0048 6A00      03817         CLRF    r0x04
004A 0000      03818         BANKSEL _deviceState
               03819 ;       .line   134; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     if (deviceState != CONFIGURED) return 0;
004C 5100      03820         MOVF    _deviceState, W, B
004E 0A05      03821         XORLW   0x05
0050 E000      03822         BZ      _00602_DS_
0052 6AE8      03823         CLRF    WREG
0054 D000      03824         BRA     _00613_DS_
0056 03825 _00602_DS_:
0056 0000      03826         BANKSEL _CONTROL_LINE
               03827 ;       .line   135; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     if (!CONTROL_LINE) return 0;
0058 5100      03828         MOVF    _CONTROL_LINE, W, B
005A E100      03829         BNZ     _00604_DS_
005C 6AE8      03830         CLRF    WREG
005E D000      03831         BRA     _00613_DS_
0060 03832 _00604_DS_:
0060 0000      03833         BANKSEL (_ep_bdt + 28)
               03834 ;       .line   136; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     if (!EP_IN_BD(CDC_DATA_EP_NUM).Stat.UOWN) {
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 72


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0062 BF00      03835         BTFSC   (_ep_bdt + 28), 7, B
0064 D000      03836         BRA     _00608_DS_
               03837 ;       .line   137; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     if (length > CDC_BULK_IN_SIZE) length = CDC_BULK_IN_SIZE;
0066 0E41      03838         MOVLW   0x41
0068 5C00      03839         SUBWF   r0x03, W
006A E300      03840         BNC     _00620_DS_
006C 0E40      03841         MOVLW   0x40
006E 6E00      03842         MOVWF   r0x03
0070 03843 _00620_DS_:
               03844 ;       .line   138; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     for (i=0; i < length; i++) {
0070 6A00      03845         CLRF    r0x05
0072 03846 _00609_DS_:
0072 5000      03847         MOVF    r0x03, W
0074 5C00      03848         SUBWF   r0x05, W
0076 E200      03849         BC      _00621_DS_
               03850 ;       .line   139; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     CDCTxBuffer[i] = buffer[i];
0078 0E00      03851         MOVLW   LOW(_CDCTxBuffer)
007A 2400      03852         ADDWF   r0x05, W
007C 6E00      03853         MOVWF   r0x06
007E 6A00      03854         CLRF    r0x07
0080 0E00      03855         MOVLW   HIGH(_CDCTxBuffer)
0082 2200      03856         ADDWFC  r0x07, F
0084 5000      03857         MOVF    r0x05, W
0086 2400      03858         ADDWF   r0x00, W
0088 6E00      03859         MOVWF   r0x08
008A 6AE8      03860         CLRF    WREG
008C 2000      03861         ADDWFC  r0x01, W
008E 6E00      03862         MOVWF   r0x09
0090 6AE8      03863         CLRF    WREG
0092 2000      03864         ADDWFC  r0x02, W
0094 C000 FFE9 03865         MOVFF   r0x08, FSR0L
0098 C000 FFF3 03866         MOVFF   r0x09, PRODL
009C EC00 F000 03867         CALL    __gptrget1
00A0 6E00      03868         MOVWF   r0x08
00A2 C000 FFE9 03869         MOVFF   r0x06, FSR0L
00A6 C000 FFEA 03870         MOVFF   r0x07, FSR0H
00AA C000 FFEF 03871         MOVFF   r0x08, INDF0
               03872 ;       .line   138; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     for (i=0; i < length; i++) {
00AE 2A00      03873         INCF    r0x05, F
00B0 D000      03874         BRA     _00609_DS_
00B2 03875 _00621_DS_:
00B2 C000 F000 03876         MOVFF   r0x05, r0x04
               03877 ;       .line   148; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_IN_BD(CDC_DATA_EP_NUM).Cnt = i;
00B6 5000      03878         MOVF    r0x05, W
00B8 0000      03879         BANKSEL (_ep_bdt + 29)
00BA 6F00      03880         MOVWF   (_ep_bdt + 29), B
               03881 ;       .line   150; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_IN_BD(CDC_DATA_EP_NUM).Stat.uc &= 0x40;
00BC 0E40      03882         MOVLW   0x40
               03883 ; removed redundant BANKSEL
00BE 1500      03884         ANDWF   (_ep_bdt + 28), W, B
               03885 ; #     MOVWF   r0x00
               03886 ; #     MOVF    r0x00, W
00C0 6F00      03887         MOVWF   (_ep_bdt + 28), B
               03888 ;       .line   151; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_IN_BD(CDC_DATA_EP_NUM).Stat.DTS = !EP_IN_BD(CDC_DATA_EP_NUM).Stat.DTS;
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 73


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00C2 6A00      03889         CLRF    r0x00
               03890 ; removed redundant BANKSEL
00C4 BD00      03891         BTFSC   (_ep_bdt + 28), 6, B
00C6 2A00      03892         INCF    r0x00, F
00C8 5000      03893         MOVF    r0x00, W
00CA 80D8      03894         BSF     STATUS, 0
00CC 66E8      03895         TSTFSZ  WREG
00CE 90D8      03896         BCF     STATUS, 0
00D0 6A00      03897         CLRF    r0x00
00D2 3600      03898         RLCF    r0x00, F
00D4 5000      03899         MOVF    r0x00, W
00D6 0B01      03900         ANDLW   0x01
00D8 40E8      03901         RRNCF   WREG, W
00DA 40E8      03902         RRNCF   WREG, W
00DC 6EF4      03903         MOVWF   PRODH
               03904 ; removed redundant BANKSEL
00DE 5100      03905         MOVF    (_ep_bdt + 28), W, B
00E0 0BBF      03906         ANDLW   0xbf
00E2 10F4      03907         IORWF   PRODH, W
               03908 ; removed redundant BANKSEL
00E4 6F00      03909         MOVWF   (_ep_bdt + 28), B
               03910 ;       .line   153; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_IN_BD(CDC_DATA_EP_NUM).Stat.uc |= BDS_UOWN | BDS_DTSEN;
00E6 0E88      03911         MOVLW   0x88
               03912 ; removed redundant BANKSEL
00E8 1100      03913         IORWF   (_ep_bdt + 28), W, B
               03914 ; #     MOVWF   r0x00
               03915 ; #     MOVF    r0x00, W
00EA 6F00      03916         MOVWF   (_ep_bdt + 28), B
00EC 03917 _00608_DS_:
               03918 ;       .line   156; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     return i;
00EC 5000      03919         MOVF    r0x04, W
00EE 03920 _00613_DS_:
00EE CFE4 F000 03921         MOVFF   PREINC1, r0x09
00F2 CFE4 F000 03922         MOVFF   PREINC1, r0x08
00F6 CFE4 F000 03923         MOVFF   PREINC1, r0x07
00FA CFE4 F000 03924         MOVFF   PREINC1, r0x06
00FE CFE4 F000 03925         MOVFF   PREINC1, r0x05
0102 CFE4 F000 03926         MOVFF   PREINC1, r0x04
0106 CFE4 F000 03927         MOVFF   PREINC1, r0x03
010A CFE4 F000 03928         MOVFF   PREINC1, r0x02
010E CFE4 F000 03929         MOVFF   PREINC1, r0x01
0112 CFE4 F000 03930         MOVFF   PREINC1, r0x00
0116 CFE4 FFD9 03931         MOVFF   PREINC1, FSR2L
011A 0012      03932         RETURN  
               03933 
               03934 ; ; Starting pCode block
               03935 S_main__CDCgets code
0000 03936 _CDCgets:
               03937 ;       .line   98; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      byte CDCgets(char *buffer) {
0000 CFD9 FFE5 03938         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 03939         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 03940         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 03941         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 03942         MOVFF   r0x02, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 74


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0014 C000 FFE5 03943         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 03944         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 03945         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 03946         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 03947         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 03948         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 03949         MOVFF   r0x09, POSTDEC1
0030 0E02      03950         MOVLW   0x02
0032 CFDB F000 03951         MOVFF   PLUSW2, r0x00
0036 0E03      03952         MOVLW   0x03
0038 CFDB F000 03953         MOVFF   PLUSW2, r0x01
003C 0E04      03954         MOVLW   0x04
003E CFDB F000 03955         MOVFF   PLUSW2, r0x02
               03956 ;       .line   99; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      byte i=0;
0042 6A00      03957         CLRF    r0x03
0044 0000      03958         BANKSEL _deviceState
               03959 ;       .line   101; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     if (deviceState != CONFIGURED) return 0;
0046 5100      03960         MOVF    _deviceState, W, B
0048 0A05      03961         XORLW   0x05
004A E000      03962         BZ      _00573_DS_
004C 6AE8      03963         CLRF    WREG
004E D000      03964         BRA     _00584_DS_
0050 03965 _00573_DS_:
0050 0000      03966         BANKSEL _CONTROL_LINE
               03967 ;       .line   103; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     if (!CONTROL_LINE) return 0;
0052 5100      03968         MOVF    _CONTROL_LINE, W, B
0054 E100      03969         BNZ     _00575_DS_
0056 6AE8      03970         CLRF    WREG
0058 D000      03971         BRA     _00584_DS_
005A 03972 _00575_DS_:
005A 0000      03973         BANKSEL (_ep_bdt + 24)
               03974 ;       .line   105; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     if (!EP_OUT_BD(CDC_DATA_EP_NUM).Stat.UOWN) {
005C BF00      03975         BTFSC   (_ep_bdt + 24), 7, B
005E D000      03976         BRA     _00579_DS_
               03977 ;       .line   110; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     if (length > EP_OUT_BD(CDC_DATA_EP_NUM).Cnt) length = EP_OUT_BD(CDC_DATA_EP_NUM).Cnt;
0060 0E40      03978         MOVLW   0x40
               03979 ; #     SUBWF   (_ep_bdt + 25), W, B
               03980 ; #     BTFSC   STATUS, 0
               03981 ; #     GOTO    _00591_DS_
               03982 ; #;;;!!! pic16_aopOp:1071 called for a spillLocation -- assigning WREG instead --- CHECK
               03983 ; #     MOVFF   (_ep_bdt + 25), WREG
               03984 ; #     CLRF    r0x04
               03985 ; removed redundant BANKSEL
               03986 ;       .line   111; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     for (i=0; i < EP_OUT_BD(CDC_DATA_EP_NUM).Cnt; i++) {
0062 5D00      03987         SUBWF   (_ep_bdt + 25), W, B
0064 A0D8      03988         BTFSS   STATUS, 0
0066 C000 FFE8 03989         MOVFF   (_ep_bdt + 25), WREG
006A 6A00      03990         CLRF    r0x04
006C 03991 _00580_DS_:
006C 0000      03992         BANKSEL (_ep_bdt + 25)
006E 5100      03993         MOVF    (_ep_bdt + 25), W, B
0070 5C00      03994         SUBWF   r0x04, W
0072 E200      03995         BC      _00592_DS_
               03996 ;       .line   112; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     buffer[i] = CDCRxBuffer[i];
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 75


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0074 5000      03997         MOVF    r0x04, W
0076 2400      03998         ADDWF   r0x00, W
0078 6E00      03999         MOVWF   r0x05
007A 6AE8      04000         CLRF    WREG
007C 2000      04001         ADDWFC  r0x01, W
007E 6E00      04002         MOVWF   r0x06
0080 6AE8      04003         CLRF    WREG
0082 2000      04004         ADDWFC  r0x02, W
0084 6E00      04005         MOVWF   r0x07
0086 0E00      04006         MOVLW   LOW(_CDCRxBuffer)
0088 2400      04007         ADDWF   r0x04, W
008A 6E00      04008         MOVWF   r0x08
008C 6A00      04009         CLRF    r0x09
008E 0E00      04010         MOVLW   HIGH(_CDCRxBuffer)
0090 2200      04011         ADDWFC  r0x09, F
0092 C000 FFE9 04012         MOVFF   r0x08, FSR0L
0096 C000 FFEA 04013         MOVFF   r0x09, FSR0H
009A CFEF F000 04014         MOVFF   INDF0, r0x08
009E C000 FFE5 04015         MOVFF   r0x08, POSTDEC1
00A2 C000 FFE9 04016         MOVFF   r0x05, FSR0L
00A6 C000 FFF3 04017         MOVFF   r0x06, PRODL
00AA 5000      04018         MOVF    r0x07, W
00AC EC00 F000 04019         CALL    __gptrput1
               04020 ;       .line   111; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     for (i=0; i < EP_OUT_BD(CDC_DATA_EP_NUM).Cnt; i++) {
00B0 2A00      04021         INCF    r0x04, F
00B2 D000      04022         BRA     _00580_DS_
00B4 04023 _00592_DS_:
00B4 C000 F000 04024         MOVFF   r0x04, r0x03
               04025 ;       .line   121; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_OUT_BD(CDC_DATA_EP_NUM).Stat.uc &= 0x40;
00B8 0E40      04026         MOVLW   0x40
00BA 0000      04027         BANKSEL (_ep_bdt + 24)
00BC 1500      04028         ANDWF   (_ep_bdt + 24), W, B
               04029 ; #     MOVWF   r0x00
               04030 ; #     MOVF    r0x00, W
00BE 6F00      04031         MOVWF   (_ep_bdt + 24), B
               04032 ;       .line   122; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_OUT_BD(CDC_DATA_EP_NUM).Stat.DTS = !EP_OUT_BD(CDC_DATA_EP_NUM).Stat.DTS;
00C0 6A00      04033         CLRF    r0x00
               04034 ; removed redundant BANKSEL
00C2 BD00      04035         BTFSC   (_ep_bdt + 24), 6, B
00C4 2A00      04036         INCF    r0x00, F
00C6 5000      04037         MOVF    r0x00, W
00C8 80D8      04038         BSF     STATUS, 0
00CA 66E8      04039         TSTFSZ  WREG
00CC 90D8      04040         BCF     STATUS, 0
00CE 6A00      04041         CLRF    r0x00
00D0 3600      04042         RLCF    r0x00, F
00D2 5000      04043         MOVF    r0x00, W
00D4 0B01      04044         ANDLW   0x01
00D6 40E8      04045         RRNCF   WREG, W
00D8 40E8      04046         RRNCF   WREG, W
00DA 6EF4      04047         MOVWF   PRODH
               04048 ; removed redundant BANKSEL
00DC 5100      04049         MOVF    (_ep_bdt + 24), W, B
00DE 0BBF      04050         ANDLW   0xbf
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 76


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00E0 10F4      04051         IORWF   PRODH, W
               04052 ; removed redundant BANKSEL
00E2 6F00      04053         MOVWF   (_ep_bdt + 24), B
               04054 ;       .line   124; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_OUT_BD(CDC_DATA_EP_NUM).Cnt = sizeof(CDCRxBuffer);
00E4 0E40      04055         MOVLW   0x40
               04056 ; removed redundant BANKSEL
00E6 6F00      04057         MOVWF   (_ep_bdt + 25), B
               04058 ;       .line   125; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     EP_OUT_BD(CDC_DATA_EP_NUM).Stat.uc |= BDS_UOWN | BDS_DTSEN;
00E8 0E88      04059         MOVLW   0x88
               04060 ; removed redundant BANKSEL
00EA 1100      04061         IORWF   (_ep_bdt + 24), W, B
               04062 ; #     MOVWF   r0x00
               04063 ; #     MOVF    r0x00, W
00EC 6F00      04064         MOVWF   (_ep_bdt + 24), B
00EE 04065 _00579_DS_:
               04066 ;       .line   128; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c     return i;
00EE 5000      04067         MOVF    r0x03, W
00F0 04068 _00584_DS_:
00F0 CFE4 F000 04069         MOVFF   PREINC1, r0x09
00F4 CFE4 F000 04070         MOVFF   PREINC1, r0x08
00F8 CFE4 F000 04071         MOVFF   PREINC1, r0x07
00FC CFE4 F000 04072         MOVFF   PREINC1, r0x06
0100 CFE4 F000 04073         MOVFF   PREINC1, r0x05
0104 CFE4 F000 04074         MOVFF   PREINC1, r0x04
0108 CFE4 F000 04075         MOVFF   PREINC1, r0x03
010C CFE4 F000 04076         MOVFF   PREINC1, r0x02
0110 CFE4 F000 04077         MOVFF   PREINC1, r0x01
0114 CFE4 F000 04078         MOVFF   PREINC1, r0x00
0118 CFE4 FFD9 04079         MOVFF   PREINC1, FSR2L
011C 0012      04080         RETURN  
               04081 
               04082 ; ; Starting pCode block
               04083 S_main__ProcessCDCRequest       code
0000 04084 _ProcessCDCRequest:
               04085 ;       .line   29; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      void ProcessCDCRequest(void)
0000 C000 FFE5 04086         MOVFF   r0x00, POSTDEC1
               04087 ;       .line   38; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      if ((SetupPacket.bmRequestType & USB_TYPE_MASK) != USB_TYPE_CLASS) return;
0004 0E60      04088         MOVLW   0x60
0006 0000      04089         BANKSEL _SetupPacket
0008 1500      04090         ANDWF   _SetupPacket, W, B
               04091 ; #     MOVWF   r0x00
               04092 ; #     MOVF    r0x00, W
000A 0A20      04093         XORLW   0x20
000C E000      04094         BZ      _00534_DS_
000E D000      04095         BRA     _00544_DS_
0010 04096 _00534_DS_:
               04097 ;       .line   42; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      switch(SetupPacket.bRequest)
0010 C000 F000 04098         MOVFF   (_SetupPacket + 1), r0x00
0014 5000      04099         MOVF    r0x00, W
0016 E100      04100         BNZ     _00557_DS_
0018 D000      04101         BRA     _00544_DS_
001A 04102 _00557_DS_:
001A 5000      04103         MOVF    r0x00, W
001C 0A01      04104         XORLW   0x01
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 77


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
001E E100      04105         BNZ     _00559_DS_
0020 D000      04106         BRA     _00544_DS_
0022 04107 _00559_DS_:
0022 5000      04108         MOVF    r0x00, W
0024 0A20      04109         XORLW   0x20
0026 E000      04110         BZ      _00537_DS_
0028 5000      04111         MOVF    r0x00, W
002A 0A21      04112         XORLW   0x21
002C E000      04113         BZ      _00538_DS_
002E 5000      04114         MOVF    r0x00, W
0030 0A22      04115         XORLW   0x22
0032 E000      04116         BZ      _00539_DS_
0034 D000      04117         BRA     _00544_DS_
0036 04118 _00537_DS_:
               04119 ;       .line   62; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      outPtr = (data byte *)&line_config;
0036 0E00      04120         MOVLW   HIGH(_line_config)
0038 0000      04121         BANKSEL (_outPtr + 1)
003A 6F00      04122         MOVWF   (_outPtr + 1), B
003C 0E00      04123         MOVLW   LOW(_line_config)
               04124 ; removed redundant BANKSEL
003E 6F00      04125         MOVWF   _outPtr, B
0040 0E80      04126         MOVLW   0x80
               04127 ; removed redundant BANKSEL
0042 6F00      04128         MOVWF   (_outPtr + 2), B
               04129 ;       .line   63; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      wCount = sizeof(USB_CDC_Line_Coding) ;
0044 0E07      04130         MOVLW   0x07
0046 0000      04131         BANKSEL _wCount
0048 6F00      04132         MOVWF   _wCount, B
               04133 ; removed redundant BANKSEL
004A 6B00      04134         CLRF    (_wCount + 1), B
               04135 ;       .line   64; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      requestHandled = 1;                             
004C 0E01      04136         MOVLW   0x01
004E 0000      04137         BANKSEL _requestHandled
0050 6F00      04138         MOVWF   _requestHandled, B
               04139 ;       .line   65; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      break;
0052 D000      04140         BRA     _00544_DS_
0054 04141 _00538_DS_:
               04142 ;       .line   71; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      outPtr = (data byte *)&line_config;
0054 0E00      04143         MOVLW   HIGH(_line_config)
0056 0000      04144         BANKSEL (_outPtr + 1)
0058 6F00      04145         MOVWF   (_outPtr + 1), B
005A 0E00      04146         MOVLW   LOW(_line_config)
               04147 ; removed redundant BANKSEL
005C 6F00      04148         MOVWF   _outPtr, B
005E 0E80      04149         MOVLW   0x80
               04150 ; removed redundant BANKSEL
0060 6F00      04151         MOVWF   (_outPtr + 2), B
               04152 ;       .line   72; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      wCount = sizeof(USB_CDC_Line_Coding) ;
0062 0E07      04153         MOVLW   0x07
0064 0000      04154         BANKSEL _wCount
0066 6F00      04155         MOVWF   _wCount, B
               04156 ; removed redundant BANKSEL
0068 6B00      04157         CLRF    (_wCount + 1), B
               04158 ;       .line   73; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      requestHandled = 1;
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 78


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
006A 0E01      04159         MOVLW   0x01
006C 0000      04160         BANKSEL _requestHandled
006E 6F00      04161         MOVWF   _requestHandled, B
               04162 ;       .line   74; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      break;
0070 D000      04163         BRA     _00544_DS_
0072 04164 _00539_DS_:
0072 0000      04165         BANKSEL (_SetupPacket + 2)
               04166 ;       .line   82; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      if (SetupPacket.wValue0==3) CONTROL_LINE=1;
0074 5100      04167         MOVF    (_SetupPacket + 2), W, B
0076 0A03      04168         XORLW   0x03
0078 E100      04169         BNZ     _00541_DS_
007A 0E01      04170         MOVLW   0x01
007C 0000      04171         BANKSEL _CONTROL_LINE
007E 6F00      04172         MOVWF   _CONTROL_LINE, B
0080 D000      04173         BRA     _00542_DS_
0082 04174 _00541_DS_:
0082 0000      04175         BANKSEL _CONTROL_LINE
               04176 ;       .line   83; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      else CONTROL_LINE=0;            
0084 6B00      04177         CLRF    _CONTROL_LINE, B
0086 04178 _00542_DS_:
               04179 ;       .line   84; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      outPtr = (data byte *)&zlp;
0086 0E00      04180         MOVLW   HIGH(_zlp)
0088 0000      04181         BANKSEL (_outPtr + 1)
008A 6F00      04182         MOVWF   (_outPtr + 1), B
008C 0E00      04183         MOVLW   LOW(_zlp)
               04184 ; removed redundant BANKSEL
008E 6F00      04185         MOVWF   _outPtr, B
0090 0E80      04186         MOVLW   0x80
               04187 ; removed redundant BANKSEL
0092 6F00      04188         MOVWF   (_outPtr + 2), B
               04189 ;       .line   85; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      wCount = sizeof(Zero_Packet_Length) ;
0094 0E08      04190         MOVLW   0x08
0096 0000      04191         BANKSEL _wCount
0098 6F00      04192         MOVWF   _wCount, B
               04193 ; removed redundant BANKSEL
009A 6B00      04194         CLRF    (_wCount + 1), B
               04195 ;       .line   86; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      requestHandled = 1;                                             
009C 0E01      04196         MOVLW   0x01
009E 0000      04197         BANKSEL _requestHandled
00A0 6F00      04198         MOVWF   _requestHandled, B
00A2 04199 _00544_DS_:
               04200 ;       .line   88; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/usb_cdc.c      }
00A2 CFE4 F000 04201         MOVFF   PREINC1, r0x00
00A6 0012      04202         RETURN  
               04203 
               04204 ; ; Starting pCode block
               04205 S_main__ProcessUSBTransactions  code
0000 04206 _ProcessUSBTransactions:
               04207 ;       .line   740; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      void ProcessUSBTransactions(void) {
0000 C000 FFE5 04208         MOVFF   r0x00, POSTDEC1
               04209 ; #     MOVF    _deviceState, W, B
               04210 ; #     BTFSS   STATUS, 2
               04211 ; #     GOTO    _00481_DS_
               04212 ; #     GOTO    _00507_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 79


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04213 ; #     BTFSS   _UIRbits, 2
0004 0000      04214         BANKSEL _deviceState
               04215 ;       .line   742; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(deviceState == DETACHED)
0006 5100      04216         MOVF    _deviceState, W, B
               04217 ;       .line   743; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      return;
0008 E000      04218         BZ      _00507_DS_
               04219 ;       .line   746; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(UIRbits.ACTVIF && UIEbits.ACTVIE)
000A A400      04220         BTFSS   _UIRbits, 2
               04221 ; #     GOTO    _00483_DS_
               04222 ; #     BTFSS   _UIEbits, 2
               04223 ; #     GOTO    _00483_DS_
               04224 ; #     CALL    _UnSuspend
               04225 ; #     CLRF    r0x00
               04226 ;       .line   747; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UnSuspend();
000C D000      04227         BRA     _00483_DS_
               04228 ;       .line   751; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(UCONbits.SUSPND == 1)
000E B400      04229         BTFSC   _UIEbits, 2
0010 EC00 F000 04230         CALL    _UnSuspend
0014 04231 _00483_DS_:
0014 6A00      04232         CLRF    r0x00
0016 B200      04233         BTFSC   _UCONbits, 1
0018 2A00      04234         INCF    r0x00, F
001A 5000      04235         MOVF    r0x00, W
001C 0A01      04236         XORLW   0x01
               04237 ;       .line   752; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      return;
001E E000      04238         BZ      _00507_DS_
               04239 ;       .line   755; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (UIRbits.URSTIF && UIEbits.URSTIE) {
0020 A000      04240         BTFSS   _UIRbits, 0
               04241 ; #     GOTO    _00488_DS_
               04242 ; #     BTFSS   _UIEbits, 0
               04243 ; #     GOTO    _00488_DS_
               04244 ; #     CALL    _BusReset
               04245 ; #     BTFSS   _UIRbits, 4
               04246 ;       .line   756; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      BusReset();
0022 D000      04247         BRA     _00488_DS_
               04248 ;       .line   759; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (UIRbits.IDLEIF && UIEbits.IDLEIE) {
0024 B000      04249         BTFSC   _UIEbits, 0
0026 EC00 F000 04250         CALL    _BusReset
002A 04251 _00488_DS_:
002A A800      04252         BTFSS   _UIRbits, 4
               04253 ; #     GOTO    _00491_DS_
               04254 ; #     BTFSS   _UIEbits, 4
               04255 ; #     GOTO    _00491_DS_
               04256 ; #     CALL    _Suspend
               04257 ; #     BTFSS   _UIRbits, 6
               04258 ;       .line   761; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      Suspend();
002C D000      04259         BRA     _00491_DS_
               04260 ;       .line   763; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (UIRbits.SOFIF && UIEbits.SOFIE) {
002E B800      04261         BTFSC   _UIEbits, 4
0030 EC00 F000 04262         CALL    _Suspend
0034 04263 _00491_DS_:
0034 AC00      04264         BTFSS   _UIRbits, 6
               04265 ; #     GOTO    _00494_DS_
               04266 ; #     BTFSS   _UIEbits, 6
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 80


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04267 ; #     GOTO    _00494_DS_
               04268 ; #     CALL    _StartOfFrame
               04269 ; #     BTFSS   _UIRbits, 5
               04270 ;       .line   764; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      StartOfFrame();
0036 D000      04271         BRA     _00494_DS_
               04272 ;       .line   766; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (UIRbits.STALLIF && UIEbits.STALLIE) {
0038 BC00      04273         BTFSC   _UIEbits, 6
003A EC00 F000 04274         CALL    _StartOfFrame
003E 04275 _00494_DS_:
003E AA00      04276         BTFSS   _UIRbits, 5
               04277 ; #     GOTO    _00497_DS_
               04278 ; #     BTFSS   _UIEbits, 5
               04279 ; #     GOTO    _00497_DS_
               04280 ; #     CALL    _Stall
               04281 ; #     BTFSS   _UIRbits, 1
               04282 ;       .line   767; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      Stall();
0040 D000      04283         BRA     _00497_DS_
               04284 ;       .line   770; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (UIRbits.UERRIF && UIEbits.UERRIE) {
0042 BA00      04285         BTFSC   _UIEbits, 5
0044 EC00 F000 04286         CALL    _Stall
0048 04287 _00497_DS_:
0048 A200      04288         BTFSS   _UIRbits, 1
               04289 ; #     GOTO    _00500_DS_
               04290 ; #     BTFSS   _UIEbits, 1
               04291 ; #     GOTO    _00500_DS_
               04292 ; #     BCF     _UIRbits, 1
               04293 ; #     MOVLW   0x03
               04294 ;       .line   774; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIRbits.UERRIF = 0;
004A D000      04295         BRA     _00500_DS_
               04296 ;       .line   778; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (deviceState < DEFAULT)
004C B200      04297         BTFSC   _UIEbits, 1
004E 9200      04298         BCF     _UIRbits, 1
0050 04299 _00500_DS_:
0050 0E03      04300         MOVLW   0x03
               04301 ; #     SUBWF   _deviceState, W, B
               04302 ; #     BTFSC   STATUS, 0
               04303 ; #     GOTO    _00503_DS_
               04304 ; #     GOTO    _00507_DS_
               04305 ; #     BTFSS   _UIRbits, 3
0052 0000      04306         BANKSEL _deviceState
               04307 ;       .line   779; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      return;
0054 5D00      04308         SUBWF   _deviceState, W, B
               04309 ;       .line   782; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(UIRbits.TRNIF && UIEbits.TRNIE) {
0056 E300      04310         BNC     _00507_DS_
0058 A600      04311         BTFSS   _UIRbits, 3
005A D000      04312         BRA     _00507_DS_
005C A600      04313         BTFSS   _UIEbits, 3
005E D000      04314         BRA     _00507_DS_
               04315 ;       .line   783; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      ProcessControlTransfer();
0060 EC00 F000 04316         CALL    _ProcessControlTransfer
               04317 ;       .line   786; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIRbits.TRNIF = 0;
0064 9600      04318         BCF     _UIRbits, 3
0066 04319 _00507_DS_:
0066 CFE4 F000 04320         MOVFF   PREINC1, r0x00
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 81


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
006A 0012      04321         RETURN  
               04322 
               04323 ; ; Starting pCode block
               04324 S_main__BusReset        code
0000 04325 _BusReset:
               04326 ;       .line   712; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      void BusReset() {
0000 C000 FFE5 04327         MOVFF   r0x00, POSTDEC1
               04328 ;       .line   713; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UEIR  = 0x00;
0004 6A00      04329         CLRF    _UEIR
               04330 ;       .line   714; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIR   = 0x00;
0006 6A00      04331         CLRF    _UIR
               04332 ;       .line   715; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UEIE  = 0x9f;
0008 0E9F      04333         MOVLW   0x9f
000A 6E00      04334         MOVWF   _UEIE
               04335 ;       .line   716; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIE   = 0x7b;
000C 0E7B      04336         MOVLW   0x7b
000E 6E00      04337         MOVWF   _UIE
               04338 ;       .line   717; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UADDR = 0x00;
0010 6A00      04339         CLRF    _UADDR
               04340 ;       .line   720; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UEP0 = EP_CTRL | HSHK_EN;
0012 0E16      04341         MOVLW   0x16
0014 6E00      04342         MOVWF   _UEP0
0016 04343 _00467_DS_:
               04344 ;       .line   723; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      while (UIRbits.TRNIF == 1)
0016 6A00      04345         CLRF    r0x00
0018 B600      04346         BTFSC   _UIRbits, 3
001A 2A00      04347         INCF    r0x00, F
001C 5000      04348         MOVF    r0x00, W
001E 0A01      04349         XORLW   0x01
0020 E100      04350         BNZ     _00469_DS_
               04351 ;       .line   724; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIRbits.TRNIF = 0;
0022 9600      04352         BCF     _UIRbits, 3
0024 D000      04353         BRA     _00467_DS_
0026 04354 _00469_DS_:
               04355 ;       .line   727; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UCONbits.PKTDIS = 0;
0026 9800      04356         BCF     _UCONbits, 4
               04357 ;       .line   730; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      WaitForSetupStage();
0028 EC00 F000 04358         CALL    _WaitForSetupStage
002C 0000      04359         BANKSEL _remoteWakeup
               04360 ;       .line   732; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      remoteWakeup = 0;                     // Remote wakeup is off by default
002E 6B00      04361         CLRF    _remoteWakeup, B
0030 0000      04362         BANKSEL _selfPowered
               04363 ;       .line   733; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      selfPowered = 0;                      // Self powered is off by default
0032 6B00      04364         CLRF    _selfPowered, B
0034 0000      04365         BANKSEL _currentConfiguration
               04366 ;       .line   734; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      currentConfiguration = 0;             // Clear active configuration
0036 6B00      04367         CLRF    _currentConfiguration, B
               04368 ;       .line   735; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      deviceState = DEFAULT;
0038 0E03      04369         MOVLW   0x03
003A 0000      04370         BANKSEL _deviceState
003C 6F00      04371         MOVWF   _deviceState, B
003E CFE4 F000 04372         MOVFF   PREINC1, r0x00
0042 0012      04373         RETURN  
               04374 
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 82


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04375 ; ; Starting pCode block
               04376 S_main__Suspend code
0000 04377 _Suspend:
               04378 ;       .line   682; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      void Suspend(void) {
0000 CFD9 FFE5 04379         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04380         MOVFF   FSR1L, FSR2L
               04381 ;       .line   687; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIEbits.ACTVIE = 1;
0008 8400      04382         BSF     _UIEbits, 2
               04383 ;       .line   688; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIRbits.IDLEIF = 0;
000A 9800      04384         BCF     _UIRbits, 4
               04385 ;       .line   689; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UCONbits.SUSPND = 1;
000C 8200      04386         BSF     _UCONbits, 1
               04387 ;       .line   691; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      PIR2bits.USBIF = 0;
000E 9A00      04388         BCF     _PIR2bits, 5
               04389 ;       .line   692; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      INTCONbits.RBIF = 0;
0010 9000      04390         BCF     _INTCONbits, 0
               04391 ;       .line   693; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      PIE2bits.USBIE = 1;
0012 8A00      04392         BSF     _PIE2bits, 5
               04393 ;       .line   694; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      INTCONbits.RBIE = 1;
0014 8600      04394         BSF     _INTCONbits, 3
               04395 ;       .line   697; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      RCSTAbits.CREN = 0;
0016 9800      04396         BCF     _RCSTAbits, 4
               04397 ;       .line   698; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      TXSTAbits.TXEN = 0;
0018 9A00      04398         BCF     _TXSTAbits, 5
001A 0003      04399         sleep 
               04400 ;       .line   703; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      RCSTAbits.CREN = 1;
001C 8800      04401         BSF     _RCSTAbits, 4
               04402 ;       .line   704; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      TXSTAbits.TXEN = 1;
001E 8A00      04403         BSF     _TXSTAbits, 5
               04404 ;       .line   706; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      PIE2bits.USBIE = 0;
0020 9A00      04405         BCF     _PIE2bits, 5
               04406 ;       .line   707; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      INTCONbits.RBIE = 0;
0022 9600      04407         BCF     _INTCONbits, 3
0024 CFE4 FFD9 04408         MOVFF   PREINC1, FSR2L
0028 0012      04409         RETURN  
               04410 
               04411 ; ; Starting pCode block
               04412 S_main__Stall   code
0000 04413 _Stall:
               04414 ;       .line   668; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      void Stall(void) {
0000 C000 FFE5 04415         MOVFF   r0x00, POSTDEC1
               04416 ;       .line   672; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(UEP0bits.EPSTALL == 1) {
0004 6A00      04417         CLRF    r0x00
0006 B000      04418         BTFSC   _UEP0bits, 0
0008 2A00      04419         INCF    r0x00, F
000A 5000      04420         MOVF    r0x00, W
000C 0A01      04421         XORLW   0x01
000E E100      04422         BNZ     _00449_DS_
               04423 ;       .line   674; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      WaitForSetupStage();
0010 EC00 F000 04424         CALL    _WaitForSetupStage
               04425 ;       .line   675; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UEP0bits.EPSTALL = 0;
0014 9000      04426         BCF     _UEP0bits, 0
0016 04427 _00449_DS_:
               04428 ;       .line   677; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIRbits.STALLIF = 0;
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 83


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0016 9A00      04429         BCF     _UIRbits, 5
0018 CFE4 F000 04430         MOVFF   PREINC1, r0x00
001C 0012      04431         RETURN  
               04432 
               04433 ; ; Starting pCode block
               04434 S_main__StartOfFrame    code
0000 04435 _StartOfFrame:
               04436 ;       .line   663; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIRbits.SOFIF = 0;
0000 9C00      04437         BCF     _UIRbits, 6
0002 0012      04438         RETURN  
               04439 
               04440 ; ; Starting pCode block
               04441 S_main__UnSuspend       code
0000 04442 _UnSuspend:
               04443 ;       .line   653; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UCONbits.SUSPND = 0;
0000 9200      04444         BCF     _UCONbits, 1
               04445 ;       .line   654; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIEbits.ACTVIE = 0;
0002 9400      04446         BCF     _UIEbits, 2
               04447 ;       .line   655; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIRbits.ACTVIF = 0;
0004 9400      04448         BCF     _UIRbits, 2
0006 0012      04449         RETURN  
               04450 
               04451 ; ; Starting pCode block
               04452 S_main__EnableUSBModule code
0000 04453 _EnableUSBModule:
               04454 ;       .line   623; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(UCONbits.USBEN == 0) {
0000 B600      04455         BTFSC   _UCONbits, 3
0002 D000      04456         BRA     _00423_DS_
               04457 ;       .line   627; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UCON = 0;
0004 6A00      04458         CLRF    _UCON
               04459 ;       .line   628; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIE = 0;
0006 6A00      04460         CLRF    _UIE
               04461 ;       .line   629; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UCONbits.USBEN = 1;
0008 8600      04462         BSF     _UCONbits, 3
               04463 ;       .line   630; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      deviceState = ATTACHED;
000A 0E01      04464         MOVLW   0x01
000C 0000      04465         BANKSEL _deviceState
000E 6F00      04466         MOVWF   _deviceState, B
0010 04467 _00423_DS_:
0010 0000      04468         BANKSEL _deviceState
               04469 ;       .line   634; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if ((deviceState == ATTACHED) && !UCONbits.SE0) {
0012 5100      04470         MOVF    _deviceState, W, B
0014 0A01      04471         XORLW   0x01
0016 E100      04472         BNZ     _00427_DS_
0018 BA00      04473         BTFSC   _UCONbits, 5
001A D000      04474         BRA     _00427_DS_
               04475 ;       .line   635; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIR = 0;
001C 6A00      04476         CLRF    _UIR
               04477 ;       .line   636; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIE = 0;
001E 6A00      04478         CLRF    _UIE
               04479 ;       .line   637; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIEbits.URSTIE = 1;
0020 8000      04480         BSF     _UIEbits, 0
               04481 ;       .line   638; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UIEbits.IDLEIE = 1;
0022 8800      04482         BSF     _UIEbits, 4
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 84


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04483 ;       .line   639; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      deviceState = POWERED;
0024 0E02      04484         MOVLW   0x02
0026 0000      04485         BANKSEL _deviceState
0028 6F00      04486         MOVWF   _deviceState, B
002A 04487 _00427_DS_:
002A 0012      04488         RETURN  
               04489 
               04490 ; ; Starting pCode block
               04491 S_main__ProcessControlTransfer  code
0000 04492 _ProcessControlTransfer:
               04493 ;       .line   533; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      void ProcessControlTransfer(void) {
0000 C000 FFE5 04494         MOVFF   r0x00, POSTDEC1
               04495 ;       .line   537; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (USTATbits.DIR == OUT) {
0004 B400      04496         BTFSC   _USTATbits, 2
0006 D000      04497         BRA     _00393_DS_
               04498 ;       .line   540; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte PID = (EP_OUT_BD(0).Stat.uc & 0x3C) >> 2;
0008 0E3C      04499         MOVLW   0x3c
000A 0000      04500         BANKSEL _ep_bdt
000C 1500      04501         ANDWF   _ep_bdt, W, B
000E 6E00      04502         MOVWF   r0x00
0010 4000      04503         RRNCF   r0x00, W
0012 40E8      04504         RRNCF   WREG, W
0014 0B3F      04505         ANDLW   0x3f
               04506 ; #     MOVWF   r0x00
               04507 ; #     MOVF    r0x00, W
               04508 ;       .line   541; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (PID == 0x0D)
0016 0A0D      04509         XORLW   0x0d
0018 E100      04510         BNZ     _00377_DS_
               04511 ;       .line   543; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      SetupStage();
001A EC00 F000 04512         CALL    _SetupStage
001E D000      04513         BRA     _00395_DS_
0020 04514 _00377_DS_:
0020 0000      04515         BANKSEL _ctrlTransferStage
               04516 ;       .line   544; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (ctrlTransferStage == DATA_OUT_STAGE) {
0022 5100      04517         MOVF    _ctrlTransferStage, W, B
0024 0A01      04518         XORLW   0x01
0026 E100      04519         BNZ     _00374_DS_
               04520 ;       .line   547; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      OutDataStage(0);
0028 0E00      04521         MOVLW   0x00
002A 6AE5      04522         CLRF    POSTDEC1
002C EC00 F000 04523         CALL    _OutDataStage
0030 2AE1      04524         INCF    FSR1L, F
0032 0000      04525         BANKSEL _ep_bdt
               04526 ;       .line   571; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(EP_OUT_BD(0).Stat.DTS)
0034 AD00      04527         BTFSS   _ep_bdt, 6, B
0036 D000      04528         BRA     _00371_DS_
               04529 ;       .line   572; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Stat.uc = BDS_UOWN | BDS_DTSEN;
0038 0E88      04530         MOVLW   0x88
               04531 ; removed redundant BANKSEL
003A 6F00      04532         MOVWF   _ep_bdt, B
003C D000      04533         BRA     _00395_DS_
003E 04534 _00371_DS_:
               04535 ;       .line   574; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Stat.uc = BDS_UOWN | BDS_DTS | BDS_DTSEN;
003E 0EC8      04536         MOVLW   0xc8
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 85


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0040 0000      04537         BANKSEL _ep_bdt
0042 6F00      04538         MOVWF   _ep_bdt, B
0044 D000      04539         BRA     _00395_DS_
0046 04540 _00374_DS_:
               04541 ;       .line   578; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      WaitForSetupStage();
0046 EC00 F000 04542         CALL    _WaitForSetupStage
004A D000      04543         BRA     _00395_DS_
004C 04544 _00393_DS_:
               04545 ;       .line   581; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if(USTATbits.DIR == IN) {
004C 6A00      04546         CLRF    r0x00
004E B400      04547         BTFSC   _USTATbits, 2
0050 2A00      04548         INCF    r0x00, F
0052 5000      04549         MOVF    r0x00, W
0054 0A01      04550         XORLW   0x01
0056 E100      04551         BNZ     _00395_DS_
               04552 ;       .line   583; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if ((UADDR == 0) && (deviceState == ADDRESS)) {
0058 5000      04553         MOVF    _UADDR, W
005A E100      04554         BNZ     _00382_DS_
005C 0000      04555         BANKSEL _deviceState
005E 5100      04556         MOVF    _deviceState, W, B
0060 0A04      04557         XORLW   0x04
0062 E100      04558         BNZ     _00382_DS_
               04559 ;       .line   586; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UADDR = SetupPacket.wValue0;
0064 C000 F000 04560         MOVFF   (_SetupPacket + 2), _UADDR
               04561 ;       .line   590; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(UADDR == 0)
0068 5000      04562         MOVF    _UADDR, W
006A E100      04563         BNZ     _00382_DS_
               04564 ;       .line   593; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      deviceState = DEFAULT;
006C 0E03      04565         MOVLW   0x03
006E 0000      04566         BANKSEL _deviceState
0070 6F00      04567         MOVWF   _deviceState, B
0072 04568 _00382_DS_:
0072 0000      04569         BANKSEL _ctrlTransferStage
               04570 ;       .line   596; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (ctrlTransferStage == DATA_IN_STAGE) {
0074 5100      04571         MOVF    _ctrlTransferStage, W, B
0076 0A02      04572         XORLW   0x02
0078 E100      04573         BNZ     _00388_DS_
               04574 ;       .line   598; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      InDataStage(0);
007A 0E00      04575         MOVLW   0x00
007C 6AE5      04576         CLRF    POSTDEC1
007E EC00 F000 04577         CALL    _InDataStage
0082 2AE1      04578         INCF    FSR1L, F
0084 0000      04579         BANKSEL (_ep_bdt + 4)
               04580 ;       .line   601; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(EP_IN_BD(0).Stat.DTS)
0086 AD00      04581         BTFSS   (_ep_bdt + 4), 6, B
0088 D000      04582         BRA     _00385_DS_
               04583 ;       .line   602; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).Stat.uc = BDS_UOWN | BDS_DTSEN;
008A 0E88      04584         MOVLW   0x88
               04585 ; removed redundant BANKSEL
008C 6F00      04586         MOVWF   (_ep_bdt + 4), B
008E D000      04587         BRA     _00395_DS_
0090 04588 _00385_DS_:
               04589 ;       .line   604; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).Stat.uc = BDS_UOWN | BDS_DTS | BDS_DTSEN;
0090 0EC8      04590         MOVLW   0xc8
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 86


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0092 0000      04591         BANKSEL (_ep_bdt + 4)
0094 6F00      04592         MOVWF   (_ep_bdt + 4), B
0096 D000      04593         BRA     _00395_DS_
0098 04594 _00388_DS_:
               04595 ;       .line   608; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      WaitForSetupStage();
0098 EC00 F000 04596         CALL    _WaitForSetupStage
009C 04597 _00395_DS_:
009C CFE4 F000 04598         MOVFF   PREINC1, r0x00
00A0 0012      04599         RETURN  
               04600 
               04601 ; ; Starting pCode block
               04602 S_main__WaitForSetupStage       code
0000 04603 _WaitForSetupStage:
0000 0000      04604         BANKSEL _ctrlTransferStage
               04605 ;       .line   520; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      ctrlTransferStage = SETUP_STAGE;
0002 6B00      04606         CLRF    _ctrlTransferStage, B
               04607 ;       .line   521; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Cnt = EP0_BUFFER_SIZE;
0004 0E40      04608         MOVLW   0x40
0006 0000      04609         BANKSEL (_ep_bdt + 1)
0008 6F00      04610         MOVWF   (_ep_bdt + 1), B
               04611 ;       .line   522; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).ADDR = PTR16(&SetupPacket);
000A 0E00      04612         MOVLW   LOW(_SetupPacket)
               04613 ; removed redundant BANKSEL
000C 6F00      04614         MOVWF   (_ep_bdt + 2), B
000E 0E00      04615         MOVLW   HIGH(_SetupPacket)
               04616 ; removed redundant BANKSEL
0010 6F00      04617         MOVWF   (_ep_bdt + 3), B
               04618 ;       .line   524; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Stat.uc = BDS_UOWN | BDS_DTSEN;
0012 0E88      04619         MOVLW   0x88
               04620 ; removed redundant BANKSEL
0014 6F00      04621         MOVWF   _ep_bdt, B
               04622 ; removed redundant BANKSEL
               04623 ;       .line   525; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).Stat.uc = 0x00;           // Give control to CPU
0016 6B00      04624         CLRF    (_ep_bdt + 4), B
0018 0012      04625         RETURN  
               04626 
               04627 ; ; Starting pCode block
               04628 S_main__SetupStage      code
0000 04629 _SetupStage:
               04630 ;       .line   450; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).Stat.uc &= ~BDS_UOWN;
0000 0E7F      04631         MOVLW   0x7f
0002 0000      04632         BANKSEL (_ep_bdt + 4)
0004 1500      04633         ANDWF   (_ep_bdt + 4), W, B
               04634 ; #     MOVWF   r0x00
               04635 ; #     MOVF    r0x00, W
0006 6F00      04636         MOVWF   (_ep_bdt + 4), B
               04637 ;       .line   451; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Stat.uc &= ~BDS_UOWN;
0008 0E7F      04638         MOVLW   0x7f
               04639 ; removed redundant BANKSEL
000A 1500      04640         ANDWF   _ep_bdt, W, B
               04641 ; #     MOVWF   r0x00
               04642 ; #     MOVF    r0x00, W
000C 6F00      04643         MOVWF   _ep_bdt, B
000E 0000      04644         BANKSEL _ctrlTransferStage
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 87


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04645 ;       .line   454; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      ctrlTransferStage = SETUP_STAGE;
0010 6B00      04646         CLRF    _ctrlTransferStage, B
0012 0000      04647         BANKSEL _requestHandled
               04648 ;       .line   455; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 0;                   // Default is that request hasn't been handled
0014 6B00      04649         CLRF    _requestHandled, B
0016 0000      04650         BANKSEL _HIDPostProcess
               04651 ;       .line   456; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      HIDPostProcess = 0;                   // Assume standard request until know otherwise
0018 6B00      04652         CLRF    _HIDPostProcess, B
001A 0000      04653         BANKSEL _wCount
               04654 ;       .line   457; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = 0;                           // No bytes transferred
001C 6B00      04655         CLRF    _wCount, B
               04656 ; removed redundant BANKSEL
001E 6B00      04657         CLRF    (_wCount + 1), B
               04658 ;       .line   460; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      ProcessStandardRequest();
0020 EC00 F000 04659         CALL    _ProcessStandardRequest
               04660 ;       .line   470; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if ((SetupPacket.bmRequestType & USB_RECIP_MASK) == USB_RECIP_INTERFACE)  
0024 0E1F      04661         MOVLW   0x1f
0026 0000      04662         BANKSEL _SetupPacket
0028 1500      04663         ANDWF   _SetupPacket, W, B
               04664 ; #     MOVWF   r0x00
               04665 ; #     MOVF    r0x00, W
002A 0A01      04666         XORLW   0x01
002C E100      04667         BNZ     _00338_DS_
               04668 ;       .line   471; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      ProcessCDCRequest();
002E EC00 F000 04669         CALL    _ProcessCDCRequest
0032 04670 _00338_DS_:
0032 0000      04671         BANKSEL _requestHandled
               04672 ;       .line   474; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (!requestHandled) {
0034 5100      04673         MOVF    _requestHandled, W, B
0036 E100      04674         BNZ     _00345_DS_
               04675 ;       .line   476; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Cnt = EP0_BUFFER_SIZE;
0038 0E40      04676         MOVLW   0x40
003A 0000      04677         BANKSEL (_ep_bdt + 1)
003C 6F00      04678         MOVWF   (_ep_bdt + 1), B
               04679 ;       .line   477; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).ADDR = PTR16(&SetupPacket);
003E 0E00      04680         MOVLW   LOW(_SetupPacket)
               04681 ; removed redundant BANKSEL
0040 6F00      04682         MOVWF   (_ep_bdt + 2), B
0042 0E00      04683         MOVLW   HIGH(_SetupPacket)
               04684 ; removed redundant BANKSEL
0044 6F00      04685         MOVWF   (_ep_bdt + 3), B
               04686 ; #     MOVLW   0x84
               04687 ; #     MOVWF   _ep_bdt, B
               04688 ; #     MOVLW   0x84
               04689 ;       .line   478; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Stat.uc = BDS_UOWN | BDS_BSTALL;
0046 0E84      04690         MOVLW   0x84
               04691 ; removed redundant BANKSEL
               04692 ;       .line   479; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).Stat.uc = BDS_UOWN | BDS_BSTALL;
0048 6F00      04693         MOVWF   _ep_bdt, B
               04694 ; removed redundant BANKSEL
004A 6F00      04695         MOVWF   (_ep_bdt + 4), B
004C D000      04696         BRA     _00346_DS_
004E 04697 _00345_DS_:
004E 0000      04698         BANKSEL _SetupPacket
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 88


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04699 ;       .line   481; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (SetupPacket.bmRequestType & 0x80) {
0050 AF00      04700         BTFSS   _SetupPacket, 7, B
0052 D000      04701         BRA     _00342_DS_
0054 0000      04702         BANKSEL (_wCount + 1)
               04703 ;       .line   483; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(SetupPacket.wLength < wCount)
0056 5100      04704         MOVF    (_wCount + 1), W, B
0058 0000      04705         BANKSEL (_SetupPacket + 7)
005A 5D00      04706         SUBWF   (_SetupPacket + 7), W, B
005C E100      04707         BNZ     _00360_DS_
005E 0000      04708         BANKSEL _wCount
0060 5100      04709         MOVF    _wCount, W, B
0062 0000      04710         BANKSEL (_SetupPacket + 6)
0064 5D00      04711         SUBWF   (_SetupPacket + 6), W, B
0066 04712 _00360_DS_:
0066 E200      04713         BC      _00340_DS_
               04714 ;       .line   484; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = SetupPacket.wLength;
0068 C000 F000 04715         MOVFF   (_SetupPacket + 6), _wCount
006C C000 F000 04716         MOVFF   (_SetupPacket + 7), (_wCount + 1)
0070 04717 _00340_DS_:
               04718 ;       .line   485; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      InDataStage(0);
0070 0E00      04719         MOVLW   0x00
0072 6AE5      04720         CLRF    POSTDEC1
0074 EC00 F000 04721         CALL    _InDataStage
0078 2AE1      04722         INCF    FSR1L, F
               04723 ;       .line   486; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      ctrlTransferStage = DATA_IN_STAGE;
007A 0E02      04724         MOVLW   0x02
007C 0000      04725         BANKSEL _ctrlTransferStage
007E 6F00      04726         MOVWF   _ctrlTransferStage, B
               04727 ;       .line   488; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Cnt = EP0_BUFFER_SIZE;
0080 0E40      04728         MOVLW   0x40
0082 0000      04729         BANKSEL (_ep_bdt + 1)
0084 6F00      04730         MOVWF   (_ep_bdt + 1), B
               04731 ;       .line   489; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).ADDR = PTR16(&SetupPacket);
0086 0E00      04732         MOVLW   LOW(_SetupPacket)
               04733 ; removed redundant BANKSEL
0088 6F00      04734         MOVWF   (_ep_bdt + 2), B
008A 0E00      04735         MOVLW   HIGH(_SetupPacket)
               04736 ; removed redundant BANKSEL
008C 6F00      04737         MOVWF   (_ep_bdt + 3), B
               04738 ;       .line   490; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Stat.uc = BDS_UOWN;
008E 0E80      04739         MOVLW   0x80
               04740 ; removed redundant BANKSEL
0090 6F00      04741         MOVWF   _ep_bdt, B
               04742 ;       .line   493; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).ADDR = PTR16(&controlTransferBuffer);
0092 0E00      04743         MOVLW   LOW(_controlTransferBuffer)
               04744 ; removed redundant BANKSEL
0094 6F00      04745         MOVWF   (_ep_bdt + 6), B
0096 0E00      04746         MOVLW   HIGH(_controlTransferBuffer)
               04747 ; removed redundant BANKSEL
0098 6F00      04748         MOVWF   (_ep_bdt + 7), B
               04749 ;       .line   495; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).Stat.uc = BDS_UOWN | BDS_DTS | BDS_DTSEN;
009A 0EC8      04750         MOVLW   0xc8
               04751 ; removed redundant BANKSEL
009C 6F00      04752         MOVWF   (_ep_bdt + 4), B
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 89


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
009E D000      04753         BRA     _00346_DS_
00A0 04754 _00342_DS_:
               04755 ;       .line   499; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      ctrlTransferStage = DATA_OUT_STAGE;
00A0 0E01      04756         MOVLW   0x01
00A2 0000      04757         BANKSEL _ctrlTransferStage
00A4 6F00      04758         MOVWF   _ctrlTransferStage, B
00A6 0000      04759         BANKSEL (_ep_bdt + 5)
               04760 ;       .line   502; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).Cnt = 0;
00A8 6B00      04761         CLRF    (_ep_bdt + 5), B
               04762 ;       .line   503; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(0).Stat.uc = BDS_UOWN | BDS_DTS | BDS_DTSEN;
00AA 0EC8      04763         MOVLW   0xc8
               04764 ; removed redundant BANKSEL
00AC 6F00      04765         MOVWF   (_ep_bdt + 4), B
               04766 ;       .line   506; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Cnt = EP0_BUFFER_SIZE;
00AE 0E40      04767         MOVLW   0x40
               04768 ; removed redundant BANKSEL
00B0 6F00      04769         MOVWF   (_ep_bdt + 1), B
               04770 ;       .line   507; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).ADDR = PTR16(&controlTransferBuffer);
00B2 0E00      04771         MOVLW   LOW(_controlTransferBuffer)
               04772 ; removed redundant BANKSEL
00B4 6F00      04773         MOVWF   (_ep_bdt + 2), B
00B6 0E00      04774         MOVLW   HIGH(_controlTransferBuffer)
               04775 ; removed redundant BANKSEL
00B8 6F00      04776         MOVWF   (_ep_bdt + 3), B
               04777 ;       .line   509; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_OUT_BD(0).Stat.uc = BDS_UOWN | BDS_DTS | BDS_DTSEN;
00BA 0EC8      04778         MOVLW   0xc8
               04779 ; removed redundant BANKSEL
00BC 6F00      04780         MOVWF   _ep_bdt, B
00BE 04781 _00346_DS_:
               04782 ;       .line   513; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      UCONbits.PKTDIS = 0;
00BE 9800      04783         BCF     _UCONbits, 4
00C0 0012      04784         RETURN  
               04785 
               04786 ; ; Starting pCode block
               04787 S_main__OutDataStage    code
0000 04788 _OutDataStage:
               04789 ;       .line   411; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      void OutDataStage(unsigned char ep) {
0000 CFD9 FFE5 04790         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04791         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 04792         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 04793         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 04794         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 04795         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 04796         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 04797         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 04798         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 04799         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 04800         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 04801         MOVFF   r0x09, POSTDEC1
0030 0E02      04802         MOVLW   0x02
0032 CFDB F000 04803         MOVFF   PLUSW2, r0x00
               04804 ;       .line   414; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      bufferSize = ((0x03 & EP_OUT_BD(ep).Stat.uc) << 8) | EP_OUT_BD(ep).Cnt;
0036 4400      04805         RLNCF   r0x00, W
0038 0BFE      04806         ANDLW   0xfe
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 90


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04807 ; #     MOVWF   r0x01
               04808 ; #;;multiply lit val:0x04 by variable r0x01 and store in r0x00
               04809 ; #;;Unrolled 8 X 8 multiplication
               04810 ; #;;FIXME: the function does not support result==WREG
               04811 ; #     MOVF    r0x01, W
003A 0D04      04812         MULLW   0x04
003C CFF3 F000 04813         MOVFF   PRODL, r0x00
0040 0E00      04814         MOVLW   LOW(_ep_bdt)
0042 2400      04815         ADDWF   r0x00, W
0044 6E00      04816         MOVWF   r0x01
0046 6A00      04817         CLRF    r0x02
0048 0E00      04818         MOVLW   HIGH(_ep_bdt)
004A 2200      04819         ADDWFC  r0x02, F
004C C000 FFE9 04820         MOVFF   r0x01, FSR0L
0050 C000 FFEA 04821         MOVFF   r0x02, FSR0H
0054 CFEF F000 04822         MOVFF   INDF0, r0x01
0058 0E03      04823         MOVLW   0x03
005A 1600      04824         ANDWF   r0x01, F
005C 5000      04825         MOVF    r0x01, W
005E 6E00      04826         MOVWF   r0x04
0060 6A00      04827         CLRF    r0x03
0062 6A00      04828         CLRF    r0x01
0064 0E00      04829         MOVLW   LOW(_ep_bdt)
0066 2600      04830         ADDWF   r0x00, F
0068 0E00      04831         MOVLW   HIGH(_ep_bdt)
006A 2200      04832         ADDWFC  r0x01, F
006C 2A00      04833         INCF    r0x00, F
006E B0D8      04834         BTFSC   STATUS, 0
0070 2A00      04835         INCF    r0x01, F
0072 C000 FFE9 04836         MOVFF   r0x00, FSR0L
0076 C000 FFEA 04837         MOVFF   r0x01, FSR0H
007A CFEF F000 04838         MOVFF   INDF0, r0x00
007E 6A00      04839         CLRF    r0x01
0080 5000      04840         MOVF    r0x03, W
0082 1200      04841         IORWF   r0x00, F
0084 5000      04842         MOVF    r0x04, W
0086 1200      04843         IORWF   r0x01, F
               04844 ;       .line   421; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = wCount + bufferSize;
0088 5000      04845         MOVF    r0x00, W
008A 0000      04846         BANKSEL _wCount
008C 2700      04847         ADDWF   _wCount, F, B
008E 5000      04848         MOVF    r0x01, W
               04849 ; removed redundant BANKSEL
0090 2300      04850         ADDWFC  (_wCount + 1), F, B
               04851 ;       .line   423; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      outPtr = (byte*)&controlTransferBuffer;
0092 0E00      04852         MOVLW   HIGH(_controlTransferBuffer)
0094 0000      04853         BANKSEL (_outPtr + 1)
0096 6F00      04854         MOVWF   (_outPtr + 1), B
0098 0E00      04855         MOVLW   LOW(_controlTransferBuffer)
               04856 ; removed redundant BANKSEL
009A 6F00      04857         MOVWF   _outPtr, B
009C 0E80      04858         MOVLW   0x80
               04859 ; removed redundant BANKSEL
009E 6F00      04860         MOVWF   (_outPtr + 2), B
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 91


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04861 ;       .line   427; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      for (i=0;i<bufferSize;i++) {
00A0 6A00      04862         CLRF    r0x02
00A2 6A00      04863         CLRF    r0x03
00A4 04864 _00321_DS_:
00A4 5000      04865         MOVF    r0x01, W
00A6 5C00      04866         SUBWF   r0x03, W
00A8 E100      04867         BNZ     _00332_DS_
00AA 5000      04868         MOVF    r0x00, W
00AC 5C00      04869         SUBWF   r0x02, W
00AE 04870 _00332_DS_:
00AE E200      04871         BC      _00325_DS_
               04872 ;       .line   431; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      *inPtr++ = *outPtr++;
00B0 C000 F000 04873         MOVFF   _inPtr, r0x04
00B4 C000 F000 04874         MOVFF   (_inPtr + 1), r0x05
00B8 C000 F000 04875         MOVFF   (_inPtr + 2), r0x06
00BC C000 F000 04876         MOVFF   _outPtr, r0x07
00C0 C000 F000 04877         MOVFF   (_outPtr + 1), r0x08
00C4 C000 F000 04878         MOVFF   (_outPtr + 2), r0x09
00C8 C000 FFE9 04879         MOVFF   r0x07, FSR0L
00CC C000 FFF3 04880         MOVFF   r0x08, PRODL
00D0 5000      04881         MOVF    r0x09, W
00D2 EC00 F000 04882         CALL    __gptrget1
00D6 6E00      04883         MOVWF   r0x07
00D8 0000      04884         BANKSEL _outPtr
00DA 2B00      04885         INCF    _outPtr, F, B
00DC E300      04886         BNC     _11137_DS_
               04887 ; removed redundant BANKSEL
00DE 2B00      04888         INCF    (_outPtr + 1), F, B
00E0 04889 _11137_DS_:
00E0 E300      04890         BNC     _21138_DS_
00E2 0000      04891         BANKSEL (_outPtr + 2)
00E4 2B00      04892         INCF    (_outPtr + 2), F, B
00E6 04893 _21138_DS_:
00E6 C000 FFE5 04894         MOVFF   r0x07, POSTDEC1
00EA C000 FFE9 04895         MOVFF   r0x04, FSR0L
00EE C000 FFF3 04896         MOVFF   r0x05, PRODL
00F2 5000      04897         MOVF    r0x06, W
00F4 EC00 F000 04898         CALL    __gptrput1
00F8 0000      04899         BANKSEL _inPtr
00FA 2B00      04900         INCF    _inPtr, F, B
00FC E300      04901         BNC     _31139_DS_
               04902 ; removed redundant BANKSEL
00FE 2B00      04903         INCF    (_inPtr + 1), F, B
0100 04904 _31139_DS_:
0100 E300      04905         BNC     _41140_DS_
0102 0000      04906         BANKSEL (_inPtr + 2)
0104 2B00      04907         INCF    (_inPtr + 2), F, B
0106 04908 _41140_DS_:
               04909 ;       .line   427; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      for (i=0;i<bufferSize;i++) {
0106 2A00      04910         INCF    r0x02, F
0108 B0D8      04911         BTFSC   STATUS, 0
010A 2A00      04912         INCF    r0x03, F
010C D000      04913         BRA     _00321_DS_
010E 04914 _00325_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 92


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
010E CFE4 F000 04915         MOVFF   PREINC1, r0x09
0112 CFE4 F000 04916         MOVFF   PREINC1, r0x08
0116 CFE4 F000 04917         MOVFF   PREINC1, r0x07
011A CFE4 F000 04918         MOVFF   PREINC1, r0x06
011E CFE4 F000 04919         MOVFF   PREINC1, r0x05
0122 CFE4 F000 04920         MOVFF   PREINC1, r0x04
0126 CFE4 F000 04921         MOVFF   PREINC1, r0x03
012A CFE4 F000 04922         MOVFF   PREINC1, r0x02
012E CFE4 F000 04923         MOVFF   PREINC1, r0x01
0132 CFE4 F000 04924         MOVFF   PREINC1, r0x00
0136 CFE4 FFD9 04925         MOVFF   PREINC1, FSR2L
013A 0012      04926         RETURN  
               04927 
               04928 ; ; Starting pCode block
               04929 S_main__InDataStage     code
0000 04930 _InDataStage:
               04931 ;       .line   364; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      void InDataStage(unsigned char ep) {
0000 CFD9 FFE5 04932         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04933         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 04934         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 04935         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 04936         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 04937         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 04938         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 04939         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 04940         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 04941         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 04942         MOVFF   r0x08, POSTDEC1
002C 0E02      04943         MOVLW   0x02
002E CFDB F000 04944         MOVFF   PLUSW2, r0x00
               04945 ;       .line   371; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(wCount < EP0_BUFFER_SIZE)
0032 0E00      04946         MOVLW   0x00
0034 0000      04947         BANKSEL (_wCount + 1)
0036 5D00      04948         SUBWF   (_wCount + 1), W, B
0038 E100      04949         BNZ     _00310_DS_
003A 0E40      04950         MOVLW   0x40
               04951 ; removed redundant BANKSEL
003C 5D00      04952         SUBWF   _wCount, W, B
003E 04953 _00310_DS_:
003E E200      04954         BC      _00298_DS_
               04955 ;       .line   372; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      bufferSize = wCount;
0040 C000 F000 04956         MOVFF   _wCount, r0x01
0044 C000 F000 04957         MOVFF   (_wCount + 1), r0x02
0048 D000      04958         BRA     _00299_DS_
004A 04959 _00298_DS_:
               04960 ;       .line   374; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      bufferSize = EP0_BUFFER_SIZE;
004A 0E40      04961         MOVLW   0x40
004C 6E00      04962         MOVWF   r0x01
004E 6A00      04963         CLRF    r0x02
0050 04964 _00299_DS_:
               04965 ;       .line   382; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(ep).Stat.uc &= ~(BDS_BC8 | BDS_BC9);
0050 4400      04966         RLNCF   r0x00, W
0052 0BFE      04967         ANDLW   0xfe
0054 6E00      04968         MOVWF   r0x03
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 93


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0056 2800      04969         INCF    r0x03, W
               04970 ; #     MOVWF   r0x00
               04971 ; #;;multiply lit val:0x04 by variable r0x00 and store in r0x00
               04972 ; #;;Unrolled 8 X 8 multiplication
               04973 ; #;;FIXME: the function does not support result==WREG
               04974 ; #     MOVF    r0x00, W
0058 0D04      04975         MULLW   0x04
005A CFF3 F000 04976         MOVFF   PRODL, r0x00
005E 0E00      04977         MOVLW   LOW(_ep_bdt)
0060 2400      04978         ADDWF   r0x00, W
0062 6E00      04979         MOVWF   r0x03
0064 6A00      04980         CLRF    r0x04
0066 0E00      04981         MOVLW   HIGH(_ep_bdt)
0068 2200      04982         ADDWFC  r0x04, F
006A 0E00      04983         MOVLW   LOW(_ep_bdt)
006C 2400      04984         ADDWF   r0x00, W
006E 6E00      04985         MOVWF   r0x05
0070 6A00      04986         CLRF    r0x06
0072 0E00      04987         MOVLW   HIGH(_ep_bdt)
0074 2200      04988         ADDWFC  r0x06, F
0076 C000 FFE9 04989         MOVFF   r0x05, FSR0L
007A C000 FFEA 04990         MOVFF   r0x06, FSR0H
007E CFEF F000 04991         MOVFF   INDF0, r0x05
0082 0EFC      04992         MOVLW   0xfc
0084 1600      04993         ANDWF   r0x05, F
0086 C000 FFE9 04994         MOVFF   r0x03, FSR0L
008A C000 FFEA 04995         MOVFF   r0x04, FSR0H
008E C000 FFEF 04996         MOVFF   r0x05, INDF0
               04997 ;       .line   383; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(ep).Stat.uc |= (byte)((bufferSize & 0x0300) >> 8);
0092 0E00      04998         MOVLW   LOW(_ep_bdt)
0094 2400      04999         ADDWF   r0x00, W
0096 6E00      05000         MOVWF   r0x03
0098 6A00      05001         CLRF    r0x04
009A 0E00      05002         MOVLW   HIGH(_ep_bdt)
009C 2200      05003         ADDWFC  r0x04, F
009E 0E00      05004         MOVLW   LOW(_ep_bdt)
00A0 2400      05005         ADDWF   r0x00, W
00A2 6E00      05006         MOVWF   r0x05
00A4 6A00      05007         CLRF    r0x06
00A6 0E00      05008         MOVLW   HIGH(_ep_bdt)
00A8 2200      05009         ADDWFC  r0x06, F
00AA C000 FFE9 05010         MOVFF   r0x05, FSR0L
00AE C000 FFEA 05011         MOVFF   r0x06, FSR0H
00B2 CFEF F000 05012         MOVFF   INDF0, r0x05
00B6 0E03      05013         MOVLW   0x03
00B8 1400      05014         ANDWF   r0x02, W
               05015 ; #     MOVWF   r0x07
               05016 ; #     MOVF    r0x07, W
00BA 1200      05017         IORWF   r0x05, F
00BC C000 FFE9 05018         MOVFF   r0x03, FSR0L
00C0 C000 FFEA 05019         MOVFF   r0x04, FSR0H
00C4 C000 FFEF 05020         MOVFF   r0x05, INDF0
               05021 ;       .line   384; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(ep).Cnt = (byte)(bufferSize & 0xFF);
00C8 0E00      05022         MOVLW   LOW(_ep_bdt)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 94


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00CA 2400      05023         ADDWF   r0x00, W
00CC 6E00      05024         MOVWF   r0x03
00CE 6A00      05025         CLRF    r0x04
00D0 0E00      05026         MOVLW   HIGH(_ep_bdt)
00D2 2200      05027         ADDWFC  r0x04, F
00D4 2A00      05028         INCF    r0x03, F
00D6 B0D8      05029         BTFSC   STATUS, 0
00D8 2A00      05030         INCF    r0x04, F
00DA 5000      05031         MOVF    r0x01, W
00DC 6E00      05032         MOVWF   r0x05
00DE C000 FFE9 05033         MOVFF   r0x03, FSR0L
00E2 C000 FFEA 05034         MOVFF   r0x04, FSR0H
00E6 C000 FFEF 05035         MOVFF   r0x05, INDF0
               05036 ;       .line   385; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      EP_IN_BD(ep).ADDR = PTR16(&controlTransferBuffer);
00EA 6A00      05037         CLRF    r0x03
00EC 0E00      05038         MOVLW   LOW(_ep_bdt)
00EE 2600      05039         ADDWF   r0x00, F
00F0 0E00      05040         MOVLW   HIGH(_ep_bdt)
00F2 2200      05041         ADDWFC  r0x03, F
00F4 0E02      05042         MOVLW   0x02
00F6 2600      05043         ADDWF   r0x00, F
00F8 B0D8      05044         BTFSC   STATUS, 0
00FA 2A00      05045         INCF    r0x03, F
00FC 0E00      05046         MOVLW   LOW(_controlTransferBuffer)
00FE 6E00      05047         MOVWF   r0x04
0100 0E00      05048         MOVLW   HIGH(_controlTransferBuffer)
0102 6E00      05049         MOVWF   r0x05
0104 C000 FFE9 05050         MOVFF   r0x00, FSR0L
0108 C000 FFEA 05051         MOVFF   r0x03, FSR0H
010C C000 FFEE 05052         MOVFF   r0x04, POSTINC0
0110 C000 FFEF 05053         MOVFF   r0x05, INDF0
               05054 ;       .line   390; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = wCount - bufferSize;
0114 5000      05055         MOVF    r0x01, W
0116 0000      05056         BANKSEL _wCount
0118 5F00      05057         SUBWF   _wCount, F, B
011A 5000      05058         MOVF    r0x02, W
               05059 ; removed redundant BANKSEL
011C 5B00      05060         SUBWFB  (_wCount + 1), F, B
               05061 ;       .line   393; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      inPtr = (byte *)&controlTransferBuffer;
011E 0E00      05062         MOVLW   HIGH(_controlTransferBuffer)
0120 0000      05063         BANKSEL (_inPtr + 1)
0122 6F00      05064         MOVWF   (_inPtr + 1), B
0124 0E00      05065         MOVLW   LOW(_controlTransferBuffer)
               05066 ; removed redundant BANKSEL
0126 6F00      05067         MOVWF   _inPtr, B
0128 0E80      05068         MOVLW   0x80
               05069 ; removed redundant BANKSEL
012A 6F00      05070         MOVWF   (_inPtr + 2), B
               05071 ;       .line   398; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      for (i=0;i<bufferSize;i++) {
012C 6A00      05072         CLRF    r0x00
012E 05073 _00300_DS_:
012E C000 F000 05074         MOVFF   r0x00, r0x03
0132 6A00      05075         CLRF    r0x04
0134 5000      05076         MOVF    r0x02, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 95


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0136 5C00      05077         SUBWF   r0x04, W
0138 E100      05078         BNZ     _00316_DS_
013A 5000      05079         MOVF    r0x01, W
013C 5C00      05080         SUBWF   r0x03, W
013E 05081 _00316_DS_:
013E E200      05082         BC      _00304_DS_
               05083 ;       .line   402; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      *inPtr++ = *outPtr++;
0140 C000 F000 05084         MOVFF   _inPtr, r0x03
0144 C000 F000 05085         MOVFF   (_inPtr + 1), r0x04
0148 C000 F000 05086         MOVFF   (_inPtr + 2), r0x05
014C C000 F000 05087         MOVFF   _outPtr, r0x06
0150 C000 F000 05088         MOVFF   (_outPtr + 1), r0x07
0154 C000 F000 05089         MOVFF   (_outPtr + 2), r0x08
0158 C000 FFE9 05090         MOVFF   r0x06, FSR0L
015C C000 FFF3 05091         MOVFF   r0x07, PRODL
0160 5000      05092         MOVF    r0x08, W
0162 EC00 F000 05093         CALL    __gptrget1
0166 6E00      05094         MOVWF   r0x06
0168 0000      05095         BANKSEL _outPtr
016A 2B00      05096         INCF    _outPtr, F, B
016C E300      05097         BNC     _51141_DS_
               05098 ; removed redundant BANKSEL
016E 2B00      05099         INCF    (_outPtr + 1), F, B
0170 05100 _51141_DS_:
0170 E300      05101         BNC     _61142_DS_
0172 0000      05102         BANKSEL (_outPtr + 2)
0174 2B00      05103         INCF    (_outPtr + 2), F, B
0176 05104 _61142_DS_:
0176 C000 FFE5 05105         MOVFF   r0x06, POSTDEC1
017A C000 FFE9 05106         MOVFF   r0x03, FSR0L
017E C000 FFF3 05107         MOVFF   r0x04, PRODL
0182 5000      05108         MOVF    r0x05, W
0184 EC00 F000 05109         CALL    __gptrput1
0188 0000      05110         BANKSEL _inPtr
018A 2B00      05111         INCF    _inPtr, F, B
018C E300      05112         BNC     _71143_DS_
               05113 ; removed redundant BANKSEL
018E 2B00      05114         INCF    (_inPtr + 1), F, B
0190 05115 _71143_DS_:
0190 E300      05116         BNC     _81144_DS_
0192 0000      05117         BANKSEL (_inPtr + 2)
0194 2B00      05118         INCF    (_inPtr + 2), F, B
0196 05119 _81144_DS_:
               05120 ;       .line   398; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      for (i=0;i<bufferSize;i++) {
0196 2A00      05121         INCF    r0x00, F
0198 D000      05122         BRA     _00300_DS_
019A 05123 _00304_DS_:
019A CFE4 F000 05124         MOVFF   PREINC1, r0x08
019E CFE4 F000 05125         MOVFF   PREINC1, r0x07
01A2 CFE4 F000 05126         MOVFF   PREINC1, r0x06
01A6 CFE4 F000 05127         MOVFF   PREINC1, r0x05
01AA CFE4 F000 05128         MOVFF   PREINC1, r0x04
01AE CFE4 F000 05129         MOVFF   PREINC1, r0x03
01B2 CFE4 F000 05130         MOVFF   PREINC1, r0x02
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 96


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01B6 CFE4 F000 05131         MOVFF   PREINC1, r0x01
01BA CFE4 F000 05132         MOVFF   PREINC1, r0x00
01BE CFE4 FFD9 05133         MOVFF   PREINC1, FSR2L
01C2 0012      05134         RETURN  
               05135 
               05136 ; ; Starting pCode block
               05137 S_main__ProcessStandardRequest  code
0000 05138 _ProcessStandardRequest:
               05139 ;       .line   253; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      void ProcessStandardRequest(void) {
0000 C000 FFE5 05140         MOVFF   r0x00, POSTDEC1
               05141 ;       .line   254; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte request = SetupPacket.bRequest;
0004 C000 F000 05142         MOVFF   (_SetupPacket + 1), r0x00
0008 0000      05143         BANKSEL _SetupPacket
               05144 ;       .line   256; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if((SetupPacket.bmRequestType & 0x60) != 0x00)
000A 5100      05145         MOVF    _SetupPacket, W, B
               05146 ; #     ANDLW   0x60
               05147 ; #     BTFSC   STATUS, 2
               05148 ; #     GOTO    _00231_DS_
               05149 ; #     GOTO    _00263_DS_
               05150 ; #     MOVF    r0x00, W
               05151 ;       .line   259; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      return;
000C 0B60      05152         ANDLW   0x60
               05153 ;       .line   261; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (request == SET_ADDRESS) {
000E A4D8      05154         BTFSS   STATUS, 2
0010 D000      05155         BRA     _00263_DS_
0012 5000      05156         MOVF    r0x00, W
0014 0A05      05157         XORLW   0x05
0016 E100      05158         BNZ     _00261_DS_
               05159 ;       .line   269; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
0018 0E01      05160         MOVLW   0x01
001A 0000      05161         BANKSEL _requestHandled
001C 6F00      05162         MOVWF   _requestHandled, B
               05163 ;       .line   270; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      deviceState = ADDRESS;
001E 0E04      05164         MOVLW   0x04
0020 0000      05165         BANKSEL _deviceState
0022 6F00      05166         MOVWF   _deviceState, B
               05167 ;       .line   271; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      deviceAddress = SetupPacket.wValue0;
0024 C000 F000 05168         MOVFF   (_SetupPacket + 2), _deviceAddress
0028 D000      05169         BRA     _00263_DS_
002A 05170 _00261_DS_:
               05171 ;       .line   273; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (request == GET_DESCRIPTOR) {
002A 5000      05172         MOVF    r0x00, W
002C 0A06      05173         XORLW   0x06
002E E100      05174         BNZ     _00258_DS_
               05175 ;       .line   274; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      GetDescriptor();
0030 EC00 F000 05176         CALL    _GetDescriptor
0034 D000      05177         BRA     _00263_DS_
0036 05178 _00258_DS_:
               05179 ;       .line   276; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (request == SET_CONFIGURATION) {
0036 5000      05180         MOVF    r0x00, W
0038 0A09      05181         XORLW   0x09
003A E100      05182         BNZ     _00255_DS_
               05183 ;       .line   280; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
003C 0E01      05184         MOVLW   0x01
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 97


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
003E 0000      05185         BANKSEL _requestHandled
0040 6F00      05186         MOVWF   _requestHandled, B
               05187 ;       .line   281; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      currentConfiguration = SetupPacket.wValue0;
0042 C000 F000 05188         MOVFF   (_SetupPacket + 2), _currentConfiguration
0046 0000      05189         BANKSEL _currentConfiguration
               05190 ;       .line   284; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (currentConfiguration == 0)
0048 5100      05191         MOVF    _currentConfiguration, W, B
004A E100      05192         BNZ     _00233_DS_
               05193 ;       .line   287; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      deviceState = ADDRESS;
004C 0E04      05194         MOVLW   0x04
004E 0000      05195         BANKSEL _deviceState
0050 6F00      05196         MOVWF   _deviceState, B
0052 D000      05197         BRA     _00263_DS_
0054 05198 _00233_DS_:
               05199 ;       .line   290; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      deviceState = CONFIGURED;
0054 0E05      05200         MOVLW   0x05
0056 0000      05201         BANKSEL _deviceState
0058 6F00      05202         MOVWF   _deviceState, B
               05203 ;       .line   300; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      CDCInitEndpoint();
005A EC00 F000 05204         CALL    _CDCInitEndpoint
005E D000      05205         BRA     _00263_DS_
0060 05206 _00255_DS_:
               05207 ;       .line   310; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (request == GET_CONFIGURATION) {
0060 5000      05208         MOVF    r0x00, W
0062 0A08      05209         XORLW   0x08
0064 E100      05210         BNZ     _00252_DS_
               05211 ;       .line   314; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
0066 0E01      05212         MOVLW   0x01
0068 0000      05213         BANKSEL _requestHandled
006A 6F00      05214         MOVWF   _requestHandled, B
               05215 ;       .line   315; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      outPtr = (byte*)&currentConfiguration;
006C 0E00      05216         MOVLW   HIGH(_currentConfiguration)
006E 0000      05217         BANKSEL (_outPtr + 1)
0070 6F00      05218         MOVWF   (_outPtr + 1), B
0072 0E00      05219         MOVLW   LOW(_currentConfiguration)
               05220 ; removed redundant BANKSEL
0074 6F00      05221         MOVWF   _outPtr, B
0076 0E80      05222         MOVLW   0x80
               05223 ; removed redundant BANKSEL
0078 6F00      05224         MOVWF   (_outPtr + 2), B
               05225 ;       .line   316; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = 1;
007A 0E01      05226         MOVLW   0x01
007C 0000      05227         BANKSEL _wCount
007E 6F00      05228         MOVWF   _wCount, B
               05229 ; removed redundant BANKSEL
0080 6B00      05230         CLRF    (_wCount + 1), B
0082 D000      05231         BRA     _00263_DS_
0084 05232 _00252_DS_:
               05233 ;       .line   318; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (request == GET_STATUS) {
0084 5000      05234         MOVF    r0x00, W
0086 E100      05235         BNZ     _00249_DS_
               05236 ;       .line   319; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      GetStatus();
0088 EC00 F000 05237         CALL    _GetStatus
008C D000      05238         BRA     _00263_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 98


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
008E 05239 _00249_DS_:
               05240 ;       .line   321; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if ((request == CLEAR_FEATURE) ||
008E 5000      05241         MOVF    r0x00, W
0090 0A01      05242         XORLW   0x01
0092 E000      05243         BZ      _00244_DS_
               05244 ;       .line   322; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      (request == SET_FEATURE)) {
0094 5000      05245         MOVF    r0x00, W
0096 0A03      05246         XORLW   0x03
0098 E100      05247         BNZ     _00245_DS_
009A 05248 _00244_DS_:
               05249 ;       .line   323; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      SetFeature();
009A EC00 F000 05250         CALL    _SetFeature
009E D000      05251         BRA     _00263_DS_
00A0 05252 _00245_DS_:
               05253 ;       .line   325; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (request == GET_INTERFACE) {
00A0 5000      05254         MOVF    r0x00, W
00A2 0A0A      05255         XORLW   0x0a
00A4 E100      05256         BNZ     _00242_DS_
               05257 ;       .line   331; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
00A6 0E01      05258         MOVLW   0x01
00A8 0000      05259         BANKSEL _requestHandled
00AA 6F00      05260         MOVWF   _requestHandled, B
00AC 0000      05261         BANKSEL _controlTransferBuffer
               05262 ;       .line   332; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      controlTransferBuffer[0] = 0;
00AE 6B00      05263         CLRF    _controlTransferBuffer, B
               05264 ;       .line   333; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      outPtr = (byte *)&controlTransferBuffer;
00B0 0E00      05265         MOVLW   HIGH(_controlTransferBuffer)
00B2 0000      05266         BANKSEL (_outPtr + 1)
00B4 6F00      05267         MOVWF   (_outPtr + 1), B
00B6 0E00      05268         MOVLW   LOW(_controlTransferBuffer)
               05269 ; removed redundant BANKSEL
00B8 6F00      05270         MOVWF   _outPtr, B
00BA 0E80      05271         MOVLW   0x80
               05272 ; removed redundant BANKSEL
00BC 6F00      05273         MOVWF   (_outPtr + 2), B
               05274 ;       .line   334; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = 1;
00BE 0E01      05275         MOVLW   0x01
00C0 0000      05276         BANKSEL _wCount
00C2 6F00      05277         MOVWF   _wCount, B
               05278 ; removed redundant BANKSEL
00C4 6B00      05279         CLRF    (_wCount + 1), B
00C6 D000      05280         BRA     _00263_DS_
00C8 05281 _00242_DS_:
               05282 ;       .line   336; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (request == SET_INTERFACE) {
00C8 5000      05283         MOVF    r0x00, W
00CA 0A0B      05284         XORLW   0x0b
00CC E100      05285         BNZ     _00263_DS_
               05286 ;       .line   341; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
00CE 0E01      05287         MOVLW   0x01
00D0 0000      05288         BANKSEL _requestHandled
00D2 6F00      05289         MOVWF   _requestHandled, B
00D4 05290 _00263_DS_:
               05291 ;       .line   348; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (request == SYNCH_FRAME) {
00D4 CFE4 F000 05292         MOVFF   PREINC1, r0x00
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 99


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00D8 0012      05293         RETURN  
               05294 
               05295 ; ; Starting pCode block
               05296 S_main__SetFeature      code
0000 05297 _SetFeature:
               05298 ;       .line   209; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      static void SetFeature(void) {
0000 C000 FFE5 05299         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 05300         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 05301         MOVFF   r0x02, POSTDEC1
000C C000 FFE5 05302         MOVFF   r0x03, POSTDEC1
               05303 ;       .line   210; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte recipient = SetupPacket.bmRequestType & 0x1F;
0010 0E1F      05304         MOVLW   0x1f
0012 0000      05305         BANKSEL _SetupPacket
0014 1500      05306         ANDWF   _SetupPacket, W, B
0016 6E00      05307         MOVWF   r0x00
               05308 ;       .line   211; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte feature = SetupPacket.wValue0;
0018 C000 F000 05309         MOVFF   (_SetupPacket + 2), r0x01
               05310 ;       .line   216; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (recipient == 0x00) {
001C 5000      05311         MOVF    r0x00, W
001E E100      05312         BNZ     _00200_DS_
               05313 ;       .line   218; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (feature == DEVICE_REMOTE_WAKEUP) {
0020 5000      05314         MOVF    r0x01, W
0022 0A01      05315         XORLW   0x01
0024 E000      05316         BZ      _00215_DS_
0026 D000      05317         BRA     _00202_DS_
0028 05318 _00215_DS_:
               05319 ;       .line   219; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
0028 0E01      05320         MOVLW   0x01
002A 0000      05321         BANKSEL _requestHandled
002C 6F00      05322         MOVWF   _requestHandled, B
002E 0000      05323         BANKSEL (_SetupPacket + 1)
               05324 ;       .line   220; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (SetupPacket.bRequest == SET_FEATURE)
0030 5100      05325         MOVF    (_SetupPacket + 1), W, B
0032 0A03      05326         XORLW   0x03
0034 E100      05327         BNZ     _00182_DS_
               05328 ;       .line   221; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      remoteWakeup = 1;
0036 0E01      05329         MOVLW   0x01
0038 0000      05330         BANKSEL _remoteWakeup
003A 6F00      05331         MOVWF   _remoteWakeup, B
003C D000      05332         BRA     _00202_DS_
003E 05333 _00182_DS_:
003E 0000      05334         BANKSEL _remoteWakeup
               05335 ;       .line   223; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      remoteWakeup = 0;
0040 6B00      05336         CLRF    _remoteWakeup, B
0042 D000      05337         BRA     _00202_DS_
0044 05338 _00200_DS_:
               05339 ;       .line   227; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (recipient == 0x02) {
0044 5000      05340         MOVF    r0x00, W
0046 0A02      05341         XORLW   0x02
0048 E000      05342         BZ      _00219_DS_
004A D000      05343         BRA     _00202_DS_
004C 05344 _00219_DS_:
               05345 ;       .line   229; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte endpointNum = SetupPacket.wIndex0 & 0x0F;
004C 0E0F      05346         MOVLW   0x0f
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 100


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
004E 0000      05347         BANKSEL (_SetupPacket + 4)
0050 1500      05348         ANDWF   (_SetupPacket + 4), W, B
0052 6E00      05349         MOVWF   r0x00
               05350 ;       .line   230; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte endpointDir = SetupPacket.wIndex0 & 0x80;
0054 0E80      05351         MOVLW   0x80
               05352 ; removed redundant BANKSEL
0056 1500      05353         ANDWF   (_SetupPacket + 4), W, B
0058 6E00      05354         MOVWF   r0x02
               05355 ;       .line   231; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if ((feature == ENDPOINT_HALT) && (endpointNum != 0)) {
005A 5000      05356         MOVF    r0x01, W
005C A4D8      05357         BTFSS   STATUS, 2
005E D000      05358         BRA     _00202_DS_
0060 5000      05359         MOVF    r0x00, W
0062 B4D8      05360         BTFSC   STATUS, 2
0064 D000      05361         BRA     _00202_DS_
               05362 ;       .line   233; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
0066 0E01      05363         MOVLW   0x01
0068 0000      05364         BANKSEL _requestHandled
006A 6F00      05365         MOVWF   _requestHandled, B
               05366 ; ;multiply lit val:0x08 by variable r0x00 and store in r0x00
               05367 ; ;Unrolled 8 X 8 multiplication
               05368 ; ;FIXME: the function does not support result==WREG
               05369 ;       .line   236; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      inPtr = (byte *)&EP_OUT_BD(0) + (endpointNum * 8);
006C 5000      05370         MOVF    r0x00, W
006E 0D08      05371         MULLW   0x08
0070 CFF3 F000 05372         MOVFF   PRODL, r0x00
0074 CFF4 F000 05373         MOVFF   PRODH, r0x01
0078 0E00      05374         MOVLW   LOW(_ep_bdt)
007A 2600      05375         ADDWF   r0x00, F
007C 0E00      05376         MOVLW   HIGH(_ep_bdt)
007E 2200      05377         ADDWFC  r0x01, F
0080 5000      05378         MOVF    r0x01, W
0082 0000      05379         BANKSEL (_inPtr + 1)
0084 6F00      05380         MOVWF   (_inPtr + 1), B
0086 5000      05381         MOVF    r0x00, W
               05382 ; removed redundant BANKSEL
0088 6F00      05383         MOVWF   _inPtr, B
008A 0E80      05384         MOVLW   0x80
               05385 ; removed redundant BANKSEL
008C 6F00      05386         MOVWF   (_inPtr + 2), B
               05387 ;       .line   237; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (endpointDir)
008E 5000      05388         MOVF    r0x02, W
0090 E000      05389         BZ      _00187_DS_
               05390 ;       .line   238; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      inPtr += 4;
0092 0E04      05391         MOVLW   0x04
               05392 ; removed redundant BANKSEL
0094 2700      05393         ADDWF   _inPtr, F, B
0096 0E00      05394         MOVLW   0x00
               05395 ; removed redundant BANKSEL
0098 2300      05396         ADDWFC  (_inPtr + 1), F, B
               05397 ; removed redundant BANKSEL
009A 2300      05398         ADDWFC  (_inPtr + 2), F, B
009C 05399 _00187_DS_:
009C 0000      05400         BANKSEL (_SetupPacket + 1)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 101


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               05401 ;       .line   240; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(SetupPacket.bRequest == SET_FEATURE)
009E 5100      05402         MOVF    (_SetupPacket + 1), W, B
00A0 0A03      05403         XORLW   0x03
00A2 E100      05404         BNZ     _00192_DS_
               05405 ;       .line   241; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      *inPtr = 0x84;
00A4 C000 F000 05406         MOVFF   _inPtr, r0x00
00A8 C000 F000 05407         MOVFF   (_inPtr + 1), r0x01
00AC C000 F000 05408         MOVFF   (_inPtr + 2), r0x03
00B0 0E84      05409         MOVLW   0x84
00B2 6EE5      05410         MOVWF   POSTDEC1
00B4 C000 FFE9 05411         MOVFF   r0x00, FSR0L
00B8 C000 FFF3 05412         MOVFF   r0x01, PRODL
00BC 5000      05413         MOVF    r0x03, W
00BE EC00 F000 05414         CALL    __gptrput1
00C2 D000      05415         BRA     _00202_DS_
00C4 05416 _00192_DS_:
               05417 ;       .line   243; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(endpointDir == 1)
00C4 5000      05418         MOVF    r0x02, W
00C6 0A01      05419         XORLW   0x01
00C8 E100      05420         BNZ     _00189_DS_
               05421 ;       .line   244; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      *inPtr = 0x00;
00CA C000 F000 05422         MOVFF   _inPtr, r0x00
00CE C000 F000 05423         MOVFF   (_inPtr + 1), r0x01
00D2 C000 F000 05424         MOVFF   (_inPtr + 2), r0x02
00D6 6AE5      05425         CLRF    POSTDEC1
00D8 C000 FFE9 05426         MOVFF   r0x00, FSR0L
00DC C000 FFF3 05427         MOVFF   r0x01, PRODL
00E0 5000      05428         MOVF    r0x02, W
00E2 EC00 F000 05429         CALL    __gptrput1
00E6 D000      05430         BRA     _00202_DS_
00E8 05431 _00189_DS_:
               05432 ;       .line   246; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      *inPtr = 0x88;
00E8 C000 F000 05433         MOVFF   _inPtr, r0x00
00EC C000 F000 05434         MOVFF   (_inPtr + 1), r0x01
00F0 C000 F000 05435         MOVFF   (_inPtr + 2), r0x02
00F4 0E88      05436         MOVLW   0x88
00F6 6EE5      05437         MOVWF   POSTDEC1
00F8 C000 FFE9 05438         MOVFF   r0x00, FSR0L
00FC C000 FFF3 05439         MOVFF   r0x01, PRODL
0100 5000      05440         MOVF    r0x02, W
0102 EC00 F000 05441         CALL    __gptrput1
0106 05442 _00202_DS_:
0106 CFE4 F000 05443         MOVFF   PREINC1, r0x03
010A CFE4 F000 05444         MOVFF   PREINC1, r0x02
010E CFE4 F000 05445         MOVFF   PREINC1, r0x01
0112 CFE4 F000 05446         MOVFF   PREINC1, r0x00
0116 0012      05447         RETURN  
               05448 
               05449 ; ; Starting pCode block
               05450 S_main__GetStatus       code
0000 05451 _GetStatus:
               05452 ;       .line   164; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      static void GetStatus(void) {
0000 C000 FFE5 05453         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 05454         MOVFF   r0x01, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 102


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0008 C000 FFE5 05455         MOVFF   r0x02, POSTDEC1
               05456 ;       .line   166; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte recipient = SetupPacket.bmRequestType & 0x1F;
000C 0E1F      05457         MOVLW   0x1f
000E 0000      05458         BANKSEL _SetupPacket
0010 1500      05459         ANDWF   _SetupPacket, W, B
0012 6E00      05460         MOVWF   r0x00
0014 0000      05461         BANKSEL _controlTransferBuffer
               05462 ;       .line   170; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      controlTransferBuffer[0] = 0;
0016 6B00      05463         CLRF    _controlTransferBuffer, B
               05464 ; removed redundant BANKSEL
               05465 ;       .line   171; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      controlTransferBuffer[1] = 0;
0018 6B00      05466         CLRF    (_controlTransferBuffer + 1), B
               05467 ;       .line   174; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (recipient == 0x00) {
001A 5000      05468         MOVF    r0x00, W
001C E100      05469         BNZ     _00153_DS_
               05470 ;       .line   176; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
001E 0E01      05471         MOVLW   0x01
0020 0000      05472         BANKSEL _requestHandled
0022 6F00      05473         MOVWF   _requestHandled, B
0024 0000      05474         BANKSEL _selfPowered
               05475 ;       .line   178; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (selfPowered)
0026 5100      05476         MOVF    _selfPowered, W, B
0028 E000      05477         BZ      _00140_DS_
               05478 ;       .line   179; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      controlTransferBuffer[0] |= 0x01;
002A 0E01      05479         MOVLW   0x01
002C 0000      05480         BANKSEL _controlTransferBuffer
002E 1100      05481         IORWF   _controlTransferBuffer, W, B
               05482 ; #     MOVWF   r0x01
               05483 ; #     MOVF    r0x01, W
0030 6F00      05484         MOVWF   _controlTransferBuffer, B
0032 05485 _00140_DS_:
0032 0000      05486         BANKSEL _remoteWakeup
               05487 ;       .line   180; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (remoteWakeup)
0034 5100      05488         MOVF    _remoteWakeup, W, B
0036 B4D8      05489         BTFSC   STATUS, 2
0038 D000      05490         BRA     _00154_DS_
               05491 ;       .line   181; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      controlTransferBuffer[0] |= 0x02;
003A 0E02      05492         MOVLW   0x02
003C 0000      05493         BANKSEL _controlTransferBuffer
003E 1100      05494         IORWF   _controlTransferBuffer, W, B
               05495 ; #     MOVWF   r0x01
               05496 ; #     MOVF    r0x01, W
0040 6F00      05497         MOVWF   _controlTransferBuffer, B
0042 D000      05498         BRA     _00154_DS_
0044 05499 _00153_DS_:
               05500 ;       .line   183; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (recipient == 0x01) {
0044 5000      05501         MOVF    r0x00, W
0046 0A01      05502         XORLW   0x01
0048 E100      05503         BNZ     _00150_DS_
               05504 ;       .line   185; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
004A 0E01      05505         MOVLW   0x01
004C 0000      05506         BANKSEL _requestHandled
004E 6F00      05507         MOVWF   _requestHandled, B
0050 D000      05508         BRA     _00154_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 103


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0052 05509 _00150_DS_:
               05510 ;       .line   187; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (recipient == 0x02) {
0052 5000      05511         MOVF    r0x00, W
0054 0A02      05512         XORLW   0x02
0056 E100      05513         BNZ     _00154_DS_
               05514 ;       .line   189; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte endpointNum = SetupPacket.wIndex0 & 0x0F;
0058 0E0F      05515         MOVLW   0x0f
005A 0000      05516         BANKSEL (_SetupPacket + 4)
005C 1500      05517         ANDWF   (_SetupPacket + 4), W, B
005E 6E00      05518         MOVWF   r0x00
               05519 ;       .line   190; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte endpointDir = SetupPacket.wIndex0 & 0x80;
0060 0E80      05520         MOVLW   0x80
               05521 ; removed redundant BANKSEL
0062 1500      05522         ANDWF   (_SetupPacket + 4), W, B
0064 6E00      05523         MOVWF   r0x01
               05524 ;       .line   191; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
0066 0E01      05525         MOVLW   0x01
0068 0000      05526         BANKSEL _requestHandled
006A 6F00      05527         MOVWF   _requestHandled, B
               05528 ; ;multiply lit val:0x08 by variable r0x00 and store in r0x00
               05529 ; ;Unrolled 8 X 8 multiplication
               05530 ; ;FIXME: the function does not support result==WREG
               05531 ;       .line   194; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      inPtr = (byte *)&EP_OUT_BD(0) + (endpointNum * 8);
006C 5000      05532         MOVF    r0x00, W
006E 0D08      05533         MULLW   0x08
0070 CFF3 F000 05534         MOVFF   PRODL, r0x00
0074 CFF4 F000 05535         MOVFF   PRODH, r0x02
0078 0E00      05536         MOVLW   LOW(_ep_bdt)
007A 2600      05537         ADDWF   r0x00, F
007C 0E00      05538         MOVLW   HIGH(_ep_bdt)
007E 2200      05539         ADDWFC  r0x02, F
0080 5000      05540         MOVF    r0x02, W
0082 0000      05541         BANKSEL (_inPtr + 1)
0084 6F00      05542         MOVWF   (_inPtr + 1), B
0086 5000      05543         MOVF    r0x00, W
               05544 ; removed redundant BANKSEL
0088 6F00      05545         MOVWF   _inPtr, B
008A 0E80      05546         MOVLW   0x80
               05547 ; removed redundant BANKSEL
008C 6F00      05548         MOVWF   (_inPtr + 2), B
               05549 ;       .line   195; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (endpointDir)
008E 5000      05550         MOVF    r0x01, W
0090 E000      05551         BZ      _00144_DS_
               05552 ;       .line   196; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      inPtr += 4;
0092 0E04      05553         MOVLW   0x04
               05554 ; removed redundant BANKSEL
0094 2700      05555         ADDWF   _inPtr, F, B
0096 0E00      05556         MOVLW   0x00
               05557 ; removed redundant BANKSEL
0098 2300      05558         ADDWFC  (_inPtr + 1), F, B
               05559 ; removed redundant BANKSEL
009A 2300      05560         ADDWFC  (_inPtr + 2), F, B
009C 05561 _00144_DS_:
               05562 ;       .line   197; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(*inPtr & BDS_BSTALL)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 104


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
009C C000 F000 05563         MOVFF   _inPtr, r0x00
00A0 C000 F000 05564         MOVFF   (_inPtr + 1), r0x01
00A4 C000 F000 05565         MOVFF   (_inPtr + 2), r0x02
00A8 C000 FFE9 05566         MOVFF   r0x00, FSR0L
00AC C000 FFF3 05567         MOVFF   r0x01, PRODL
00B0 5000      05568         MOVF    r0x02, W
00B2 EC00 F000 05569         CALL    __gptrget1
00B6 6E00      05570         MOVWF   r0x00
00B8 A400      05571         BTFSS   r0x00, 2
00BA D000      05572         BRA     _00154_DS_
               05573 ;       .line   198; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      controlTransferBuffer[0] = 0x01;
00BC 0E01      05574         MOVLW   0x01
00BE 0000      05575         BANKSEL _controlTransferBuffer
00C0 6F00      05576         MOVWF   _controlTransferBuffer, B
00C2 05577 _00154_DS_:
00C2 0000      05578         BANKSEL _requestHandled
               05579 ;       .line   201; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (requestHandled) {
00C4 5100      05580         MOVF    _requestHandled, W, B
00C6 E000      05581         BZ      _00157_DS_
               05582 ;       .line   202; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      outPtr = (byte *)&controlTransferBuffer;
00C8 0E00      05583         MOVLW   HIGH(_controlTransferBuffer)
00CA 0000      05584         BANKSEL (_outPtr + 1)
00CC 6F00      05585         MOVWF   (_outPtr + 1), B
00CE 0E00      05586         MOVLW   LOW(_controlTransferBuffer)
               05587 ; removed redundant BANKSEL
00D0 6F00      05588         MOVWF   _outPtr, B
00D2 0E80      05589         MOVLW   0x80
               05590 ; removed redundant BANKSEL
00D4 6F00      05591         MOVWF   (_outPtr + 2), B
               05592 ;       .line   203; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = 2;
00D6 0E02      05593         MOVLW   0x02
00D8 0000      05594         BANKSEL _wCount
00DA 6F00      05595         MOVWF   _wCount, B
               05596 ; removed redundant BANKSEL
00DC 6B00      05597         CLRF    (_wCount + 1), B
00DE 05598 _00157_DS_:
00DE CFE4 F000 05599         MOVFF   PREINC1, r0x02
00E2 CFE4 F000 05600         MOVFF   PREINC1, r0x01
00E6 CFE4 F000 05601         MOVFF   PREINC1, r0x00
00EA 0012      05602         RETURN  
               05603 
               05604 ; ; Starting pCode block
               05605 S_main__GetDescriptor   code
0000 05606 _GetDescriptor:
               05607 ;       .line   97; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c       static void GetDescriptor(void) {
0000 C000 FFE5 05608         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 05609         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 05610         MOVFF   r0x02, POSTDEC1
000C C000 FFE5 05611         MOVFF   r0x03, POSTDEC1
0010 0000      05612         BANKSEL _SetupPacket
               05613 ;       .line   101; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if(SetupPacket.bmRequestType == 0x80) {
0012 5100      05614         MOVF    _SetupPacket, W, B
0014 0A80      05615         XORLW   0x80
0016 E000      05616         BZ      _00126_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 105


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0018 D000      05617         BRA     _00118_DS_
001A 05618 _00126_DS_:
               05619 ;       .line   102; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte descriptorType  = SetupPacket.wValue1;
001A C000 F000 05620         MOVFF   (_SetupPacket + 3), r0x00
               05621 ;       .line   103; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      byte descriptorIndex = SetupPacket.wValue0;
001E C000 F000 05622         MOVFF   (_SetupPacket + 2), r0x01
               05623 ;       .line   105; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      if (descriptorType == DEVICE_DESCRIPTOR) {
0022 5000      05624         MOVF    r0x00, W
0024 0A01      05625         XORLW   0x01
0026 E100      05626         BNZ     _00114_DS_
               05627 ;       .line   109; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
0028 0E01      05628         MOVLW   0x01
002A 0000      05629         BANKSEL _requestHandled
002C 6F00      05630         MOVWF   _requestHandled, B
               05631 ;       .line   110; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      outPtr = (byte *)&libdevice_descriptor;
002E 0E00      05632         MOVLW   LOW(_libdevice_descriptor)
0030 0000      05633         BANKSEL _outPtr
0032 6F00      05634         MOVWF   _outPtr, B
0034 0E00      05635         MOVLW   HIGH(_libdevice_descriptor)
               05636 ; removed redundant BANKSEL
0036 6F00      05637         MOVWF   (_outPtr + 1), B
0038 0E00      05638         MOVLW   UPPER(_libdevice_descriptor)
               05639 ; removed redundant BANKSEL
003A 6F00      05640         MOVWF   (_outPtr + 2), B
               05641 ;       .line   111; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = sizeof(USB_Device_Descriptor);
003C 0E12      05642         MOVLW   0x12
003E 0000      05643         BANKSEL _wCount
0040 6F00      05644         MOVWF   _wCount, B
               05645 ; removed redundant BANKSEL
0042 6B00      05646         CLRF    (_wCount + 1), B
0044 D000      05647         BRA     _00118_DS_
0046 05648 _00114_DS_:
               05649 ;       .line   113; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (descriptorType == CONFIGURATION_DESCRIPTOR) {
0046 5000      05650         MOVF    r0x00, W
0048 0A02      05651         XORLW   0x02
004A E100      05652         BNZ     _00111_DS_
               05653 ;       .line   117; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
004C 0E01      05654         MOVLW   0x01
004E 0000      05655         BANKSEL _requestHandled
0050 6F00      05656         MOVWF   _requestHandled, B
               05657 ;       .line   128; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      outPtr = (byte *)&libconfiguration_descriptor;
0052 0E00      05658         MOVLW   LOW(_libconfiguration_descriptor)
0054 0000      05659         BANKSEL _outPtr
0056 6F00      05660         MOVWF   _outPtr, B
0058 0E00      05661         MOVLW   HIGH(_libconfiguration_descriptor)
               05662 ; removed redundant BANKSEL
005A 6F00      05663         MOVWF   (_outPtr + 1), B
005C 0E00      05664         MOVLW   UPPER(_libconfiguration_descriptor)
               05665 ; removed redundant BANKSEL
005E 6F00      05666         MOVWF   (_outPtr + 2), B
               05667 ;       .line   130; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = libconfiguration_descriptor.Header.wTotalLength;
0060 0E00      05668         MOVLW   LOW(_libconfiguration_descriptor + 2)
0062 6EF6      05669         MOVWF   TBLPTRL
0064 0E00      05670         MOVLW   HIGH(_libconfiguration_descriptor + 2)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 106


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0066 6EF7      05671         MOVWF   TBLPTRH
0068 0E00      05672         MOVLW   UPPER(_libconfiguration_descriptor + 2)
006A 6EF8      05673         MOVWF   TBLPTRU
006C 0009      05674         TBLRD*+ 
006E CFF5 F000 05675         MOVFF   TABLAT, _wCount
0072 0009      05676         TBLRD*+ 
0074 CFF5 F000 05677         MOVFF   TABLAT, (_wCount + 1)
0078 D000      05678         BRA     _00118_DS_
007A 05679 _00111_DS_:
               05680 ;       .line   136; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (descriptorType == STRING_DESCRIPTOR) {
007A 5000      05681         MOVF    r0x00, W
007C 0A03      05682         XORLW   0x03
007E E100      05683         BNZ     _00108_DS_
               05684 ;       .line   140; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
0080 0E01      05685         MOVLW   0x01
0082 0000      05686         BANKSEL _requestHandled
0084 6F00      05687         MOVWF   _requestHandled, B
               05688 ; ;multiply lit val:0x03 by variable r0x01 and store in r0x01
               05689 ; ;Unrolled 8 X 8 multiplication
               05690 ; ;FIXME: the function does not support result==WREG
               05691 ;       .line   141; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      outPtr = (byte *)&libstring_descriptor[descriptorIndex];
0086 5000      05692         MOVF    r0x01, W
0088 0D03      05693         MULLW   0x03
008A CFF3 F000 05694         MOVFF   PRODL, r0x01
008E 0E00      05695         MOVLW   LOW(_libstring_descriptor)
0090 2400      05696         ADDWF   r0x01, W
0092 0000      05697         BANKSEL _outPtr
0094 6F00      05698         MOVWF   _outPtr, B
               05699 ; removed redundant BANKSEL
0096 6B00      05700         CLRF    (_outPtr + 1), B
0098 0E00      05701         MOVLW   HIGH(_libstring_descriptor)
               05702 ; removed redundant BANKSEL
009A 2300      05703         ADDWFC  (_outPtr + 1), F, B
               05704 ; removed redundant BANKSEL
009C 6B00      05705         CLRF    (_outPtr + 2), B
009E 0E00      05706         MOVLW   UPPER(_libstring_descriptor)
               05707 ; removed redundant BANKSEL
00A0 2300      05708         ADDWFC  (_outPtr + 2), F, B
               05709 ;       .line   142; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      wCount = *outPtr;
00A2 C000 F000 05710         MOVFF   _outPtr, r0x01
00A6 C000 F000 05711         MOVFF   (_outPtr + 1), r0x02
00AA C000 F000 05712         MOVFF   (_outPtr + 2), r0x03
00AE C000 FFE9 05713         MOVFF   r0x01, FSR0L
00B2 C000 FFF3 05714         MOVFF   r0x02, PRODL
00B6 5000      05715         MOVF    r0x03, W
00B8 EC00 F000 05716         CALL    __gptrget1
00BC 6E00      05717         MOVWF   r0x01
00BE C000 F000 05718         MOVFF   r0x01, _wCount
00C2 0000      05719         BANKSEL (_wCount + 1)
00C4 6B00      05720         CLRF    (_wCount + 1), B
00C6 D000      05721         BRA     _00118_DS_
00C8 05722 _00108_DS_:
               05723 ;       .line   144; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      else if (descriptorType == DEVICE_QUALIFIER_DESCRIPTOR) {
00C8 5000      05724         MOVF    r0x00, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 107


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00CA 0A06      05725         XORLW   0x06
00CC E100      05726         BNZ     _00118_DS_
               05727 ;       .line   148; /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/p8/include/pinguino/libraries/usb/picUSB.c      requestHandled = 1;
00CE 0E01      05728         MOVLW   0x01
00D0 0000      05729         BANKSEL _requestHandled
00D2 6F00      05730         MOVWF   _requestHandled, B
00D4 05731 _00118_DS_:
00D4 CFE4 F000 05732         MOVFF   PREINC1, r0x03
00D8 CFE4 F000 05733         MOVFF   PREINC1, r0x02
00DC CFE4 F000 05734         MOVFF   PREINC1, r0x01
00E0 CFE4 F000 05735         MOVFF   PREINC1, r0x00
00E4 0012      05736         RETURN  
               05737 
               05738 ; ; Starting pCode block for Ival
               05739         code
0000 05740 _libdevice_descriptor:
0000 0112 0200 05741         DB      0x12, 0x01, 0x00, 0x02, 0x02, 0x00, 0x00, 0x40, 0xd8, 0x04, 0xab, 0xfe
     0002 4000 
     04D8 FEAB 
000C 0000 0100 05742         DB      0x00, 0x00, 0x00, 0x01, 0x00, 0x01
     0100      
               05743 ; ; Starting pCode block for Ival
0012 05744 _libconfiguration_descriptor:
0012 0209 0043 05745         DB      0x09, 0x02, 0x43, 0x00, 0x02, 0x01, 0x00, 0x03, 0x14, 0x09, 0x04, 0x00
     0102 0300 
     0914 0004 
001E 0100 0202 05746         DB      0x00, 0x01, 0x02, 0x02, 0x01, 0x00, 0x05, 0x24, 0x00, 0x10, 0x01, 0x04
     0001 2405 
     1000 0401 
002A 0224 0500 05747         DB      0x24, 0x02, 0x00, 0x05, 0x24, 0x06, 0x00, 0x01, 0x05, 0x24, 0x01, 0x00
     0624 0100 
     2405 0001 
0036 0701 8205 05748         DB      0x01, 0x07, 0x05, 0x82, 0x03, 0x10, 0x00, 0x02, 0x09, 0x04, 0x01, 0x00
     1003 0200 
     0409 0001 
0042 0A02 0000 05749         DB      0x02, 0x0a, 0x00, 0x00, 0x00, 0x07, 0x05, 0x03, 0x02, 0x40, 0x00, 0x00
     0700 0305 
     4002 0000 
004E 0507 0283 05750         DB      0x07, 0x05, 0x83, 0x02, 0x40, 0x00, 0x00
     0040 0000 
               05751 ; ; Starting pCode block for Ival
0056 05752 _libstring_descriptor:
0056 0328 0C50 05753         DB      0x28, 0x03, 0x50, 0x0c, 0x03, 0x50, 0x0c, 0x03, 0x50, 0x00, 0x00, 0x00
     5003 030C 
     0050 0000 
0062 0000 0000 05754         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
006E 0000 0000 05755         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
007A 0000 0000 05756         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 108


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0086 0000 0000 05757         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
0092 0000 0000 05758         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
009E 0000 0000 05759         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
00AA 0000 0000 05760         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
00B6 0000 0000 05761         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
00C2 0000 0000 05762         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
     0000 0000 
     0000 0000 
               05763 ; ; Starting pCode block
00CE 05764 __str_0:
00CE 6E28 6C75 05765         DB      0x28, 0x6e, 0x75, 0x6c, 0x6c, 0x29, 0x00
     296C 0000 
               05766 ; ; Starting pCode block
00D6 05767 __str_1:
00D6 6625 0000 05768         DB      0x25, 0x66, 0x00
               05769 ; ; Starting pCode block
00DA 05770 __str_2:
00DA 6425 0000 05771         DB      0x25, 0x64, 0x00
               05772 ; ; Starting pCode block
00DE 05773 __str_3:
00DE 7825 0000 05774         DB      0x25, 0x78, 0x00
               05775 ; ; Starting pCode block
00E2 05776 __str_4:
00E2 6F25 0000 05777         DB      0x25, 0x6f, 0x00
               05778 ; ; Starting pCode block
00E6 05779 __str_5:
00E6 6225 0000 05780         DB      0x25, 0x62, 0x00
               05781 ; ; Starting pCode block
00EA 05782 __str_6:
00EA 0D0A 0000 05783         DB      0x0a, 0x0d, 0x00
               05784 ; ; Starting pCode block
00EE 05785 __str_7:
00EE 6325 0000 05786         DB      0x25, 0x63, 0x00
               05787 ; ; Starting pCode block
00F2 05788 __str_8:
00F2 4F54 4F54 05789         DB      0x54, 0x4f, 0x54, 0x4f, 0x00
     0000      
               05790 
               05791 
               05792 ; Statistics:
               05793 ; code size:    10190 (0x27ce) bytes ( 7.77%)
               05794 ;                5095 (0x13e7) words
               05795 ; udata size:     626 (0x0272) bytes (34.93%)
               05796 ; access size:     33 (0x0021) bytes
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 109


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               05797 
               05798 
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 110


SYMBOL TABLE
  LABEL                             VALUE 

FSR0H                             00000FEA
FSR0L                             00000FE9
FSR1H                             00000FE2
FSR1L                             00000FE1
FSR2H                             00000FDA
FSR2L                             00000FD9
INDF0                             00000FEF
INTCON                            00000FF2
PCL                               00000FF9
PCLATH                            00000FFA
PCLATU                            00000FFB
PLUSW1                            00000FE3
PLUSW2                            00000FDB
POSTDEC1                          00000FE5
POSTINC0                          00000FEE
POSTINC1                          00000FE6
PREINC1                           00000FE4
PRODH                             00000FF4
PRODL                             00000FF3
STATUS                            00000FD8
TABLAT                            00000FF5
TBLPTRH                           00000FF7
TBLPTRL                           00000FF6
TBLPTRU                           00000FF8
TOSH                              00000FFE
TOSL                              00000FFD
TOSU                              00000FFF
WREG                              00000FE8
_00108_DS_                        000000C8
_00111_DS_                        0000007A
_00114_DS_                        00000046
_00118_DS_                        000000D4
_00126_DS_                        0000001A
_00140_DS_                        00000032
_00144_DS_                        0000009C
_00150_DS_                        00000052
_00153_DS_                        00000044
_00154_DS_                        000000C2
_00157_DS_                        000000DE
_00182_DS_                        0000003E
_00187_DS_                        0000009C
_00189_DS_                        000000E8
_00192_DS_                        000000C4
_00200_DS_                        00000044
_00202_DS_                        00000106
_00215_DS_                        00000028
_00219_DS_                        0000004C
_00233_DS_                        00000054
_00242_DS_                        000000C8
_00244_DS_                        0000009A
_00245_DS_                        000000A0
_00249_DS_                        0000008E
_00252_DS_                        00000084
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 111


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_00255_DS_                        00000060
_00258_DS_                        00000036
_00261_DS_                        0000002A
_00263_DS_                        000000D4
_00298_DS_                        0000004A
_00299_DS_                        00000050
_00300_DS_                        0000012E
_00304_DS_                        0000019A
_00310_DS_                        0000003E
_00316_DS_                        0000013E
_00321_DS_                        000000A4
_00325_DS_                        0000010E
_00332_DS_                        000000AE
_00338_DS_                        00000032
_00340_DS_                        00000070
_00342_DS_                        000000A0
_00345_DS_                        0000004E
_00346_DS_                        000000BE
_00360_DS_                        00000066
_00371_DS_                        0000003E
_00374_DS_                        00000046
_00377_DS_                        00000020
_00382_DS_                        00000072
_00385_DS_                        00000090
_00388_DS_                        00000098
_00393_DS_                        0000004C
_00395_DS_                        0000009C
_00423_DS_                        00000010
_00427_DS_                        0000002A
_00449_DS_                        00000016
_00467_DS_                        00000016
_00469_DS_                        00000026
_00483_DS_                        00000014
_00488_DS_                        0000002A
_00491_DS_                        00000034
_00494_DS_                        0000003E
_00497_DS_                        00000048
_00500_DS_                        00000050
_00507_DS_                        00000066
_00534_DS_                        00000010
_00537_DS_                        00000036
_00538_DS_                        00000054
_00539_DS_                        00000072
_00541_DS_                        00000082
_00542_DS_                        00000086
_00544_DS_                        000000A2
_00557_DS_                        0000001A
_00559_DS_                        00000022
_00573_DS_                        00000050
_00575_DS_                        0000005A
_00579_DS_                        000000EE
_00580_DS_                        0000006C
_00584_DS_                        000000F0
_00592_DS_                        000000B4
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 112


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_00602_DS_                        00000056
_00604_DS_                        00000060
_00608_DS_                        000000EC
_00609_DS_                        00000072
_00613_DS_                        000000EE
_00620_DS_                        00000070
_00621_DS_                        000000B2
_00635_DS_                        00000048
_00639_DS_                        00000076
_00644_DS_                        0000005E
_00649_DS_                        00000028
_00653_DS_                        0000003C
_00658_DS_                        00000032
_00664_DS_                        00000094
_00666_DS_                        000000C2
_00669_DS_                        000000BE
_00675_DS_                        000000B8
_00676_DS_                        000000BC
_00680_DS_                        000000C4
_00683_DS_                        0000008C
_00686_DS_                        000000AE
_00687_DS_                        000000CE
_00691_DS_                        00000108
_00695_DS_                        0000014A
_00698_DS_                        00000178
_00701_DS_                        000000D8
_00702_DS_                        000000DA
_00703_DS_                        00000154
_00704_DS_                        00000156
_00714_DS_                        00000104
_00717_DS_                        00000142
_00719_DS_                        000000FC
_00730_DS_                        00000114
_00732_DS_                        0000014A
_00736_DS_                        000001DA
_00737_DS_                        00000170
_00741_DS_                        00000268
_00745_DS_                        00000282
_00746_DS_                        000002B2
_00758_DS_                        00000230
_00762_DS_                        000001CC
_00769_DS_                        00000138
_00773_DS_                        00000158
_00775_DS_                        000002B8
_00778_DS_                        00000218
_00780_DS_                        00000188
_00781_DS_                        000001C6
_00782_DS_                        00000304
_00784_DS_                        00000340
_00787_DS_                        000003D6
_00792_DS_                        00000422
_00794_DS_                        0000042C
_00798_DS_                        000004F0
_00799_DS_                        00000468
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 113


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_00803_DS_                        00000530
_00813_DS_                        0000032E
_00821_DS_                        000003C6
_00822_DS_                        00000416
_00823_DS_                        000004E4
_00831_DS_                        00000216
_00832_DS_                        000001FA
_00833_DS_                        0000020A
_00834_DS_                        00000208
_00835_DS_                        0000026C
_00836_DS_                        00000250
_00837_DS_                        00000260
_00838_DS_                        0000025E
_00839_DS_                        000002A8
_00840_DS_                        0000028C
_00841_DS_                        0000029C
_00842_DS_                        0000029A
_00847_DS_                        000002E8
_00848_DS_                        000002F8
_00849_DS_                        000002F6
_00864_DS_                        00000110
_00870_DS_                        0000027E
_00872_DS_                        00000308
_00874_DS_                        00000324
_00876_DS_                        0000036E
_00877_DS_                        000003B6
_00879_DS_                        0000040A
_00880_DS_                        00000416
_00881_DS_                        00000458
_00883_DS_                        00000464
_00884_DS_                        000004A4
_00886_DS_                        000004B0
_00887_DS_                        000004F0
_00890_DS_                        00000536
_00892_DS_                        0000057C
_00895_DS_                        000005BA
_00899_DS_                        0000009E
_00901_DS_                        000005E0
_00902_DS_                        000005EE
_00904_DS_                        0000061E
_00906_DS_                        00000130
_00911_DS_                        000001A6
_00918_DS_                        000002D8
_00925_DS_                        00000104
_00932_DS_                        0000019A
_00948_DS_                        00000168
_00949_DS_                        000001DE
_00951_DS_                        000000C0
_00953_DS_                        000000F0
_00966_DS_                        00000200
_00968_DS_                        00000286
_01010_DS_                        0000004E
_01013_DS_                        00000060
_01034_DS_                        000000D6
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 114


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_01035_DS_                        00000130
_01036_DS_                        0000018A
_01037_DS_                        000001E4
_01038_DS_                        0000023E
_01039_DS_                        00000298
_01041_DS_                        00000300
_01050_DS_                        00000056
_01052_DS_                        0000005E
_01054_DS_                        00000066
_01058_DS_                        00000074
_01060_DS_                        0000007C
_01070_DS_                        00000004
_01078_DS_                        00000012
_01123_DS_                        00000016
_01132_DS_                        00002030
_11137_DS_                        000000E0
_21138_DS_                        000000E6
_31139_DS_                        00000100
_41140_DS_                        00000106
_51141_DS_                        00000170
_61142_DS_                        00000176
_71143_DS_                        00000190
_81144_DS_                        00000196
_ADCON0                           00000000
_ADCON0bits                       00000000
_ADCON1                           00000000
_ADCON1bits                       00000000
_ADCON2                           00000000
_ADCON2bits                       00000000
_ADRESH                           00000000
_ADRESL                           00000000
_BAUDCON                          00000000
_BAUDCONbits                      00000000
_BSR                              00000000
_BSRbits                          00000000
_BusReset                         00000000
_CCP1CON                          00000000
_CCP1CONbits                      00000000
_CCP2CON                          00000000
_CCP2CONbits                      00000000
_CCPR1H                           00000000
_CCPR1L                           00000000
_CCPR2H                           00000000
_CCPR2L                           00000000
_CDCControlBuffer                 00000000
_CDCInitEndpoint                  00000000
_CDCRxBuffer                      00000080
_CDCTxBuffer                      000000C0
_CDC_init                         00000000
_CDCgetkey                        00000000
_CDCgetkey_buffer_1_1             00000000
_CDCgets                          00000000
_CDCgetstring                     00000000
_CDCgetstring_buffer_1_1          00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 115


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_CDCprint                         00000000
_CDCprintf                        00000000
_CDCprintln                       00000000
_CDCputs                          00000000
_CDCwrite                         00000000
_CMCON                            00000000
_CMCONbits                        00000000
_CONTROL_LINE                     00000000
_CVRCON                           00000000
_CVRCONbits                       00000000
_Delayms                          00000000
_Delayus                          00000000
_ECCP1AS                          00000000
_ECCP1ASbits                      00000000
_ECCP1DEL                         00000000
_ECCP1DELbits                     00000000
_EEADR                            00000000
_EECON1                           00000000
_EECON1bits                       00000000
_EECON2                           00000000
_EEDATA                           00000000
_EnableUSBModule                  00000000
_FSR0H                            00000000
_FSR0Hbits                        00000000
_FSR0L                            00000000
_FSR1H                            00000000
_FSR1Hbits                        00000000
_FSR1L                            00000000
_FSR2H                            00000000
_FSR2Hbits                        00000000
_FSR2L                            00000000
_GetDescriptor                    00000000
_GetStatus                        00000000
_HIDPostProcess                   00000000
_HLVDCON                          00000000
_HLVDCONbits                      00000000
_INDF0                            00000000
_INDF1                            00000000
_INDF2                            00000000
_INTCON                           00000000
_INTCON2                          00000000
_INTCON2bits                      00000000
_INTCON3                          00000000
_INTCON3bits                      00000000
_INTCONbits                       00000000
_IPR1                             00000000
_IPR1bits                         00000000
_IPR2                             00000000
_IPR2bits                         00000000
_InDataStage                      00000000
_LATA                             00000000
_LATAbits                         00000000
_LATB                             00000000
_LATBbits                         00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 116


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_LATC                             00000000
_LATCbits                         00000000
_LATD                             00000000
_LATDbits                         00000000
_LATE                             00000000
_LATEbits                         00000000
_OSCCON                           00000000
_OSCCONbits                       00000000
_OSCTUNE                          00000000
_OSCTUNEbits                      00000000
_OutDataStage                     00000000
_PCL                              00000000
_PCLATH                           00000000
_PCLATHbits                       00000000
_PCLATU                           00000000
_PCLATUbits                       00000000
_PIE1                             00000000
_PIE1bits                         00000000
_PIE2                             00000000
_PIE2bits                         00000000
_PIR1                             00000000
_PIR1bits                         00000000
_PIR2                             00000000
_PIR2bits                         00000000
_PLUSW0                           00000000
_PLUSW1                           00000000
_PLUSW2                           00000000
_PORTA                            00000000
_PORTAbits                        00000000
_PORTB                            00000000
_PORTBbits                        00000000
_PORTC                            00000000
_PORTCbits                        00000000
_PORTD                            00000000
_PORTDbits                        00000000
_PORTE                            00000000
_PORTEbits                        00000000
_POSTDEC0                         00000000
_POSTDEC1                         00000000
_POSTDEC2                         00000000
_POSTINC0                         00000000
_POSTINC1                         00000000
_POSTINC2                         00000000
_PR2                              00000000
_PREINC0                          00000000
_PREINC1                          00000000
_PREINC2                          00000000
_PRODH                            00000000
_PRODL                            00000000
_ProcessCDCRequest                00000000
_ProcessControlTransfer           00000000
_ProcessStandardRequest           00000000
_ProcessUSBTransactions           00000000
_RCON                             00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 117


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_RCONbits                         00000000
_RCREG                            00000000
_RCSTA                            00000000
_RCSTAbits                        00000000
_SPBRG                            00000000
_SPBRGH                           00000000
_SPPCFG                           00000000
_SPPCFGbits                       00000000
_SPPCON                           00000000
_SPPCONbits                       00000000
_SPPDATA                          00000000
_SPPDATAbits                      00000000
_SPPEPS                           00000000
_SPPEPSbits                       00000000
_SSPADD                           00000000
_SSPBUF                           00000000
_SSPCON1                          00000000
_SSPCON1bits                      00000000
_SSPCON2                          00000000
_SSPCON2bits                      00000000
_SSPSTAT                          00000000
_SSPSTATbits                      00000000
_STATUS                           00000000
_STATUSbits                       00000000
_STKPTR                           00000000
_STKPTRbits                       00000000
_SetFeature                       00000000
_SetupPacket                      00000000
_SetupStage                       00000000
_Stall                            00000000
_StartOfFrame                     00000000
_Suspend                          00000000
_T0CON                            00000000
_T0CONbits                        00000000
_T1CON                            00000000
_T1CONbits                        00000000
_T2CON                            00000000
_T2CONbits                        00000000
_T3CON                            00000000
_T3CONbits                        00000000
_TABLAT                           00000000
_TBLPTRH                          00000000
_TBLPTRL                          00000000
_TBLPTRU                          00000000
_TBLPTRUbits                      00000000
_TMR0H                            00000000
_TMR0L                            00000000
_TMR1H                            00000000
_TMR1L                            00000000
_TMR2                             00000000
_TMR3H                            00000000
_TMR3L                            00000000
_TOSH                             00000000
_TOSL                             00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 118


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_TOSU                             00000000
_TOSUbits                         00000000
_TRISA                            00000000
_TRISAbits                        00000000
_TRISB                            00000000
_TRISBbits                        00000000
_TRISC                            00000000
_TRISCbits                        00000000
_TRISD                            00000000
_TRISDbits                        00000000
_TRISE                            00000000
_TRISEbits                        00000000
_TXREG                            00000000
_TXSTA                            00000000
_TXSTAbits                        00000000
_UADDR                            00000000
_UADDRbits                        00000000
_UCFG                             00000000
_UCFGbits                         00000000
_UCON                             00000000
_UCONbits                         00000000
_UEIE                             00000000
_UEIEbits                         00000000
_UEIR                             00000000
_UEIRbits                         00000000
_UEP0                             00000000
_UEP0bits                         00000000
_UEP1                             00000000
_UEP10                            00000000
_UEP10bits                        00000000
_UEP11                            00000000
_UEP11bits                        00000000
_UEP12                            00000000
_UEP12bits                        00000000
_UEP13                            00000000
_UEP13bits                        00000000
_UEP14                            00000000
_UEP14bits                        00000000
_UEP15                            00000000
_UEP15bits                        00000000
_UEP1bits                         00000000
_UEP2                             00000000
_UEP2bits                         00000000
_UEP3                             00000000
_UEP3bits                         00000000
_UEP4                             00000000
_UEP4bits                         00000000
_UEP5                             00000000
_UEP5bits                         00000000
_UEP6                             00000000
_UEP6bits                         00000000
_UEP7                             00000000
_UEP7bits                         00000000
_UEP8                             00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 119


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_UEP8bits                         00000000
_UEP9                             00000000
_UEP9bits                         00000000
_UFRMH                            00000000
_UFRMHbits                        00000000
_UFRML                            00000000
_UFRMLbits                        00000000
_UIE                              00000000
_UIEbits                          00000000
_UIR                              00000000
_UIRbits                          00000000
_USTAT                            00000000
_USTATbits                        00000000
_UnSuspend                        00000000
_WDTCON                           00000000
_WDTCONbits                       00000000
_WREG                             00000000
_WaitForSetupStage                00000000
__18F2550                         00000001
__divulong                        00000000
__gptrget1                        00000000
__gptrget2                        00000000
__gptrget3                        00000000
__gptrget4                        00000000
__gptrput1                        00000000
__gptrput3                        00000000
__modulong                        00000000
__str_0                           000000CE
__str_1                           000000D6
__str_2                           000000DA
__str_3                           000000DE
__str_4                           000000E2
__str_5                           000000E6
__str_6                           000000EA
__str_7                           000000EE
__str_8                           000000F2
_controlTransferBuffer            00000040
_ctrlTransferStage                00000000
_currentConfiguration             00000000
_delay10ktcy                      00000000
_deviceAddress                    00000000
_deviceState                      00000000
_ep_bdt                           00000400
_epap_in                          00000000
_epap_out                         00000000
_epapin_init                      00000000
_epapout_init                     00000000
_hidIdleRate                      00000000
_hidProtocol                      00000000
_hidRxLen                         00000000
_high_priority_isr                00002020
_inPtr                            00000000
_libconfiguration_descriptor      00000012
_libdevice_descriptor             00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 120


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_libstring_descriptor             00000056
_line_config                      00000000
_loop                             00000000
_low_priority_isr                 00004000
_outPtr                           00000000
_pinguino_main                    00000000
_pprint                           00000000
_pprint_scr_1_1                   00000000
_pprintc                          00000000
_pprintf                          00000000
_pprintfl                         00000000
_pprintfl_buffer_1_1              00000000
_pprintfl_helper_1_1              00000000
_pprintfl_tmp_1_1                 00000000
_pprinti                          00000000
_pprinti_buffer_1_1               00000000
_pprints                          00000000
_pputchar                         00000000
_psprintf                         00000000
_psprintf2                        00000000
_psprintf2_out_1_1                00000000
_remoteWakeup                     00000000
_requestHandled                   00000000
_selfPowered                      00000000
_setup                            00000000
_usb_active_alt_setting           00000000
_usb_active_cfg                   00000000
_usb_device_state                 00000000
_wCount                           00000000
_zlp                              00000000
r0x00                             00000000
r0x01                             00000001
r0x02                             00000002
r0x03                             00000003
r0x04                             00000004
r0x05                             00000005
r0x06                             00000006
r0x07                             00000007
r0x08                             00000008
r0x09                             00000009
r0x0a                             0000000A
r0x0b                             0000000B
r0x0c                             0000000C
r0x0d                             0000000D
r0x0e                             0000000E
r0x0f                             0000000F
r0x10                             00000010
r0x11                             00000011
r0x12                             00000012
r0x13                             00000013
r0x14                             00000014
r0x15                             00000015
r0x16                             00000016
r0x17                             00000017
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/svn/branches/x.3/source/main.asm2-29-2012  15:40:41          PAGE 121


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
r0x18                             00000018
r0x19                             00000019
r0x1a                             0000001A
r0x1b                             0000001B
r0x1c                             0000001C
r0x1d                             0000001D
r0x1e                             0000001E
r0x1f                             0000001F
r0x20                             00000020


Errors   :       0
Warnings :       0 reported,       0 suppressed
Messages :       0 reported,       0 suppressed

