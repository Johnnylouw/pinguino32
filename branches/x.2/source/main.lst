gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00001 ;--------------------------------------------------------
               00002 ; File Created by SDCC : free open source ANSI-C Compiler
               00003 ; Version 2.9.0 #5416 (Aug  9 2009) (UNIX)
               00004 ; This file was generated Sun May 29 14:10:21 2011
               00005 ;--------------------------------------------------------
               00006 ; PIC16 port for the Microchip 16-bit core micros
               00007 ;--------------------------------------------------------
               00008         list    p=18f2550
               00009 
               00010         radix dec
               00011 
               00012 ;--------------------------------------------------------
               00013 ; public variables in this module
               00014 ;--------------------------------------------------------
               00015         global _opp_king_pos
               00016         global _val_empty
               00017         global _val_pawn
               00018         global _val_bishop
               00019         global _val_knight
               00020         global _val_rook
               00021         global _val_queen
               00022         global _val_king
               00023         global _val_north
               00024         global _val_south
               00025         global _val_east
               00026         global _val_west
               00027         global _val_northwest
               00028         global _val_northeast
               00029         global _val_southeast
               00030         global _val_southwest
               00031         global _getbestpiecemove
               00032         global _test_singlemove
               00033         global _rate_move
               00034         global _draw_move
               00035         global _updatekingpos
               00036         global _init_board
               00037         global _trace_jeux
               00038         global _lit_coup_joueur
               00039         global _rx
               00040         global _wpointer
               00041         global _rpointer
Error [113] : Symbol not previously defined (_board).
               00042         global _board
Error [113] : Symbol not previously defined (_validmovemask).
               00043         global _validmovemask
Error [113] : Symbol not previously defined (_capturemask).
               00044         global _capturemask
               00045         global _movecount
               00046         global _movetype
               00047         global _rate
               00048         global _piecerate
               00049         global _lastmove
Error [113] : Symbol not previously defined (_wh_king_pos).
               00050         global _wh_king_pos
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_bl_king_pos).
               00051         global _bl_king_pos
Error [113] : Symbol not previously defined (_kingcapture).
               00052         global _kingcapture
Error [113] : Symbol not previously defined (_wh_base_cont).
               00053         global _wh_base_cont
Error [113] : Symbol not previously defined (_bl_base_cont).
               00054         global _bl_base_cont
               00055         global _currcapturemask
               00056         global _currmovemask
               00057         global _validate
               00058         global _pprintf
               00059         global _psprintf
               00060         global _serial_begin
               00061         global _serial_available
               00062         global _serial_putchar
               00063         global _serial_interrupt
               00064         global _serial_read
               00065         global _serial_flush
               00066         global _serial_printf
               00067         global _serial_getkey
               00068         global _serial_getstring
               00069         global _serial_print
               00070         global _serial_println
               00071         global _epap_in
               00072         global _epap_out
               00073         global _epapin_init
               00074         global _epapout_init
               00075         global _setup
               00076         global _loop
               00077         global _pinguino_main
               00078         global _high_priority_isr
               00079         global _low_priority_isr
               00080         global _ligne
               00081 
               00082 ;--------------------------------------------------------
               00083 ; extern variables in this module
               00084 ;--------------------------------------------------------
               00085         extern __gptrget1
               00086         extern __gptrget3
               00087         extern __gptrput1
               00088         extern __gptrput3
               00089         extern __gptrget2
               00090         extern _SPPDATAbits
               00091         extern _SPPCFGbits
               00092         extern _SPPEPSbits
               00093         extern _SPPCONbits
               00094         extern _UFRMLbits
               00095         extern _UFRMHbits
               00096         extern _UIRbits
               00097         extern _UIEbits
               00098         extern _UEIRbits
               00099         extern _UEIEbits
               00100         extern _USTATbits
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00101         extern _UCONbits
               00102         extern _UADDRbits
               00103         extern _UCFGbits
               00104         extern _UEP0bits
               00105         extern _UEP1bits
               00106         extern _UEP2bits
               00107         extern _UEP3bits
               00108         extern _UEP4bits
               00109         extern _UEP5bits
               00110         extern _UEP6bits
               00111         extern _UEP7bits
               00112         extern _UEP8bits
               00113         extern _UEP9bits
               00114         extern _UEP10bits
               00115         extern _UEP11bits
               00116         extern _UEP12bits
               00117         extern _UEP13bits
               00118         extern _UEP14bits
               00119         extern _UEP15bits
               00120         extern _PORTAbits
               00121         extern _PORTBbits
               00122         extern _PORTCbits
               00123         extern _PORTDbits
               00124         extern _PORTEbits
               00125         extern _LATAbits
               00126         extern _LATBbits
               00127         extern _LATCbits
               00128         extern _LATDbits
               00129         extern _LATEbits
               00130         extern _TRISAbits
               00131         extern _TRISBbits
               00132         extern _TRISCbits
               00133         extern _TRISDbits
               00134         extern _TRISEbits
               00135         extern _OSCTUNEbits
               00136         extern _PIE1bits
               00137         extern _PIR1bits
               00138         extern _IPR1bits
               00139         extern _PIE2bits
               00140         extern _PIR2bits
               00141         extern _IPR2bits
               00142         extern _EECON1bits
               00143         extern _RCSTAbits
               00144         extern _TXSTAbits
               00145         extern _T3CONbits
               00146         extern _CMCONbits
               00147         extern _CVRCONbits
               00148         extern _ECCP1ASbits
               00149         extern _ECCP1DELbits
               00150         extern _BAUDCONbits
               00151         extern _CCP2CONbits
               00152         extern _CCP1CONbits
               00153         extern _ADCON2bits
               00154         extern _ADCON1bits
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00155         extern _ADCON0bits
               00156         extern _SSPCON2bits
               00157         extern _SSPCON1bits
               00158         extern _SSPSTATbits
               00159         extern _T2CONbits
               00160         extern _T1CONbits
               00161         extern _RCONbits
               00162         extern _WDTCONbits
               00163         extern _HLVDCONbits
               00164         extern _OSCCONbits
               00165         extern _T0CONbits
               00166         extern _STATUSbits
               00167         extern _FSR2Hbits
               00168         extern _BSRbits
               00169         extern _FSR1Hbits
               00170         extern _FSR0Hbits
               00171         extern _INTCON3bits
               00172         extern _INTCON2bits
               00173         extern _INTCONbits
               00174         extern _TBLPTRUbits
               00175         extern _PCLATHbits
               00176         extern _PCLATUbits
               00177         extern _STKPTRbits
               00178         extern _TOSUbits
               00179         extern _usb_device_state
               00180         extern _usb_active_cfg
               00181         extern _usb_active_alt_setting
               00182         extern _SPPDATA
               00183         extern _SPPCFG
               00184         extern _SPPEPS
               00185         extern _SPPCON
               00186         extern _UFRML
               00187         extern _UFRMH
               00188         extern _UIR
               00189         extern _UIE
               00190         extern _UEIR
               00191         extern _UEIE
               00192         extern _USTAT
               00193         extern _UCON
               00194         extern _UADDR
               00195         extern _UCFG
               00196         extern _UEP0
               00197         extern _UEP1
               00198         extern _UEP2
               00199         extern _UEP3
               00200         extern _UEP4
               00201         extern _UEP5
               00202         extern _UEP6
               00203         extern _UEP7
               00204         extern _UEP8
               00205         extern _UEP9
               00206         extern _UEP10
               00207         extern _UEP11
               00208         extern _UEP12
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00209         extern _UEP13
               00210         extern _UEP14
               00211         extern _UEP15
               00212         extern _PORTA
               00213         extern _PORTB
               00214         extern _PORTC
               00215         extern _PORTD
               00216         extern _PORTE
               00217         extern _LATA
               00218         extern _LATB
               00219         extern _LATC
               00220         extern _LATD
               00221         extern _LATE
               00222         extern _TRISA
               00223         extern _TRISB
               00224         extern _TRISC
               00225         extern _TRISD
               00226         extern _TRISE
               00227         extern _OSCTUNE
               00228         extern _PIE1
               00229         extern _PIR1
               00230         extern _IPR1
               00231         extern _PIE2
               00232         extern _PIR2
               00233         extern _IPR2
               00234         extern _EECON1
               00235         extern _EECON2
               00236         extern _EEDATA
               00237         extern _EEADR
               00238         extern _RCSTA
               00239         extern _TXSTA
               00240         extern _TXREG
               00241         extern _RCREG
               00242         extern _SPBRG
               00243         extern _SPBRGH
               00244         extern _T3CON
               00245         extern _TMR3L
               00246         extern _TMR3H
               00247         extern _CMCON
               00248         extern _CVRCON
               00249         extern _ECCP1AS
               00250         extern _ECCP1DEL
               00251         extern _BAUDCON
               00252         extern _CCP2CON
               00253         extern _CCPR2L
               00254         extern _CCPR2H
               00255         extern _CCP1CON
               00256         extern _CCPR1L
               00257         extern _CCPR1H
               00258         extern _ADCON2
               00259         extern _ADCON1
               00260         extern _ADCON0
               00261         extern _ADRESL
               00262         extern _ADRESH
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00263         extern _SSPCON2
               00264         extern _SSPCON1
               00265         extern _SSPSTAT
               00266         extern _SSPADD
               00267         extern _SSPBUF
               00268         extern _T2CON
               00269         extern _PR2
               00270         extern _TMR2
               00271         extern _T1CON
               00272         extern _TMR1L
               00273         extern _TMR1H
               00274         extern _RCON
               00275         extern _WDTCON
               00276         extern _HLVDCON
               00277         extern _OSCCON
               00278         extern _T0CON
               00279         extern _TMR0L
               00280         extern _TMR0H
               00281         extern _STATUS
               00282         extern _FSR2L
               00283         extern _FSR2H
               00284         extern _PLUSW2
               00285         extern _PREINC2
               00286         extern _POSTDEC2
               00287         extern _POSTINC2
               00288         extern _INDF2
               00289         extern _BSR
               00290         extern _FSR1L
               00291         extern _FSR1H
               00292         extern _PLUSW1
               00293         extern _PREINC1
               00294         extern _POSTDEC1
               00295         extern _POSTINC1
               00296         extern _INDF1
               00297         extern _WREG
               00298         extern _FSR0L
               00299         extern _FSR0H
               00300         extern _PLUSW0
               00301         extern _PREINC0
               00302         extern _POSTDEC0
               00303         extern _POSTINC0
               00304         extern _INDF0
               00305         extern _INTCON3
               00306         extern _INTCON2
               00307         extern _INTCON
               00308         extern _PRODL
               00309         extern _PRODH
               00310         extern _TABLAT
               00311         extern _TBLPTRL
               00312         extern _TBLPTRH
               00313         extern _TBLPTRU
               00314         extern _PCL
               00315         extern _PCLATH
               00316         extern _PCLATU
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00317         extern _STKPTR
               00318         extern _TOSL
               00319         extern _TOSH
               00320         extern _TOSU
               00321         extern _uitoa
               00322         extern __moduint
               00323         extern __divuint
               00324         extern __mulint
               00325         extern __mullong
               00326         extern __divulong
               00327         extern __modsint
               00328 ;--------------------------------------------------------
               00329 ;       Equates to used internal registers
               00330 ;--------------------------------------------------------
  00000FD8     00331 STATUS  equ     0xfd8
  00000FF9     00332 PCL     equ     0xff9
  00000FFA     00333 PCLATH  equ     0xffa
  00000FFB     00334 PCLATU  equ     0xffb
  00000FF2     00335 INTCON  equ     0xff2
  00000FE8     00336 WREG    equ     0xfe8
  00000FE0     00337 BSR     equ     0xfe0
  00000FFD     00338 TOSL    equ     0xffd
  00000FFE     00339 TOSH    equ     0xffe
  00000FFF     00340 TOSU    equ     0xfff
  00000FF6     00341 TBLPTRL equ     0xff6
  00000FE9     00342 FSR0L   equ     0xfe9
  00000FEA     00343 FSR0H   equ     0xfea
  00000FE1     00344 FSR1L   equ     0xfe1
  00000FE2     00345 FSR1H   equ     0xfe2
  00000FD9     00346 FSR2L   equ     0xfd9
  00000FDA     00347 FSR2H   equ     0xfda
  00000FEF     00348 INDF0   equ     0xfef
  00000FEE     00349 POSTINC0        equ     0xfee
  00000FE6     00350 POSTINC1        equ     0xfe6
  00000FE5     00351 POSTDEC1        equ     0xfe5
  00000FE4     00352 PREINC1 equ     0xfe4
  00000FE3     00353 PLUSW1  equ     0xfe3
  00000FDB     00354 PLUSW2  equ     0xfdb
  00000FF3     00355 PRODL   equ     0xff3
  00000FF4     00356 PRODH   equ     0xff4
               00357 
               00358 
               00359         idata
               00360 _validate       db      LOW(_val_empty), HIGH(_val_empty), UPPER(_val_empty), LOW(_val_pawn), HIGH(_val_pawn), UPPER(_val_pawn), LOW(_val_rook), HIGH(_val_rook), UPPER(_val_rook), LOW(_val_knight), HIGH(_val_knight), UPPER(_val_knight)
               00361         db      LOW(_val_bishop), HIGH(_val_bishop), UPPER(_val_bishop), LOW(_val_queen), HIGH(_val_queen), UPPER(_val_queen), LOW(_val_king), HIGH(_val_king), UPPER(_val_king)
               00362 
               00363 
               00364 ; Internal registers
               00365 .registers      udata_ovr       0x0000
               00366 r0x00   res     1
               00367 r0x01   res     1
               00368 r0x02   res     1
               00369 r0x03   res     1
               00370 r0x04   res     1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00371 r0x05   res     1
               00372 r0x06   res     1
               00373 r0x07   res     1
               00374 r0x08   res     1
               00375 r0x09   res     1
               00376 r0x0a   res     1
               00377 r0x0b   res     1
               00378 r0x0c   res     1
               00379 r0x0d   res     1
               00380 r0x0e   res     1
               00381 r0x0f   res     1
               00382 r0x10   res     1
               00383 r0x11   res     1
               00384 r0x12   res     1
               00385 r0x13   res     1
               00386 r0x14   res     1
               00387 r0x15   res     1
               00388 r0x16   res     1
               00389 r0x17   res     1
               00390 r0x18   res     1
               00391 r0x19   res     1
               00392 r0x1a   res     1
               00393 r0x1b   res     1
               00394 r0x1c   res     1
               00395 r0x1d   res     1
               00396 r0x1e   res     1
               00397 
               00398 udata_main_0    udata
               00399 _pputchar       res     3
               00400 
               00401 udata_main_1    udata
               00402 _opp_king_pos   res     2
               00403 
               00404 udata_main_2    udata
               00405 _val_knight_move_1_1    res     48
               00406 
               00407 udata_main_3    udata
               00408 _pprinti_print_buf_1_1  res     12
               00409 
               00410 udata_main_4    udata
               00411 _pprint_scr_1_1 res     2
               00412 
               00413 udata_main_5    udata
               00414 _psprintf_out_1_1       res     3
               00415 
               00416 udata_main_6    udata
               00417 _wpointer       res     1
               00418 
               00419 udata_main_7    udata
               00420 _rpointer       res     1
               00421 
               00422 udata_main_8    udata
               00423 _rx     res     128
               00424 
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00425 udata_main_9    udata
               00426 _serial_getstring_buffer_1_1    res     80
               00427 
               00428 udata_main_10   udata
               00429 _movecount      res     2
               00430 
               00431 udata_main_11   udata
               00432 _movetype       res     1
               00433 
               00434 udata_main_12   udata
               00435 _piecerate      res     1
               00436 
               00437 udata_main_13   udata
               00438 _rate   res     1
               00439 
               00440 udata_main_14   udata
               00441 _lastmove       res     1
               00442 
               00443 udata_main_15   udata
               00444 _loop_from_1_1  res     2
               00445 
               00446 udata_main_16   udata
               00447 _loop_to_1_1    res     2
               00448 
               00449 udata_main_17   udata
               00450 _loop_cpufrom_1_1       res     2
               00451 
               00452 udata_main_18   udata
               00453 _loop_cputo_1_1 res     2
               00454 
               00455 udata_main_19   udata
               00456 _currmovemask   res     8
               00457 
               00458 udata_main_20   udata
               00459 _currcapturemask        res     8
               00460 
               00461 udata_main_21   udata
               00462 _getbestpiecemove_to_1_1        res     2
               00463 
               00464 udata_main_22   udata
               00465 _test_singlemove_opp_pos_1_1    res     2
               00466 
               00467 ;--------------------------------------------------------
               00468 ; global & static initialisations
               00469 ;--------------------------------------------------------
               00470 ; ; Starting pCode block
               00471 S_main__high_priority_isr       code    0X002020
2020 00472 _high_priority_isr:
               00473 ;       .line   129; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c void high_priority_isr(void) interrupt
2020 CFE8 FFE5 00474         MOVFF   WREG, POSTDEC1
2024 CFD8 FFE5 00475         MOVFF   STATUS, POSTDEC1
2028 CFE0 FFE5 00476         MOVFF   BSR, POSTDEC1
202C CFF3 FFE5 00477         MOVFF   PRODL, POSTDEC1
2030 CFF4 FFE5 00478         MOVFF   PRODH, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
2034 CFE9 FFE5 00479         MOVFF   FSR0L, POSTDEC1
2038 CFEA FFE5 00480         MOVFF   FSR0H, POSTDEC1
203C CFFA FFE5 00481         MOVFF   PCLATH, POSTDEC1
               00482 ;       .line   165; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c if (PIR1bits.RCIF) 
2040 CFFB FFE5 00483         MOVFF   PCLATU, POSTDEC1
               00484 ; #     MOVFF   FSR1L, FSR2L
               00485 ; #     BTFSS   _PIR1bits, 5
               00486 ; #     GOTO    _01491_DS_
               00487 ; #     CALL    _serial_interrupt
               00488 ; #     MOVFF   PREINC1, FSR2L
               00489 ;       .line   166; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c serial_interrupt();
2044 BA00      00490         BTFSC   _PIR1bits, 5
2046 EC00 F000 00491         CALL    _serial_interrupt
204A CFE4 FFFB 00492         MOVFF   PREINC1, PCLATU
204E CFE4 FFFA 00493         MOVFF   PREINC1, PCLATH
2052 CFE4 FFEA 00494         MOVFF   PREINC1, FSR0H
2056 CFE4 FFE9 00495         MOVFF   PREINC1, FSR0L
205A CFE4 FFF4 00496         MOVFF   PREINC1, PRODH
205E CFE4 FFF3 00497         MOVFF   PREINC1, PRODL
2062 CFE4 FFE0 00498         MOVFF   PREINC1, BSR
2066 CFE4 FFD8 00499         MOVFF   PREINC1, STATUS
206A CFE4 FFE8 00500         MOVFF   PREINC1, WREG
206E 0010      00501         RETFIE  
               00502 
               00503 ; ; Starting pCode block
               00504 S_main__low_priority_isr        code    0X004000
4000 00505 _low_priority_isr:
               00506 ;       .line   193; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c void low_priority_isr(void) interrupt
4000 CFE8 FFE5 00507         MOVFF   WREG, POSTDEC1
4004 CFD8 FFE5 00508         MOVFF   STATUS, POSTDEC1
4008 CFE0 FFE5 00509         MOVFF   BSR, POSTDEC1
400C CFF3 FFE5 00510         MOVFF   PRODL, POSTDEC1
4010 CFF4 FFE5 00511         MOVFF   PRODH, POSTDEC1
4014 CFE9 FFE5 00512         MOVFF   FSR0L, POSTDEC1
4018 CFEA FFE5 00513         MOVFF   FSR0H, POSTDEC1
401C CFFA FFE5 00514         MOVFF   PCLATH, POSTDEC1
4020 CFFB FFE5 00515         MOVFF   PCLATU, POSTDEC1
               00516 ;       .line   198; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c }
4024 CFE4 FFFB 00517         MOVFF   PREINC1, PCLATU
4028 CFE4 FFFA 00518         MOVFF   PREINC1, PCLATH
402C CFE4 FFEA 00519         MOVFF   PREINC1, FSR0H
4030 CFE4 FFE9 00520         MOVFF   PREINC1, FSR0L
4034 CFE4 FFF4 00521         MOVFF   PREINC1, PRODH
4038 CFE4 FFF3 00522         MOVFF   PREINC1, PRODL
403C CFE4 FFE0 00523         MOVFF   PREINC1, BSR
4040 CFE4 FFD8 00524         MOVFF   PREINC1, STATUS
4044 CFE4 FFE8 00525         MOVFF   PREINC1, WREG
4048 0010      00526         RETFIE  
               00527 
               00528 ; I code from now on!
               00529 ; ; Starting pCode block
               00530 S_main__pinguino_main   code
0000 00531 _pinguino_main:
               00532 ;       .line   57; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c  PIE1 = 0;
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0000 6A00      00533         CLRF    _PIE1
               00534 ;       .line   58; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c  PIE2 = 0;
0002 6A00      00535         CLRF    _PIE2
               00536 ;       .line   59; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c  ADCON1 = 0b00001111;                            // AN0 to AN12 Digital I/O
0004 0E0F      00537         MOVLW   0x0f
0006 6E00      00538         MOVWF   _ADCON1
               00539 ;       .line   71; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c  setup();
0008 EC00 F000 00540         CALL    _setup
               00541 ;       .line   104; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c INTCONbits.PEIE = 1;
000C 8C00      00542         BSF     _INTCONbits, 6
               00543 ;       .line   105; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c INTCONbits.GIE  = 1;
000E 8E00      00544         BSF     _INTCONbits, 7
0010 00545 _01482_DS_:
               00546 ;       .line   123; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c loop();
0010 EC00 F000 00547         CALL    _loop
0014 D000      00548         BRA     _01482_DS_
0016 0012      00549         RETURN  
               00550 
               00551 ; ; Starting pCode block
               00552 S_main__lit_coup_joueur code
0000 00553 _lit_coup_joueur:
               00554 ;       .line   548; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c BOOL lit_coup_joueur (LOC from, LOC to)
0000 CFD9 FFE5 00555         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 00556         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 00557         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 00558         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 00559         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 00560         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 00561         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 00562         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 00563         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 00564         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 00565         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 00566         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 00567         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 00568         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 00569         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 00570         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 00571         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 00572         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 00573         MOVFF   r0x10, POSTDEC1
004C 0E02      00574         MOVLW   0x02
004E CFDB F000 00575         MOVFF   PLUSW2, r0x00
0052 0E03      00576         MOVLW   0x03
0054 CFDB F000 00577         MOVFF   PLUSW2, r0x01
0058 0E04      00578         MOVLW   0x04
005A CFDB F000 00579         MOVFF   PLUSW2, r0x02
005E 0E05      00580         MOVLW   0x05
0060 CFDB F000 00581         MOVFF   PLUSW2, r0x03
0064 0E06      00582         MOVLW   0x06
0066 CFDB F000 00583         MOVFF   PLUSW2, r0x04
006A 0E07      00584         MOVLW   0x07
006C CFDB F000 00585         MOVFF   PLUSW2, r0x05
               00586 ;       .line   554; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c chaine = serial_getstring(); // recupere le coup jour de la forme e2e4
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0070 EC00 F000 00587         CALL    _serial_getstring
0074 6E00      00588         MOVWF   r0x06
0076 CFF3 F000 00589         MOVFF   PRODL, r0x07
007A CFF4 F000 00590         MOVFF   PRODH, r0x08
               00591 ;       .line   557; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c from[1] = chaine[0]-'a';
007E 5000      00592         MOVF    r0x00, W
0080 0F01      00593         ADDLW   0x01
0082 6E00      00594         MOVWF   r0x09
0084 0E00      00595         MOVLW   0x00
0086 2000      00596         ADDWFC  r0x01, W
0088 6E00      00597         MOVWF   r0x0a
008A 0E00      00598         MOVLW   0x00
008C 2000      00599         ADDWFC  r0x02, W
008E 6E00      00600         MOVWF   r0x0b
0090 C000 FFE9 00601         MOVFF   r0x06, FSR0L
0094 C000 FFF3 00602         MOVFF   r0x07, PRODL
0098 5000      00603         MOVF    r0x08, W
009A EC00 F000 00604         CALL    __gptrget1
009E 6E00      00605         MOVWF   r0x0c
00A0 0E9F      00606         MOVLW   0x9f
00A2 2600      00607         ADDWF   r0x0c, F
00A4 C000 FFE5 00608         MOVFF   r0x0c, POSTDEC1
00A8 C000 FFE9 00609         MOVFF   r0x09, FSR0L
00AC C000 FFF3 00610         MOVFF   r0x0a, PRODL
00B0 5000      00611         MOVF    r0x0b, W
00B2 EC00 F000 00612         CALL    __gptrput1
               00613 ;       .line   558; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c from[0] = chaine[1]-'1';
00B6 5000      00614         MOVF    r0x06, W
00B8 0F01      00615         ADDLW   0x01
00BA 6E00      00616         MOVWF   r0x0c
00BC 0E00      00617         MOVLW   0x00
00BE 2000      00618         ADDWFC  r0x07, W
00C0 6E00      00619         MOVWF   r0x0d
00C2 0E00      00620         MOVLW   0x00
00C4 2000      00621         ADDWFC  r0x08, W
00C6 C000 FFE9 00622         MOVFF   r0x0c, FSR0L
00CA C000 FFF3 00623         MOVFF   r0x0d, PRODL
00CE EC00 F000 00624         CALL    __gptrget1
00D2 6E00      00625         MOVWF   r0x0c
00D4 0ECF      00626         MOVLW   0xcf
00D6 2600      00627         ADDWF   r0x0c, F
00D8 C000 FFE5 00628         MOVFF   r0x0c, POSTDEC1
00DC C000 FFE9 00629         MOVFF   r0x00, FSR0L
00E0 C000 FFF3 00630         MOVFF   r0x01, PRODL
00E4 5000      00631         MOVF    r0x02, W
00E6 EC00 F000 00632         CALL    __gptrput1
               00633 ;       .line   562; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c p = board[from[0]][from[1]];
00EA C000 FFE9 00634         MOVFF   r0x00, FSR0L
00EE C000 FFF3 00635         MOVFF   r0x01, PRODL
00F2 5000      00636         MOVF    r0x02, W
00F4 EC00 F000 00637         CALL    __gptrget1
               00638 ; #     MOVWF   r0x0c
               00639 ; #;;multiply lit val:0x08 by variable r0x0c and store in r0x0c
               00640 ; #;;Unrolled 8 X 8 multiplication
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00641 ; #;;FIXME: the function does not support result==WREG
               00642 ; #     MOVF    r0x0c, W
00F8 0D08      00643         MULLW   0x08
00FA CFF3 F000 00644         MOVFF   PRODL, r0x0c
00FE 6A00      00645         CLRF    r0x0d
Error [113] : Symbol not previously defined (_board).
0100 0E00      00646         MOVLW   LOW(_board)
0102 2600      00647         ADDWF   r0x0c, F
Error [113] : Symbol not previously defined (_board).
0104 0E00      00648         MOVLW   HIGH(_board)
0106 2200      00649         ADDWFC  r0x0d, F
0108 C000 FFE9 00650         MOVFF   r0x09, FSR0L
010C C000 FFF3 00651         MOVFF   r0x0a, PRODL
0110 5000      00652         MOVF    r0x0b, W
0112 EC00 F000 00653         CALL    __gptrget1
               00654 ; #     MOVWF   r0x0e
               00655 ; #     MOVF    r0x0e, W
0116 2600      00656         ADDWF   r0x0c, F
0118 6AE8      00657         CLRF    WREG
011A 2200      00658         ADDWFC  r0x0d, F
011C C000 FFE9 00659         MOVFF   r0x0c, FSR0L
0120 C000 FFEA 00660         MOVFF   r0x0d, FSR0H
0124 CFEF F000 00661         MOVFF   INDF0, r0x0c
               00662 ;       .line   563; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (p == EMPTY || p & BLACK)
0128 5000      00663         MOVF    r0x0c, W
012A E000      00664         BZ      _01461_DS_
012C A600      00665         BTFSS   r0x0c, 3
012E D000      00666         BRA     _01462_DS_
0130 00667 _01461_DS_:
               00668 ;       .line   565; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_printf("\r\nillegal move!\r\n");
0130 0E00      00669         MOVLW   UPPER(__str_22)
0132 6EE5      00670         MOVWF   POSTDEC1
0134 0E00      00671         MOVLW   HIGH(__str_22)
0136 6EE5      00672         MOVWF   POSTDEC1
0138 0E00      00673         MOVLW   LOW(__str_22)
013A 6EE5      00674         MOVWF   POSTDEC1
013C EC00 F000 00675         CALL    _serial_printf
0140 0E03      00676         MOVLW   0x03
0142 26E1      00677         ADDWF   FSR1L, F
               00678 ;       .line   566; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c return FALSE;
0144 6AE8      00679         CLRF    WREG
0146 D000      00680         BRA     _01464_DS_
0148 00681 _01462_DS_:
               00682 ;       .line   569; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c to[1] = chaine[2]-'a';
0148 5000      00683         MOVF    r0x03, W
014A 0F01      00684         ADDLW   0x01
014C 6E00      00685         MOVWF   r0x0c
014E 0E00      00686         MOVLW   0x00
0150 2000      00687         ADDWFC  r0x04, W
0152 6E00      00688         MOVWF   r0x0d
0154 0E00      00689         MOVLW   0x00
0156 2000      00690         ADDWFC  r0x05, W
0158 6E00      00691         MOVWF   r0x0e
015A 5000      00692         MOVF    r0x06, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
015C 0F02      00693         ADDLW   0x02
015E 6E00      00694         MOVWF   r0x0f
0160 0E00      00695         MOVLW   0x00
0162 2000      00696         ADDWFC  r0x07, W
0164 6E00      00697         MOVWF   r0x10
0166 0E00      00698         MOVLW   0x00
0168 2000      00699         ADDWFC  r0x08, W
016A C000 FFE9 00700         MOVFF   r0x0f, FSR0L
016E C000 FFF3 00701         MOVFF   r0x10, PRODL
0172 EC00 F000 00702         CALL    __gptrget1
0176 6E00      00703         MOVWF   r0x0f
0178 0E9F      00704         MOVLW   0x9f
017A 2600      00705         ADDWF   r0x0f, F
017C C000 FFE5 00706         MOVFF   r0x0f, POSTDEC1
0180 C000 FFE9 00707         MOVFF   r0x0c, FSR0L
0184 C000 FFF3 00708         MOVFF   r0x0d, PRODL
0188 5000      00709         MOVF    r0x0e, W
018A EC00 F000 00710         CALL    __gptrput1
               00711 ;       .line   570; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c to[0] = chaine[3]-'1'; 
018E 0E03      00712         MOVLW   0x03
0190 2600      00713         ADDWF   r0x06, F
0192 0E00      00714         MOVLW   0x00
0194 2200      00715         ADDWFC  r0x07, F
0196 2200      00716         ADDWFC  r0x08, F
0198 C000 FFE9 00717         MOVFF   r0x06, FSR0L
019C C000 FFF3 00718         MOVFF   r0x07, PRODL
01A0 5000      00719         MOVF    r0x08, W
01A2 EC00 F000 00720         CALL    __gptrget1
01A6 6E00      00721         MOVWF   r0x06
01A8 0ECF      00722         MOVLW   0xcf
01AA 2600      00723         ADDWF   r0x06, F
01AC C000 FFE5 00724         MOVFF   r0x06, POSTDEC1
01B0 C000 FFE9 00725         MOVFF   r0x03, FSR0L
01B4 C000 FFF3 00726         MOVFF   r0x04, PRODL
01B8 5000      00727         MOVF    r0x05, W
01BA EC00 F000 00728         CALL    __gptrput1
               00729 ;       .line   572; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c return from[0] != to[0] || from[1] != to[1];
01BE C000 FFE9 00730         MOVFF   r0x00, FSR0L
01C2 C000 FFF3 00731         MOVFF   r0x01, PRODL
01C6 5000      00732         MOVF    r0x02, W
01C8 EC00 F000 00733         CALL    __gptrget1
01CC 6E00      00734         MOVWF   r0x00
01CE C000 FFE9 00735         MOVFF   r0x03, FSR0L
01D2 C000 FFF3 00736         MOVFF   r0x04, PRODL
01D6 5000      00737         MOVF    r0x05, W
01D8 EC00 F000 00738         CALL    __gptrget1
               00739 ; #     MOVWF   r0x03
               00740 ; #     MOVF    r0x00, W
               00741 ; #     XORWF   r0x03, W
01DC 1800      00742         XORWF   r0x00, W
01DE E100      00743         BNZ     _01473_DS_
01E0 6A00      00744         CLRF    r0x00
01E2 2A00      00745         INCF    r0x00, F
01E4 D000      00746         BRA     _01474_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01E6 00747 _01473_DS_:
01E6 6A00      00748         CLRF    r0x00
01E8 00749 _01474_DS_:
01E8 5000      00750         MOVF    r0x00, W
01EA 80D8      00751         BSF     STATUS, 0
01EC 66E8      00752         TSTFSZ  WREG
01EE 90D8      00753         BCF     STATUS, 0
01F0 6A00      00754         CLRF    r0x00
01F2 3600      00755         RLCF    r0x00, F
01F4 5000      00756         MOVF    r0x00, W
01F6 E100      00757         BNZ     _01467_DS_
01F8 C000 FFE9 00758         MOVFF   r0x09, FSR0L
01FC C000 FFF3 00759         MOVFF   r0x0a, PRODL
0200 5000      00760         MOVF    r0x0b, W
0202 EC00 F000 00761         CALL    __gptrget1
0206 6E00      00762         MOVWF   r0x09
0208 C000 FFE9 00763         MOVFF   r0x0c, FSR0L
020C C000 FFF3 00764         MOVFF   r0x0d, PRODL
0210 5000      00765         MOVF    r0x0e, W
0212 EC00 F000 00766         CALL    __gptrget1
               00767 ; #     MOVWF   r0x0c
               00768 ; #     MOVF    r0x09, W
               00769 ; #     XORWF   r0x0c, W
0216 1800      00770         XORWF   r0x09, W
0218 E100      00771         BNZ     _01475_DS_
021A 6A00      00772         CLRF    r0x09
021C 2A00      00773         INCF    r0x09, F
021E D000      00774         BRA     _01476_DS_
0220 00775 _01475_DS_:
0220 6A00      00776         CLRF    r0x09
0222 00777 _01476_DS_:
0222 5000      00778         MOVF    r0x09, W
0224 80D8      00779         BSF     STATUS, 0
0226 66E8      00780         TSTFSZ  WREG
0228 90D8      00781         BCF     STATUS, 0
022A 6A00      00782         CLRF    r0x09
022C 3600      00783         RLCF    r0x09, F
022E 5000      00784         MOVF    r0x09, W
0230 E100      00785         BNZ     _01467_DS_
0232 6A00      00786         CLRF    r0x00
0234 D000      00787         BRA     _01468_DS_
0236 00788 _01467_DS_:
0236 0E01      00789         MOVLW   0x01
0238 6E00      00790         MOVWF   r0x00
023A 00791 _01468_DS_:
023A 5000      00792         MOVF    r0x00, W
023C 00793 _01464_DS_:
023C CFE4 F000 00794         MOVFF   PREINC1, r0x10
0240 CFE4 F000 00795         MOVFF   PREINC1, r0x0f
0244 CFE4 F000 00796         MOVFF   PREINC1, r0x0e
0248 CFE4 F000 00797         MOVFF   PREINC1, r0x0d
024C CFE4 F000 00798         MOVFF   PREINC1, r0x0c
0250 CFE4 F000 00799         MOVFF   PREINC1, r0x0b
0254 CFE4 F000 00800         MOVFF   PREINC1, r0x0a
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0258 CFE4 F000 00801         MOVFF   PREINC1, r0x09
025C CFE4 F000 00802         MOVFF   PREINC1, r0x08
0260 CFE4 F000 00803         MOVFF   PREINC1, r0x07
0264 CFE4 F000 00804         MOVFF   PREINC1, r0x06
0268 CFE4 F000 00805         MOVFF   PREINC1, r0x05
026C CFE4 F000 00806         MOVFF   PREINC1, r0x04
0270 CFE4 F000 00807         MOVFF   PREINC1, r0x03
0274 CFE4 F000 00808         MOVFF   PREINC1, r0x02
0278 CFE4 F000 00809         MOVFF   PREINC1, r0x01
027C CFE4 F000 00810         MOVFF   PREINC1, r0x00
0280 CFE4 FFD9 00811         MOVFF   PREINC1, FSR2L
0284 0012      00812         RETURN  
               00813 
               00814 ; ; Starting pCode block
               00815 S_main__trace_jeux      code
0000 00816 _trace_jeux:
               00817 ;       .line   511; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c void trace_jeux(void)
0000 C000 FFE5 00818         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 00819         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 00820         MOVFF   r0x02, POSTDEC1
000C C000 FFE5 00821         MOVFF   r0x03, POSTDEC1
0010 C000 FFE5 00822         MOVFF   r0x04, POSTDEC1
0014 C000 FFE5 00823         MOVFF   r0x05, POSTDEC1
0018 C000 FFE5 00824         MOVFF   r0x06, POSTDEC1
               00825 ;       .line   515; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_printf("\r\n%s\r\n", ligne);
001C 0E00      00826         MOVLW   UPPER(_ligne)
001E 6EE5      00827         MOVWF   POSTDEC1
0020 0E00      00828         MOVLW   HIGH(_ligne)
0022 6EE5      00829         MOVWF   POSTDEC1
0024 0E00      00830         MOVLW   LOW(_ligne)
0026 6EE5      00831         MOVWF   POSTDEC1
0028 0E00      00832         MOVLW   UPPER(__str_20)
002A 6EE5      00833         MOVWF   POSTDEC1
002C 0E00      00834         MOVLW   HIGH(__str_20)
002E 6EE5      00835         MOVWF   POSTDEC1
0030 0E00      00836         MOVLW   LOW(__str_20)
0032 6EE5      00837         MOVWF   POSTDEC1
0034 EC00 F000 00838         CALL    _serial_printf
0038 0E06      00839         MOVLW   0x06
003A 26E1      00840         ADDWF   FSR1L, F
               00841 ;       .line   516; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i=7;i>=0;i--)
003C 0E07      00842         MOVLW   0x07
003E 6E00      00843         MOVWF   r0x00
0040 0E38      00844         MOVLW   0x38
0042 6E00      00845         MOVWF   r0x01
0044 00846 _01441_DS_:
0044 80D8      00847         BSF     STATUS, 0
0046 AE00      00848         BTFSS   r0x00, 7
0048 90D8      00849         BCF     STATUS, 0
004A B0D8      00850         BTFSC   STATUS, 0
004C D000      00851         BRA     _01444_DS_
               00852 ;       .line   518; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar(' ');
004E 0E20      00853         MOVLW   0x20
0050 6EE5      00854         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0052 EC00 F000 00855         CALL    _serial_putchar
0056 2AE1      00856         INCF    FSR1L, F
               00857 ;       .line   519; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar('|');
0058 0E7C      00858         MOVLW   0x7c
005A 6EE5      00859         MOVWF   POSTDEC1
005C EC00 F000 00860         CALL    _serial_putchar
0060 2AE1      00861         INCF    FSR1L, F
               00862 ;       .line   520; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for(j=0;j<8;j++)
Error [113] : Symbol not previously defined (_board).
0062 0E00      00863         MOVLW   LOW(_board)
0064 2400      00864         ADDWF   r0x01, W
0066 6E00      00865         MOVWF   r0x02
0068 6A00      00866         CLRF    r0x03
006A BE00      00867         BTFSC   r0x01, 7
006C 6800      00868         SETF    r0x03
Error [113] : Symbol not previously defined (_board).
006E 0E00      00869         MOVLW   HIGH(_board)
0070 2200      00870         ADDWFC  r0x03, F
0072 6A00      00871         CLRF    r0x04
0074 00872 _01437_DS_:
0074 5000      00873         MOVF    r0x04, W
0076 0F80      00874         ADDLW   0x80
0078 0F78      00875         ADDLW   0x78
007A B0D8      00876         BTFSC   STATUS, 0
007C D000      00877         BRA     _01440_DS_
               00878 ;       .line   522; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c switch (board[i][j])
007E 5000      00879         MOVF    r0x04, W
0080 2400      00880         ADDWF   r0x02, W
0082 6E00      00881         MOVWF   r0x05
0084 6AE8      00882         CLRF    WREG
0086 BE00      00883         BTFSC   r0x04, 7
0088 68E8      00884         SETF    WREG
008A 2000      00885         ADDWFC  r0x03, W
008C 6E00      00886         MOVWF   r0x06
008E C000 FFE9 00887         MOVFF   r0x05, FSR0L
0092 C000 FFEA 00888         MOVFF   r0x06, FSR0H
0096 CFEF F000 00889         MOVFF   INDF0, r0x05
009A 0E0F      00890         MOVLW   0x0f
009C 5C00      00891         SUBWF   r0x05, W
009E B0D8      00892         BTFSC   STATUS, 0
00A0 D000      00893         BRA     _01436_DS_
00A2 C000 FFE5 00894         MOVFF   r0x07, POSTDEC1
00A6 C000 FFE5 00895         MOVFF   r0x08, POSTDEC1
00AA 6A00      00896         CLRF    r0x08
00AC 3400      00897         RLCF    r0x05, W
00AE 3600      00898         RLCF    r0x08, F
00B0 34E8      00899         RLCF    WREG, W
00B2 3600      00900         RLCF    r0x08, F
00B4 0BFC      00901         ANDLW   0xfc
00B6 6E00      00902         MOVWF   r0x07
00B8 0E00      00903         MOVLW   UPPER(_01456_DS_)
00BA 6EFB      00904         MOVWF   PCLATU
00BC 0E00      00905         MOVLW   HIGH(_01456_DS_)
00BE 6EFA      00906         MOVWF   PCLATH
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00C0 0E00      00907         MOVLW   LOW(_01456_DS_)
00C2 2600      00908         ADDWF   r0x07, F
00C4 5000      00909         MOVF    r0x08, W
00C6 22FA      00910         ADDWFC  PCLATH, F
00C8 B0D8      00911         BTFSC   STATUS, 0
00CA 2AFB      00912         INCF    PCLATU, F
00CC 5000      00913         MOVF    r0x07, W
00CE CFE4 F000 00914         MOVFF   PREINC1, r0x08
00D2 CFE4 F000 00915         MOVFF   PREINC1, r0x07
00D6 6EF9      00916         MOVWF   PCL
00D8 00917 _01456_DS_:
00D8 EF00 F000 00918         GOTO    _01423_DS_
00DC EF00 F000 00919         GOTO    _01425_DS_
00E0 EF00 F000 00920         GOTO    _01427_DS_
00E4 EF00 F000 00921         GOTO    _01429_DS_
00E8 EF00 F000 00922         GOTO    _01431_DS_
00EC EF00 F000 00923         GOTO    _01433_DS_
00F0 EF00 F000 00924         GOTO    _01435_DS_
00F4 EF00 F000 00925         GOTO    _01436_DS_
00F8 EF00 F000 00926         GOTO    _01436_DS_
00FC EF00 F000 00927         GOTO    _01424_DS_
0100 EF00 F000 00928         GOTO    _01426_DS_
0104 EF00 F000 00929         GOTO    _01428_DS_
0108 EF00 F000 00930         GOTO    _01430_DS_
010C EF00 F000 00931         GOTO    _01432_DS_
0110 EF00 F000 00932         GOTO    _01434_DS_
0114 00933 _01423_DS_:
               00934 ;       .line   524; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case 0 : serial_putchar(' ');break;
0114 0E20      00935         MOVLW   0x20
0116 6EE5      00936         MOVWF   POSTDEC1
0118 EC00 F000 00937         CALL    _serial_putchar
011C 2AE1      00938         INCF    FSR1L, F
011E D000      00939         BRA     _01436_DS_
0120 00940 _01424_DS_:
               00941 ;       .line   525; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case BLACK|PAWN : serial_putchar('p');break;
0120 0E70      00942         MOVLW   0x70
0122 6EE5      00943         MOVWF   POSTDEC1
0124 EC00 F000 00944         CALL    _serial_putchar
0128 2AE1      00945         INCF    FSR1L, F
012A D000      00946         BRA     _01436_DS_
012C 00947 _01425_DS_:
               00948 ;       .line   526; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case WHITE|PAWN : serial_putchar('P');break;
012C 0E50      00949         MOVLW   0x50
012E 6EE5      00950         MOVWF   POSTDEC1
0130 EC00 F000 00951         CALL    _serial_putchar
0134 2AE1      00952         INCF    FSR1L, F
0136 D000      00953         BRA     _01436_DS_
0138 00954 _01426_DS_:
               00955 ;       .line   527; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case BLACK|ROOK : serial_putchar('t');break;
0138 0E74      00956         MOVLW   0x74
013A 6EE5      00957         MOVWF   POSTDEC1
013C EC00 F000 00958         CALL    _serial_putchar
0140 2AE1      00959         INCF    FSR1L, F
0142 D000      00960         BRA     _01436_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0144 00961 _01427_DS_:
               00962 ;       .line   528; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case WHITE|ROOK : serial_putchar('T');break;
0144 0E54      00963         MOVLW   0x54
0146 6EE5      00964         MOVWF   POSTDEC1
0148 EC00 F000 00965         CALL    _serial_putchar
014C 2AE1      00966         INCF    FSR1L, F
014E D000      00967         BRA     _01436_DS_
0150 00968 _01428_DS_:
               00969 ;       .line   529; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case BLACK|KNIGHT : serial_putchar('c');break;
0150 0E63      00970         MOVLW   0x63
0152 6EE5      00971         MOVWF   POSTDEC1
0154 EC00 F000 00972         CALL    _serial_putchar
0158 2AE1      00973         INCF    FSR1L, F
015A D000      00974         BRA     _01436_DS_
015C 00975 _01429_DS_:
               00976 ;       .line   530; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case WHITE|KNIGHT : serial_putchar('C');break;
015C 0E43      00977         MOVLW   0x43
015E 6EE5      00978         MOVWF   POSTDEC1
0160 EC00 F000 00979         CALL    _serial_putchar
0164 2AE1      00980         INCF    FSR1L, F
0166 D000      00981         BRA     _01436_DS_
0168 00982 _01430_DS_:
               00983 ;       .line   531; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case BLACK|BISHOP : serial_putchar('f');break;
0168 0E66      00984         MOVLW   0x66
016A 6EE5      00985         MOVWF   POSTDEC1
016C EC00 F000 00986         CALL    _serial_putchar
0170 2AE1      00987         INCF    FSR1L, F
0172 D000      00988         BRA     _01436_DS_
0174 00989 _01431_DS_:
               00990 ;       .line   532; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case WHITE|BISHOP : serial_putchar('F');break;
0174 0E46      00991         MOVLW   0x46
0176 6EE5      00992         MOVWF   POSTDEC1
0178 EC00 F000 00993         CALL    _serial_putchar
017C 2AE1      00994         INCF    FSR1L, F
017E D000      00995         BRA     _01436_DS_
0180 00996 _01432_DS_:
               00997 ;       .line   533; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case BLACK|QUEEN : serial_putchar('r');break;
0180 0E72      00998         MOVLW   0x72
0182 6EE5      00999         MOVWF   POSTDEC1
0184 EC00 F000 01000         CALL    _serial_putchar
0188 2AE1      01001         INCF    FSR1L, F
018A D000      01002         BRA     _01436_DS_
018C 01003 _01433_DS_:
               01004 ;       .line   534; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case WHITE|QUEEN : serial_putchar('R');break;
018C 0E52      01005         MOVLW   0x52
018E 6EE5      01006         MOVWF   POSTDEC1
0190 EC00 F000 01007         CALL    _serial_putchar
0194 2AE1      01008         INCF    FSR1L, F
0196 D000      01009         BRA     _01436_DS_
0198 01010 _01434_DS_:
               01011 ;       .line   535; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case BLACK|KING : serial_putchar('k');break;
0198 0E6B      01012         MOVLW   0x6b
019A 6EE5      01013         MOVWF   POSTDEC1
019C EC00 F000 01014         CALL    _serial_putchar
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01A0 2AE1      01015         INCF    FSR1L, F
01A2 D000      01016         BRA     _01436_DS_
01A4 01017 _01435_DS_:
               01018 ;       .line   536; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c case WHITE|KING : serial_putchar('K');break;
01A4 0E4B      01019         MOVLW   0x4b
01A6 6EE5      01020         MOVWF   POSTDEC1
01A8 EC00 F000 01021         CALL    _serial_putchar
01AC 2AE1      01022         INCF    FSR1L, F
01AE 01023 _01436_DS_:
               01024 ;       .line   538; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar('|');
01AE 0E7C      01025         MOVLW   0x7c
01B0 6EE5      01026         MOVWF   POSTDEC1
01B2 EC00 F000 01027         CALL    _serial_putchar
01B6 2AE1      01028         INCF    FSR1L, F
               01029 ;       .line   520; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for(j=0;j<8;j++)
01B8 2A00      01030         INCF    r0x04, F
01BA D000      01031         BRA     _01437_DS_
01BC 01032 _01440_DS_:
               01033 ;       .line   540; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar(' ');
01BC 0E20      01034         MOVLW   0x20
01BE 6EE5      01035         MOVWF   POSTDEC1
01C0 EC00 F000 01036         CALL    _serial_putchar
01C4 2AE1      01037         INCF    FSR1L, F
               01038 ;       .line   541; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar(i+'1');
01C6 0E31      01039         MOVLW   0x31
01C8 2400      01040         ADDWF   r0x00, W
               01041 ; #     MOVWF   r0x02
               01042 ; #     MOVF    r0x02, W
01CA 6EE5      01043         MOVWF   POSTDEC1
01CC EC00 F000 01044         CALL    _serial_putchar
01D0 2AE1      01045         INCF    FSR1L, F
               01046 ;       .line   542; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_printf("\r\n%s\r\n", ligne);
01D2 0E00      01047         MOVLW   UPPER(_ligne)
01D4 6EE5      01048         MOVWF   POSTDEC1
01D6 0E00      01049         MOVLW   HIGH(_ligne)
01D8 6EE5      01050         MOVWF   POSTDEC1
01DA 0E00      01051         MOVLW   LOW(_ligne)
01DC 6EE5      01052         MOVWF   POSTDEC1
01DE 0E00      01053         MOVLW   UPPER(__str_20)
01E0 6EE5      01054         MOVWF   POSTDEC1
01E2 0E00      01055         MOVLW   HIGH(__str_20)
01E4 6EE5      01056         MOVWF   POSTDEC1
01E6 0E00      01057         MOVLW   LOW(__str_20)
01E8 6EE5      01058         MOVWF   POSTDEC1
01EA EC00 F000 01059         CALL    _serial_printf
01EE 0E06      01060         MOVLW   0x06
01F0 26E1      01061         ADDWF   FSR1L, F
               01062 ;       .line   516; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i=7;i>=0;i--)
01F2 0EF8      01063         MOVLW   0xf8
01F4 2600      01064         ADDWF   r0x01, F
01F6 0600      01065         DECF    r0x00, F
01F8 D000      01066         BRA     _01441_DS_
01FA 01067 _01444_DS_:
               01068 ;       .line   544; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_print("  a b c d e f g h\r\n\r\n");
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01FA 0E00      01069         MOVLW   UPPER(__str_21)
01FC 6EE5      01070         MOVWF   POSTDEC1
01FE 0E00      01071         MOVLW   HIGH(__str_21)
0200 6EE5      01072         MOVWF   POSTDEC1
0202 0E00      01073         MOVLW   LOW(__str_21)
0204 6EE5      01074         MOVWF   POSTDEC1
0206 EC00 F000 01075         CALL    _serial_print
020A 0E03      01076         MOVLW   0x03
020C 26E1      01077         ADDWF   FSR1L, F
020E CFE4 F000 01078         MOVFF   PREINC1, r0x06
0212 CFE4 F000 01079         MOVFF   PREINC1, r0x05
0216 CFE4 F000 01080         MOVFF   PREINC1, r0x04
021A CFE4 F000 01081         MOVFF   PREINC1, r0x03
021E CFE4 F000 01082         MOVFF   PREINC1, r0x02
0222 CFE4 F000 01083         MOVFF   PREINC1, r0x01
0226 CFE4 F000 01084         MOVFF   PREINC1, r0x00
022A 0012      01085         RETURN  
               01086 
               01087 ; ; Starting pCode block
               01088 S_main__init_board      code
0000 01089 _init_board:
               01090 ;       .line   437; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c void init_board () 
0000 C000 FFE5 01091         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 01092         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 01093         MOVFF   r0x02, POSTDEC1
000C C000 FFE5 01094         MOVFF   r0x03, POSTDEC1
0010 C000 FFE5 01095         MOVFF   r0x04, POSTDEC1
0014 C000 FFE5 01096         MOVFF   r0x05, POSTDEC1
0018 C000 FFE5 01097         MOVFF   r0x06, POSTDEC1
               01098 ; #     MOVLW   0x0a
               01099 ; #     MOVWF   (_board + 63), B
               01100 ; #     MOVLW   0x0a
               01101 ;       .line   441; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[7][0] = board[7][7] = BLACK|ROOK;
001C 0E0A      01102         MOVLW   0x0a
Error [113] : Symbol not previously defined (_board).
001E 0100      01103         BANKSEL (_board + 63)
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0020 6F00      01104         MOVWF   (_board + 63), B
               01105 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0022 6F00      01106         MOVWF   (_board + 56), B
               01107 ; #     MOVLW   0x0b
               01108 ; #     MOVWF   (_board + 62), B
               01109 ; #     MOVLW   0x0b
               01110 ;       .line   442; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[7][1] = board[7][6] = BLACK|KNIGHT;
0024 0E0B      01111         MOVLW   0x0b
               01112 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0026 6F00      01113         MOVWF   (_board + 62), B
               01114 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_board).
0028 6F00      01115         MOVWF   (_board + 57), B
               01116 ; #     MOVLW   0x0c
               01117 ; #     MOVWF   (_board + 61), B
               01118 ; #     MOVLW   0x0c
               01119 ;       .line   443; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[7][2] = board[7][5] = BLACK|BISHOP;
002A 0E0C      01120         MOVLW   0x0c
               01121 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
002C 6F00      01122         MOVWF   (_board + 61), B
               01123 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
002E 6F00      01124         MOVWF   (_board + 58), B
               01125 ;       .line   444; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[7][3] = BLACK|QUEEN;
0030 0E0D      01126         MOVLW   0x0d
               01127 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0032 6F00      01128         MOVWF   (_board + 59), B
               01129 ;       .line   445; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[7][4] = BLACK|KING;
0034 0E0E      01130         MOVLW   0x0e
               01131 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0036 6F00      01132         MOVWF   (_board + 60), B
               01133 ; #     MOVLW   0x02
               01134 ; #     MOVWF   (_board + 7), B
               01135 ; #     MOVLW   0x02
               01136 ;       .line   447; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[0][0] = board[0][7] = WHITE|ROOK;
0038 0E02      01137         MOVLW   0x02
               01138 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
003A 6F00      01139         MOVWF   (_board + 7), B
               01140 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
003C 6F00      01141         MOVWF   _board, B
               01142 ; #     MOVLW   0x03
               01143 ; #     MOVWF   (_board + 6), B
               01144 ; #     MOVLW   0x03
               01145 ;       .line   448; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[0][1] = board[0][6] = WHITE|KNIGHT;
003E 0E03      01146         MOVLW   0x03
               01147 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0040 6F00      01148         MOVWF   (_board + 6), B
               01149 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0042 6F00      01150         MOVWF   (_board + 1), B
               01151 ; #     MOVLW   0x04
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01152 ; #     MOVWF   (_board + 5), B
               01153 ; #     MOVLW   0x04
               01154 ;       .line   449; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[0][2] = board[0][5] = WHITE|BISHOP;
0044 0E04      01155         MOVLW   0x04
               01156 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0046 6F00      01157         MOVWF   (_board + 5), B
               01158 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0048 6F00      01159         MOVWF   (_board + 2), B
               01160 ;       .line   450; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[0][3] = WHITE|QUEEN;
004A 0E05      01161         MOVLW   0x05
               01162 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
004C 6F00      01163         MOVWF   (_board + 3), B
               01164 ;       .line   451; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[0][4] = WHITE|KING;
004E 0E06      01165         MOVLW   0x06
               01166 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_board).
Error [113] : Symbol not previously defined (_board).
0050 6F00      01167         MOVWF   (_board + 4), B
               01168 ;       .line   453; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i=2; i<6; ++i)
0052 0E02      01169         MOVLW   0x02
0054 6E00      01170         MOVWF   r0x00
0056 0E10      01171         MOVLW   0x10
0058 6E00      01172         MOVWF   r0x01
005A 01173 _01397_DS_:
005A 0E06      01174         MOVLW   0x06
005C 5C00      01175         SUBWF   r0x00, W
005E E200      01176         BC      _01400_DS_
               01177 ;       .line   454; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (j=0; j<8; ++j)
Error [113] : Symbol not previously defined (_board).
0060 0E00      01178         MOVLW   LOW(_board)
0062 2400      01179         ADDWF   r0x01, W
0064 6E00      01180         MOVWF   r0x02
0066 6A00      01181         CLRF    r0x03
Error [113] : Symbol not previously defined (_board).
0068 0E00      01182         MOVLW   HIGH(_board)
006A 2200      01183         ADDWFC  r0x03, F
006C 6A00      01184         CLRF    r0x04
006E 01185 _01393_DS_:
006E 0E08      01186         MOVLW   0x08
0070 5C00      01187         SUBWF   r0x04, W
0072 E200      01188         BC      _01399_DS_
               01189 ;       .line   455; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[i][j] = 0;
0074 5000      01190         MOVF    r0x04, W
0076 2400      01191         ADDWF   r0x02, W
0078 6E00      01192         MOVWF   r0x05
007A 6AE8      01193         CLRF    WREG
007C 2000      01194         ADDWFC  r0x03, W
007E 6E00      01195         MOVWF   r0x06
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0080 C000 FFE9 01196         MOVFF   r0x05, FSR0L
0084 C000 FFEA 01197         MOVFF   r0x06, FSR0H
0088 6AEF      01198         CLRF    INDF0
               01199 ;       .line   454; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (j=0; j<8; ++j)
008A 2A00      01200         INCF    r0x04, F
008C D000      01201         BRA     _01393_DS_
008E 01202 _01399_DS_:
               01203 ;       .line   453; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i=2; i<6; ++i)
008E 0E08      01204         MOVLW   0x08
0090 2600      01205         ADDWF   r0x01, F
0092 2A00      01206         INCF    r0x00, F
0094 D000      01207         BRA     _01397_DS_
0096 01208 _01400_DS_:
               01209 ;       .line   457; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i=0; i<8; ++i)
0096 6A00      01210         CLRF    r0x00
0098 01211 _01401_DS_:
0098 0E08      01212         MOVLW   0x08
009A 5C00      01213         SUBWF   r0x00, W
009C E200      01214         BC      _01404_DS_
               01215 ;       .line   459; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[6][i] = BLACK|PAWN;
Error [113] : Symbol not previously defined (_board).
009E 0E00      01216         MOVLW   LOW(_board + 48)
00A0 2400      01217         ADDWF   r0x00, W
00A2 6E00      01218         MOVWF   r0x01
00A4 6A00      01219         CLRF    r0x02
Error [113] : Symbol not previously defined (_board).
00A6 0E00      01220         MOVLW   HIGH(_board + 48)
00A8 2200      01221         ADDWFC  r0x02, F
00AA C000 FFE9 01222         MOVFF   r0x01, FSR0L
00AE C000 FFEA 01223         MOVFF   r0x02, FSR0H
00B2 0E09      01224         MOVLW   0x09
00B4 6EEF      01225         MOVWF   INDF0
               01226 ;       .line   460; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[1][i] = WHITE|PAWN;
Error [113] : Symbol not previously defined (_board).
00B6 0E00      01227         MOVLW   LOW(_board + 8)
00B8 2400      01228         ADDWF   r0x00, W
00BA 6E00      01229         MOVWF   r0x01
00BC 6A00      01230         CLRF    r0x02
Error [113] : Symbol not previously defined (_board).
00BE 0E00      01231         MOVLW   HIGH(_board + 8)
00C0 2200      01232         ADDWFC  r0x02, F
00C2 C000 FFE9 01233         MOVFF   r0x01, FSR0L
00C6 C000 FFEA 01234         MOVFF   r0x02, FSR0H
00CA 0E01      01235         MOVLW   0x01
00CC 6EEF      01236         MOVWF   INDF0
               01237 ;       .line   457; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i=0; i<8; ++i)
00CE 2A00      01238         INCF    r0x00, F
00D0 D000      01239         BRA     _01401_DS_
00D2 01240 _01404_DS_:
Error [113] : Symbol not previously defined (_wh_king_pos).
00D2 0100      01241         BANKSEL _wh_king_pos
               01242 ;       .line   464; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c wh_king_pos[0] = 0;
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00D4 6B00      01243         CLRF    _wh_king_pos, B
               01244 ;       .line   465; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c wh_king_pos[1] = 4;
00D6 0E04      01245         MOVLW   0x04
               01246 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
00D8 6F00      01247         MOVWF   (_wh_king_pos + 1), B
               01248 ;       .line   466; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bl_king_pos[0] = 7;
00DA 0E07      01249         MOVLW   0x07
Error [113] : Symbol not previously defined (_bl_king_pos).
00DC 0100      01250         BANKSEL _bl_king_pos
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
00DE 6F00      01251         MOVWF   _bl_king_pos, B
               01252 ;       .line   467; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bl_king_pos[1] = 4;  
00E0 0E04      01253         MOVLW   0x04
               01254 ; removed redundant BANKSEL
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
00E2 6F00      01255         MOVWF   (_bl_king_pos + 1), B
               01256 ; #     MOVLW   0xff
               01257 ; #     MOVWF   _bl_base_cont, B
               01258 ; #     MOVLW   0xff
               01259 ;       .line   470; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c wh_base_cont = bl_base_cont = 0xFF;
00E4 0EFF      01260         MOVLW   0xff
Error [113] : Symbol not previously defined (_bl_base_cont).
00E6 0100      01261         BANKSEL _bl_base_cont
Error [113] : Symbol not previously defined (_bl_base_cont).
Error [113] : Symbol not previously defined (_bl_base_cont).
00E8 6900      01262         SETF    _bl_base_cont, B
Error [113] : Symbol not previously defined (_wh_base_cont).
00EA 0100      01263         BANKSEL _wh_base_cont
Error [113] : Symbol not previously defined (_wh_base_cont).
Error [113] : Symbol not previously defined (_wh_base_cont).
00EC 6900      01264         SETF    _wh_base_cont, B
00EE CFE4 F000 01265         MOVFF   PREINC1, r0x06
00F2 CFE4 F000 01266         MOVFF   PREINC1, r0x05
00F6 CFE4 F000 01267         MOVFF   PREINC1, r0x04
00FA CFE4 F000 01268         MOVFF   PREINC1, r0x03
00FE CFE4 F000 01269         MOVFF   PREINC1, r0x02
0102 CFE4 F000 01270         MOVFF   PREINC1, r0x01
0106 CFE4 F000 01271         MOVFF   PREINC1, r0x00
010A 0012      01272         RETURN  
               01273 
               01274 ; ; Starting pCode block
               01275 S_main__updatekingpos   code
0000 01276 _updatekingpos:
               01277 ;       .line   423; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c void updatekingpos(LOC to, BOOL piececolour)
0000 CFD9 FFE5 01278         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01279         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 01280         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 01281         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 01282         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 01283         MOVFF   r0x03, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0018 C000 FFE5 01284         MOVFF   r0x04, POSTDEC1
001C 0E02      01285         MOVLW   0x02
001E CFDB F000 01286         MOVFF   PLUSW2, r0x00
0022 0E03      01287         MOVLW   0x03
0024 CFDB F000 01288         MOVFF   PLUSW2, r0x01
0028 0E04      01289         MOVLW   0x04
002A CFDB F000 01290         MOVFF   PLUSW2, r0x02
002E 0E05      01291         MOVLW   0x05
0030 CFDB F000 01292         MOVFF   PLUSW2, r0x03
               01293 ;       .line   425; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (!piececolour)
0034 5000      01294         MOVF    r0x03, W
0036 E100      01295         BNZ     _01386_DS_
               01296 ;       .line   427; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c wh_king_pos[0] = to[0];
0038 C000 FFE9 01297         MOVFF   r0x00, FSR0L
003C C000 FFF3 01298         MOVFF   r0x01, PRODL
0040 5000      01299         MOVF    r0x02, W
0042 EC00 F000 01300         CALL    __gptrget1
               01301 ; #     MOVWF   r0x03
               01302 ; #     MOVF    r0x03, W
Error [113] : Symbol not previously defined (_wh_king_pos).
0046 0100      01303         BANKSEL _wh_king_pos
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0048 6F00      01304         MOVWF   _wh_king_pos, B
               01305 ;       .line   428; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c wh_king_pos[1] = to[1];
004A 5000      01306         MOVF    r0x00, W
004C 0F01      01307         ADDLW   0x01
004E 6E00      01308         MOVWF   r0x03
0050 0E00      01309         MOVLW   0x00
0052 2000      01310         ADDWFC  r0x01, W
0054 6E00      01311         MOVWF   r0x04
0056 0E00      01312         MOVLW   0x00
0058 2000      01313         ADDWFC  r0x02, W
005A C000 FFE9 01314         MOVFF   r0x03, FSR0L
005E C000 FFF3 01315         MOVFF   r0x04, PRODL
0062 EC00 F000 01316         CALL    __gptrget1
               01317 ; #     MOVWF   r0x03
               01318 ; #     MOVF    r0x03, W
Error [113] : Symbol not previously defined (_wh_king_pos).
0066 0100      01319         BANKSEL (_wh_king_pos + 1)
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0068 6F00      01320         MOVWF   (_wh_king_pos + 1), B
006A D000      01321         BRA     _01388_DS_
006C 01322 _01386_DS_:
               01323 ;       .line   432; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bl_king_pos[0] = to[0];
006C C000 FFE9 01324         MOVFF   r0x00, FSR0L
0070 C000 FFF3 01325         MOVFF   r0x01, PRODL
0074 5000      01326         MOVF    r0x02, W
0076 EC00 F000 01327         CALL    __gptrget1
               01328 ; #     MOVWF   r0x03
               01329 ; #     MOVF    r0x03, W
Error [113] : Symbol not previously defined (_bl_king_pos).
007A 0100      01330         BANKSEL _bl_king_pos
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
007C 6F00      01331         MOVWF   _bl_king_pos, B
               01332 ;       .line   433; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bl_king_pos[1] = to[1];
007E 2A00      01333         INCF    r0x00, F
0080 B0D8      01334         BTFSC   STATUS, 0
0082 2A00      01335         INCF    r0x01, F
0084 B0D8      01336         BTFSC   STATUS, 0
0086 2A00      01337         INCF    r0x02, F
0088 C000 FFE9 01338         MOVFF   r0x00, FSR0L
008C C000 FFF3 01339         MOVFF   r0x01, PRODL
0090 5000      01340         MOVF    r0x02, W
0092 EC00 F000 01341         CALL    __gptrget1
               01342 ; #     MOVWF   r0x00
               01343 ; #     MOVF    r0x00, W
Error [113] : Symbol not previously defined (_bl_king_pos).
0096 0100      01344         BANKSEL (_bl_king_pos + 1)
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
0098 6F00      01345         MOVWF   (_bl_king_pos + 1), B
009A 01346 _01388_DS_:
009A CFE4 F000 01347         MOVFF   PREINC1, r0x04
009E CFE4 F000 01348         MOVFF   PREINC1, r0x03
00A2 CFE4 F000 01349         MOVFF   PREINC1, r0x02
00A6 CFE4 F000 01350         MOVFF   PREINC1, r0x01
00AA CFE4 F000 01351         MOVFF   PREINC1, r0x00
00AE CFE4 FFD9 01352         MOVFF   PREINC1, FSR2L
00B2 0012      01353         RETURN  
               01354 
               01355 ; ; Starting pCode block
               01356 S_main__draw_move       code
0000 01357 _draw_move:
               01358 ;       .line   372; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c void draw_move (LOC from, LOC to,PIECE p)
0000 CFD9 FFE5 01359         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01360         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 01361         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 01362         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 01363         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 01364         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 01365         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 01366         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 01367         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 01368         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 01369         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 01370         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 01371         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 01372         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 01373         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 01374         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 01375         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 01376         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 01377         MOVFF   r0x10, POSTDEC1
004C C000 FFE5 01378         MOVFF   r0x11, POSTDEC1
0050 0E02      01379         MOVLW   0x02
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0052 CFDB F000 01380         MOVFF   PLUSW2, r0x00
0056 0E03      01381         MOVLW   0x03
0058 CFDB F000 01382         MOVFF   PLUSW2, r0x01
005C 0E04      01383         MOVLW   0x04
005E CFDB F000 01384         MOVFF   PLUSW2, r0x02
0062 0E05      01385         MOVLW   0x05
0064 CFDB F000 01386         MOVFF   PLUSW2, r0x03
0068 0E06      01387         MOVLW   0x06
006A CFDB F000 01388         MOVFF   PLUSW2, r0x04
006E 0E07      01389         MOVLW   0x07
0070 CFDB F000 01390         MOVFF   PLUSW2, r0x05
0074 0E08      01391         MOVLW   0x08
0076 CFDB F000 01392         MOVFF   PLUSW2, r0x06
               01393 ;       .line   375; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c basemask = (p & 0x08) ? &bl_base_cont : &wh_base_cont;
007A 1400      01394         ANDWF   r0x06, W
007C 6E00      01395         MOVWF   r0x07
007E 5000      01396         MOVF    r0x07, W
0080 E000      01397         BZ      _01337_DS_
Error [113] : Symbol not previously defined (_bl_base_cont).
0082 0E00      01398         MOVLW   LOW(_bl_base_cont)
0084 6E00      01399         MOVWF   r0x08
Error [113] : Symbol not previously defined (_bl_base_cont).
0086 0E00      01400         MOVLW   HIGH(_bl_base_cont)
0088 6E00      01401         MOVWF   r0x09
008A D000      01402         BRA     _01338_DS_
008C 01403 _01337_DS_:
Error [113] : Symbol not previously defined (_wh_base_cont).
008C 0E00      01404         MOVLW   LOW(_wh_base_cont)
008E 6E00      01405         MOVWF   r0x08
Error [113] : Symbol not previously defined (_wh_base_cont).
0090 0E00      01406         MOVLW   HIGH(_wh_base_cont)
0092 6E00      01407         MOVWF   r0x09
0094 01408 _01338_DS_:
0094 5000      01409         MOVF    r0x09, W
0096 6E00      01410         MOVWF   r0x09
               01411 ; #     MOVF    r0x08, W
               01412 ; #     MOVWF   r0x08
0098 0E80      01413         MOVLW   0x80
009A 6E00      01414         MOVWF   r0x0a
               01415 ;       .line   376; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c baserow = (p & 0x08) ? 7 : 0;
009C 5000      01416         MOVF    r0x07, W
009E E000      01417         BZ      _01339_DS_
00A0 0E07      01418         MOVLW   0x07
00A2 6E00      01419         MOVWF   r0x0b
00A4 D000      01420         BRA     _01340_DS_
00A6 01421 _01339_DS_:
00A6 6A00      01422         CLRF    r0x0b
00A8 01423 _01340_DS_:
               01424 ;       .line   379; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (piecetype(p) == KING) 
00A8 0E07      01425         MOVLW   0x07
00AA 1400      01426         ANDWF   r0x06, W
               01427 ; #     MOVWF   r0x0c
               01428 ; #     MOVF    r0x0c, W
00AC 0A06      01429         XORLW   0x06
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00AE E000      01430         BZ      _01355_DS_
00B0 D000      01431         BRA     _01330_DS_
00B2 01432 _01355_DS_:
               01433 ;       .line   381; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c updatekingpos(to,(p&0x08));
00B2 5000      01434         MOVF    r0x07, W
00B4 6EE5      01435         MOVWF   POSTDEC1
00B6 5000      01436         MOVF    r0x05, W
00B8 6EE5      01437         MOVWF   POSTDEC1
00BA 5000      01438         MOVF    r0x04, W
00BC 6EE5      01439         MOVWF   POSTDEC1
00BE 5000      01440         MOVF    r0x03, W
00C0 6EE5      01441         MOVWF   POSTDEC1
00C2 EC00 F000 01442         CALL    _updatekingpos
00C6 0E04      01443         MOVLW   0x04
00C8 26E1      01444         ADDWF   FSR1L, F
               01445 ;       .line   382; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[from[0]][from[1]] = EMPTY;
00CA C000 FFE9 01446         MOVFF   r0x00, FSR0L
00CE C000 FFF3 01447         MOVFF   r0x01, PRODL
00D2 5000      01448         MOVF    r0x02, W
00D4 EC00 F000 01449         CALL    __gptrget1
               01450 ; #     MOVWF   r0x0c
               01451 ; #;;multiply lit val:0x08 by variable r0x0c and store in r0x0c
               01452 ; #;;Unrolled 8 X 8 multiplication
               01453 ; #;;FIXME: the function does not support result==WREG
               01454 ; #     MOVF    r0x0c, W
00D8 0D08      01455         MULLW   0x08
00DA CFF3 F000 01456         MOVFF   PRODL, r0x0c
00DE 6A00      01457         CLRF    r0x0d
Error [113] : Symbol not previously defined (_board).
00E0 0E00      01458         MOVLW   LOW(_board)
00E2 2600      01459         ADDWF   r0x0c, F
Error [113] : Symbol not previously defined (_board).
00E4 0E00      01460         MOVLW   HIGH(_board)
00E6 2200      01461         ADDWFC  r0x0d, F
00E8 5000      01462         MOVF    r0x00, W
00EA 0F01      01463         ADDLW   0x01
00EC 6E00      01464         MOVWF   r0x0e
00EE 0E00      01465         MOVLW   0x00
00F0 2000      01466         ADDWFC  r0x01, W
00F2 6E00      01467         MOVWF   r0x0f
00F4 0E00      01468         MOVLW   0x00
00F6 2000      01469         ADDWFC  r0x02, W
00F8 C000 FFE9 01470         MOVFF   r0x0e, FSR0L
00FC C000 FFF3 01471         MOVFF   r0x0f, PRODL
0100 EC00 F000 01472         CALL    __gptrget1
               01473 ; #     MOVWF   r0x0e
               01474 ; #     MOVF    r0x0e, W
0104 6E00      01475         MOVWF   r0x0e
0106 2600      01476         ADDWF   r0x0c, F
0108 6AE8      01477         CLRF    WREG
010A 2200      01478         ADDWFC  r0x0d, F
010C C000 FFE9 01479         MOVFF   r0x0c, FSR0L
0110 C000 FFEA 01480         MOVFF   r0x0d, FSR0H
0114 6AEF      01481         CLRF    INDF0
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               01482 ;       .line   383; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][to[1]] = p;
0116 C000 FFE9 01483         MOVFF   r0x03, FSR0L
011A C000 FFF3 01484         MOVFF   r0x04, PRODL
011E 5000      01485         MOVF    r0x05, W
0120 EC00 F000 01486         CALL    __gptrget1
               01487 ; #     MOVWF   r0x0c
               01488 ; #;;multiply lit val:0x08 by variable r0x0c and store in r0x0c
               01489 ; #;;Unrolled 8 X 8 multiplication
               01490 ; #;;FIXME: the function does not support result==WREG
               01491 ; #     MOVF    r0x0c, W
0124 0D08      01492         MULLW   0x08
0126 CFF3 F000 01493         MOVFF   PRODL, r0x0c
012A 6A00      01494         CLRF    r0x0d
Error [113] : Symbol not previously defined (_board).
012C 0E00      01495         MOVLW   LOW(_board)
012E 2600      01496         ADDWF   r0x0c, F
Error [113] : Symbol not previously defined (_board).
0130 0E00      01497         MOVLW   HIGH(_board)
0132 2200      01498         ADDWFC  r0x0d, F
0134 5000      01499         MOVF    r0x03, W
0136 0F01      01500         ADDLW   0x01
0138 6E00      01501         MOVWF   r0x0f
013A 0E00      01502         MOVLW   0x00
013C 2000      01503         ADDWFC  r0x04, W
013E 6E00      01504         MOVWF   r0x10
0140 0E00      01505         MOVLW   0x00
0142 2000      01506         ADDWFC  r0x05, W
0144 C000 FFE9 01507         MOVFF   r0x0f, FSR0L
0148 C000 FFF3 01508         MOVFF   r0x10, PRODL
014C EC00 F000 01509         CALL    __gptrget1
               01510 ; #     MOVWF   r0x0f
               01511 ; #     MOVF    r0x0f, W
0150 6E00      01512         MOVWF   r0x0f
0152 2600      01513         ADDWF   r0x0c, F
0154 6AE8      01514         CLRF    WREG
0156 2200      01515         ADDWFC  r0x0d, F
0158 C000 FFE9 01516         MOVFF   r0x0c, FSR0L
015C C000 FFEA 01517         MOVFF   r0x0d, FSR0H
0160 C000 FFEF 01518         MOVFF   r0x06, INDF0
               01519 ;       .line   385; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (((to[1] - from[1]) != 1) && ((from[1] - to[1]) != 1))
0164 C000 F000 01520         MOVFF   r0x0f, r0x0c
0168 6A00      01521         CLRF    r0x0d
016A 6A00      01522         CLRF    r0x0f
016C 5000      01523         MOVF    r0x0e, W
016E 5C00      01524         SUBWF   r0x0c, W
0170 6E00      01525         MOVWF   r0x10
0172 5000      01526         MOVF    r0x0f, W
0174 5800      01527         SUBWFB  r0x0d, W
0176 6E00      01528         MOVWF   r0x11
0178 5000      01529         MOVF    r0x10, W
017A 0A01      01530         XORLW   0x01
017C E100      01531         BNZ     _01357_DS_
017E 5000      01532         MOVF    r0x11, W
0180 E100      01533         BNZ     _01357_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0182 D000      01534         BRA     _01331_DS_
0184 01535 _01357_DS_:
0184 5000      01536         MOVF    r0x0c, W
0186 5C00      01537         SUBWF   r0x0e, W
0188 6E00      01538         MOVWF   r0x0c
018A 5000      01539         MOVF    r0x0d, W
018C 5800      01540         SUBWFB  r0x0f, W
018E 6E00      01541         MOVWF   r0x0d
0190 5000      01542         MOVF    r0x0c, W
0192 0A01      01543         XORLW   0x01
0194 E100      01544         BNZ     _01359_DS_
0196 5000      01545         MOVF    r0x0d, W
0198 E100      01546         BNZ     _01359_DS_
019A D000      01547         BRA     _01331_DS_
019C 01548 _01359_DS_:
               01549 ;       .line   387; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (((*basemask) & 0x1F)== 0x11)
019C C000 FFE9 01550         MOVFF   r0x08, FSR0L
01A0 C000 FFF3 01551         MOVFF   r0x09, PRODL
01A4 5000      01552         MOVF    r0x0a, W
01A6 EC00 F000 01553         CALL    __gptrget1
01AA 6E00      01554         MOVWF   r0x0c
01AC 0E1F      01555         MOVLW   0x1f
01AE 1400      01556         ANDWF   r0x0c, W
               01557 ; #     MOVWF   r0x0d
               01558 ; #     MOVF    r0x0d, W
01B0 0A11      01559         XORLW   0x11
01B2 E100      01560         BNZ     _01318_DS_
               01561 ;       .line   390; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][0] = EMPTY;
01B4 C000 FFE9 01562         MOVFF   r0x03, FSR0L
01B8 C000 FFF3 01563         MOVFF   r0x04, PRODL
01BC 5000      01564         MOVF    r0x05, W
01BE EC00 F000 01565         CALL    __gptrget1
               01566 ; #     MOVWF   r0x0d
               01567 ; #;;multiply lit val:0x08 by variable r0x0d and store in r0x0d
               01568 ; #;;Unrolled 8 X 8 multiplication
               01569 ; #;;FIXME: the function does not support result==WREG
               01570 ; #     MOVF    r0x0d, W
01C2 0D08      01571         MULLW   0x08
01C4 CFF3 F000 01572         MOVFF   PRODL, r0x0d
Error [113] : Symbol not previously defined (_board).
01C8 0E00      01573         MOVLW   LOW(_board)
01CA 2400      01574         ADDWF   r0x0d, W
01CC 6E00      01575         MOVWF   r0x0e
01CE 6A00      01576         CLRF    r0x0f
Error [113] : Symbol not previously defined (_board).
01D0 0E00      01577         MOVLW   HIGH(_board)
01D2 2200      01578         ADDWFC  r0x0f, F
01D4 C000 FFE9 01579         MOVFF   r0x0e, FSR0L
01D8 C000 FFEA 01580         MOVFF   r0x0f, FSR0H
01DC 6AEF      01581         CLRF    INDF0
               01582 ;       .line   391; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][3] = ((p&0x08)|ROOK);
01DE 6A00      01583         CLRF    r0x0e
Error [113] : Symbol not previously defined (_board).
01E0 0E00      01584         MOVLW   LOW(_board)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01E2 2600      01585         ADDWF   r0x0d, F
Error [113] : Symbol not previously defined (_board).
01E4 0E00      01586         MOVLW   HIGH(_board)
01E6 2200      01587         ADDWFC  r0x0e, F
01E8 0E03      01588         MOVLW   0x03
01EA 2600      01589         ADDWF   r0x0d, F
01EC B0D8      01590         BTFSC   STATUS, 0
01EE 2A00      01591         INCF    r0x0e, F
01F0 0E02      01592         MOVLW   0x02
01F2 1000      01593         IORWF   r0x07, W
01F4 6E00      01594         MOVWF   r0x0f
01F6 C000 FFE9 01595         MOVFF   r0x0d, FSR0L
01FA C000 FFEA 01596         MOVFF   r0x0e, FSR0H
01FE C000 FFEF 01597         MOVFF   r0x0f, INDF0
               01598 ;       .line   392; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_printf("Queenside Castle\n");
0202 0E00      01599         MOVLW   UPPER(__str_18)
0204 6EE5      01600         MOVWF   POSTDEC1
0206 0E00      01601         MOVLW   HIGH(__str_18)
0208 6EE5      01602         MOVWF   POSTDEC1
020A 0E00      01603         MOVLW   LOW(__str_18)
020C 6EE5      01604         MOVWF   POSTDEC1
020E EC00 F000 01605         CALL    _serial_printf
0212 0E03      01606         MOVLW   0x03
0214 26E1      01607         ADDWF   FSR1L, F
0216 D000      01608         BRA     _01331_DS_
0218 01609 _01318_DS_:
               01610 ;       .line   394; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c else if (((*basemask) & 0xF0) == 0x90)
0218 0EF0      01611         MOVLW   0xf0
021A 1600      01612         ANDWF   r0x0c, F
021C 5000      01613         MOVF    r0x0c, W
021E 0A90      01614         XORLW   0x90
0220 E000      01615         BZ      _01366_DS_
0222 D000      01616         BRA     _01331_DS_
0224 01617 _01366_DS_:
               01618 ;       .line   397; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][7] = EMPTY;
0224 C000 FFE9 01619         MOVFF   r0x03, FSR0L
0228 C000 FFF3 01620         MOVFF   r0x04, PRODL
022C 5000      01621         MOVF    r0x05, W
022E EC00 F000 01622         CALL    __gptrget1
               01623 ; #     MOVWF   r0x0c
               01624 ; #;;multiply lit val:0x08 by variable r0x0c and store in r0x0c
               01625 ; #;;Unrolled 8 X 8 multiplication
               01626 ; #;;FIXME: the function does not support result==WREG
               01627 ; #     MOVF    r0x0c, W
0232 0D08      01628         MULLW   0x08
0234 CFF3 F000 01629         MOVFF   PRODL, r0x0c
0238 6A00      01630         CLRF    r0x0d
Error [113] : Symbol not previously defined (_board).
023A 0E00      01631         MOVLW   LOW(_board)
023C 2600      01632         ADDWF   r0x0c, F
Error [113] : Symbol not previously defined (_board).
023E 0E00      01633         MOVLW   HIGH(_board)
0240 2200      01634         ADDWFC  r0x0d, F
0242 5000      01635         MOVF    r0x0c, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0244 0F07      01636         ADDLW   0x07
0246 6E00      01637         MOVWF   r0x0e
0248 0E00      01638         MOVLW   0x00
024A 2000      01639         ADDWFC  r0x0d, W
024C 6E00      01640         MOVWF   r0x0f
024E C000 FFE9 01641         MOVFF   r0x0e, FSR0L
0252 C000 FFEA 01642         MOVFF   r0x0f, FSR0H
0256 6AEF      01643         CLRF    INDF0
               01644 ;       .line   398; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][5] = ((p&0x08)|ROOK);
0258 0E05      01645         MOVLW   0x05
025A 2600      01646         ADDWF   r0x0c, F
025C B0D8      01647         BTFSC   STATUS, 0
025E 2A00      01648         INCF    r0x0d, F
0260 0E02      01649         MOVLW   0x02
0262 1000      01650         IORWF   r0x07, W
0264 6E00      01651         MOVWF   r0x0e
0266 C000 FFE9 01652         MOVFF   r0x0c, FSR0L
026A C000 FFEA 01653         MOVFF   r0x0d, FSR0H
026E C000 FFEF 01654         MOVFF   r0x0e, INDF0
               01655 ;       .line   399; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_printf("Kingside Castle\n");
0272 0E00      01656         MOVLW   UPPER(__str_19)
0274 6EE5      01657         MOVWF   POSTDEC1
0276 0E00      01658         MOVLW   HIGH(__str_19)
0278 6EE5      01659         MOVWF   POSTDEC1
027A 0E00      01660         MOVLW   LOW(__str_19)
027C 6EE5      01661         MOVWF   POSTDEC1
027E EC00 F000 01662         CALL    _serial_printf
0282 0E03      01663         MOVLW   0x03
0284 26E1      01664         ADDWF   FSR1L, F
0286 D000      01665         BRA     _01331_DS_
0288 01666 _01330_DS_:
               01667 ;       .line   404; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c else if (((p == 0x09) && (to[0] == 0)) || ((p == 1) && (to[0] == 7)))
0288 5000      01668         MOVF    r0x06, W
028A 0A09      01669         XORLW   0x09
028C E100      01670         BNZ     _01328_DS_
028E C000 FFE9 01671         MOVFF   r0x03, FSR0L
0292 C000 FFF3 01672         MOVFF   r0x04, PRODL
0296 5000      01673         MOVF    r0x05, W
0298 EC00 F000 01674         CALL    __gptrget1
029C 6E00      01675         MOVWF   r0x0c
029E 5000      01676         MOVF    r0x0c, W
02A0 E000      01677         BZ      _01323_DS_
02A2 01678 _01328_DS_:
02A2 5000      01679         MOVF    r0x06, W
02A4 0A01      01680         XORLW   0x01
02A6 E000      01681         BZ      _01371_DS_
02A8 D000      01682         BRA     _01324_DS_
02AA 01683 _01371_DS_:
02AA C000 FFE9 01684         MOVFF   r0x03, FSR0L
02AE C000 FFF3 01685         MOVFF   r0x04, PRODL
02B2 5000      01686         MOVF    r0x05, W
02B4 EC00 F000 01687         CALL    __gptrget1
               01688 ; #     MOVWF   r0x0c
               01689 ; #     MOVF    r0x0c, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02B8 0A07      01690         XORLW   0x07
02BA E000      01691         BZ      _01323_DS_
02BC D000      01692         BRA     _01324_DS_
02BE 01693 _01323_DS_:
               01694 ;       .line   406; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[from[0]][from[1]] = EMPTY;
02BE C000 FFE9 01695         MOVFF   r0x00, FSR0L
02C2 C000 FFF3 01696         MOVFF   r0x01, PRODL
02C6 5000      01697         MOVF    r0x02, W
02C8 EC00 F000 01698         CALL    __gptrget1
               01699 ; #     MOVWF   r0x0c
               01700 ; #;;multiply lit val:0x08 by variable r0x0c and store in r0x0c
               01701 ; #;;Unrolled 8 X 8 multiplication
               01702 ; #;;FIXME: the function does not support result==WREG
               01703 ; #     MOVF    r0x0c, W
02CC 0D08      01704         MULLW   0x08
02CE CFF3 F000 01705         MOVFF   PRODL, r0x0c
02D2 6A00      01706         CLRF    r0x0d
Error [113] : Symbol not previously defined (_board).
02D4 0E00      01707         MOVLW   LOW(_board)
02D6 2600      01708         ADDWF   r0x0c, F
Error [113] : Symbol not previously defined (_board).
02D8 0E00      01709         MOVLW   HIGH(_board)
02DA 2200      01710         ADDWFC  r0x0d, F
02DC 5000      01711         MOVF    r0x00, W
02DE 0F01      01712         ADDLW   0x01
02E0 6E00      01713         MOVWF   r0x0e
02E2 0E00      01714         MOVLW   0x00
02E4 2000      01715         ADDWFC  r0x01, W
02E6 6E00      01716         MOVWF   r0x0f
02E8 0E00      01717         MOVLW   0x00
02EA 2000      01718         ADDWFC  r0x02, W
02EC C000 FFE9 01719         MOVFF   r0x0e, FSR0L
02F0 C000 FFF3 01720         MOVFF   r0x0f, PRODL
02F4 EC00 F000 01721         CALL    __gptrget1
               01722 ; #     MOVWF   r0x0e
               01723 ; #     MOVF    r0x0e, W
02F8 2600      01724         ADDWF   r0x0c, F
02FA 6AE8      01725         CLRF    WREG
02FC 2200      01726         ADDWFC  r0x0d, F
02FE C000 FFE9 01727         MOVFF   r0x0c, FSR0L
0302 C000 FFEA 01728         MOVFF   r0x0d, FSR0H
0306 6AEF      01729         CLRF    INDF0
               01730 ;       .line   407; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][to[1]] = QUEEN |(p&0x08);
0308 C000 FFE9 01731         MOVFF   r0x03, FSR0L
030C C000 FFF3 01732         MOVFF   r0x04, PRODL
0310 5000      01733         MOVF    r0x05, W
0312 EC00 F000 01734         CALL    __gptrget1
               01735 ; #     MOVWF   r0x0c
               01736 ; #;;multiply lit val:0x08 by variable r0x0c and store in r0x0c
               01737 ; #;;Unrolled 8 X 8 multiplication
               01738 ; #;;FIXME: the function does not support result==WREG
               01739 ; #     MOVF    r0x0c, W
0316 0D08      01740         MULLW   0x08
0318 CFF3 F000 01741         MOVFF   PRODL, r0x0c
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
031C 6A00      01742         CLRF    r0x0d
Error [113] : Symbol not previously defined (_board).
031E 0E00      01743         MOVLW   LOW(_board)
0320 2600      01744         ADDWF   r0x0c, F
Error [113] : Symbol not previously defined (_board).
0322 0E00      01745         MOVLW   HIGH(_board)
0324 2200      01746         ADDWFC  r0x0d, F
0326 5000      01747         MOVF    r0x03, W
0328 0F01      01748         ADDLW   0x01
032A 6E00      01749         MOVWF   r0x0e
032C 0E00      01750         MOVLW   0x00
032E 2000      01751         ADDWFC  r0x04, W
0330 6E00      01752         MOVWF   r0x0f
0332 0E00      01753         MOVLW   0x00
0334 2000      01754         ADDWFC  r0x05, W
0336 C000 FFE9 01755         MOVFF   r0x0e, FSR0L
033A C000 FFF3 01756         MOVFF   r0x0f, PRODL
033E EC00 F000 01757         CALL    __gptrget1
               01758 ; #     MOVWF   r0x0e
               01759 ; #     MOVF    r0x0e, W
0342 2600      01760         ADDWF   r0x0c, F
0344 6AE8      01761         CLRF    WREG
0346 2200      01762         ADDWFC  r0x0d, F
0348 0E05      01763         MOVLW   0x05
034A 1200      01764         IORWF   r0x07, F
034C C000 FFE9 01765         MOVFF   r0x0c, FSR0L
0350 C000 FFEA 01766         MOVFF   r0x0d, FSR0H
0354 C000 FFEF 01767         MOVFF   r0x07, INDF0
0358 D000      01768         BRA     _01331_DS_
035A 01769 _01324_DS_:
               01770 ;       .line   412; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (board[to[0]][to[1]] != EMPTY);
035A C000 FFE9 01771         MOVFF   r0x03, FSR0L
035E C000 FFF3 01772         MOVFF   r0x04, PRODL
0362 5000      01773         MOVF    r0x05, W
0364 EC00 F000 01774         CALL    __gptrget1
               01775 ; #     MOVWF   r0x07
               01776 ; #;;multiply lit val:0x08 by variable r0x07 and store in r0x07
               01777 ; #;;Unrolled 8 X 8 multiplication
               01778 ; #;;FIXME: the function does not support result==WREG
               01779 ; #     MOVF    r0x07, W
0368 0D08      01780         MULLW   0x08
036A CFF3 F000 01781         MOVFF   PRODL, r0x07
036E 6A00      01782         CLRF    r0x0c
Error [113] : Symbol not previously defined (_board).
0370 0E00      01783         MOVLW   LOW(_board)
0372 2600      01784         ADDWF   r0x07, F
Error [113] : Symbol not previously defined (_board).
0374 0E00      01785         MOVLW   HIGH(_board)
0376 2200      01786         ADDWFC  r0x0c, F
0378 2A00      01787         INCF    r0x03, F
037A B0D8      01788         BTFSC   STATUS, 0
037C 2A00      01789         INCF    r0x04, F
037E B0D8      01790         BTFSC   STATUS, 0
0380 2A00      01791         INCF    r0x05, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0382 C000 FFE9 01792         MOVFF   r0x03, FSR0L
0386 C000 FFF3 01793         MOVFF   r0x04, PRODL
038A 5000      01794         MOVF    r0x05, W
038C EC00 F000 01795         CALL    __gptrget1
               01796 ; #     MOVWF   r0x03
               01797 ; #     MOVF    r0x03, W
0390 2600      01798         ADDWF   r0x07, F
0392 6AE8      01799         CLRF    WREG
0394 2200      01800         ADDWFC  r0x0c, F
               01801 ;       .line   413; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[from[0]][from[1]] = EMPTY;
0396 C000 FFE9 01802         MOVFF   r0x00, FSR0L
039A C000 FFF3 01803         MOVFF   r0x01, PRODL
039E 5000      01804         MOVF    r0x02, W
03A0 EC00 F000 01805         CALL    __gptrget1
               01806 ; #     MOVWF   r0x03
               01807 ; #;;multiply lit val:0x08 by variable r0x03 and store in r0x03
               01808 ; #;;Unrolled 8 X 8 multiplication
               01809 ; #;;FIXME: the function does not support result==WREG
               01810 ; #     MOVF    r0x03, W
03A4 0D08      01811         MULLW   0x08
03A6 CFF3 F000 01812         MOVFF   PRODL, r0x03
03AA 6A00      01813         CLRF    r0x04
Error [113] : Symbol not previously defined (_board).
03AC 0E00      01814         MOVLW   LOW(_board)
03AE 2600      01815         ADDWF   r0x03, F
Error [113] : Symbol not previously defined (_board).
03B0 0E00      01816         MOVLW   HIGH(_board)
03B2 2200      01817         ADDWFC  r0x04, F
03B4 5000      01818         MOVF    r0x00, W
03B6 0F01      01819         ADDLW   0x01
03B8 6E00      01820         MOVWF   r0x05
03BA 0E00      01821         MOVLW   0x00
03BC 2000      01822         ADDWFC  r0x01, W
03BE 6E00      01823         MOVWF   r0x0d
03C0 0E00      01824         MOVLW   0x00
03C2 2000      01825         ADDWFC  r0x02, W
03C4 C000 FFE9 01826         MOVFF   r0x05, FSR0L
03C8 C000 FFF3 01827         MOVFF   r0x0d, PRODL
03CC EC00 F000 01828         CALL    __gptrget1
               01829 ; #     MOVWF   r0x05
               01830 ; #     MOVF    r0x05, W
03D0 2600      01831         ADDWF   r0x03, F
03D2 6AE8      01832         CLRF    WREG
03D4 2200      01833         ADDWFC  r0x04, F
03D6 C000 FFE9 01834         MOVFF   r0x03, FSR0L
03DA C000 FFEA 01835         MOVFF   r0x04, FSR0H
03DE 6AEF      01836         CLRF    INDF0
               01837 ;       .line   414; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][to[1]] = p;
03E0 C000 FFE9 01838         MOVFF   r0x07, FSR0L
03E4 C000 FFEA 01839         MOVFF   r0x0c, FSR0H
03E8 C000 FFEF 01840         MOVFF   r0x06, INDF0
03EC 01841 _01331_DS_:
               01842 ;       .line   418; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if ((from[0] == baserow) && ((*basemask) & (1 << from[1])))
03EC C000 FFE9 01843         MOVFF   r0x00, FSR0L
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
03F0 C000 FFF3 01844         MOVFF   r0x01, PRODL
03F4 5000      01845         MOVF    r0x02, W
03F6 EC00 F000 01846         CALL    __gptrget1
               01847 ; #     MOVWF   r0x03
               01848 ; #     MOVF    r0x03, W
03FA 1800      01849         XORWF   r0x0b, W
03FC E000      01850         BZ      _01376_DS_
03FE D000      01851         BRA     _01335_DS_
0400 01852 _01376_DS_:
0400 C000 FFE9 01853         MOVFF   r0x08, FSR0L
0404 C000 FFF3 01854         MOVFF   r0x09, PRODL
0408 5000      01855         MOVF    r0x0a, W
040A EC00 F000 01856         CALL    __gptrget1
040E 6E00      01857         MOVWF   r0x03
0410 2A00      01858         INCF    r0x00, F
0412 B0D8      01859         BTFSC   STATUS, 0
0414 2A00      01860         INCF    r0x01, F
0416 B0D8      01861         BTFSC   STATUS, 0
0418 2A00      01862         INCF    r0x02, F
041A C000 FFE9 01863         MOVFF   r0x00, FSR0L
041E C000 FFF3 01864         MOVFF   r0x01, PRODL
0422 5000      01865         MOVF    r0x02, W
0424 EC00 F000 01866         CALL    __gptrget1
0428 6E00      01867         MOVWF   r0x00
042A 0E01      01868         MOVLW   0x01
042C 6E00      01869         MOVWF   r0x01
042E 6A00      01870         CLRF    r0x02
0430 5000      01871         MOVF    r0x00, W
0432 E000      01872         BZ      _01377_DS_
0434 6CE8      01873         NEGF    WREG
0436 90D8      01874         BCF     STATUS, 0
0438 01875 _01378_DS_:
0438 3600      01876         RLCF    r0x01, F
043A 3600      01877         RLCF    r0x02, F
043C 0F01      01878         ADDLW   0x01
043E E300      01879         BNC     _01378_DS_
0440 01880 _01377_DS_:
0440 C000 F000 01881         MOVFF   r0x03, r0x04
0444 6A00      01882         CLRF    r0x05
0446 5000      01883         MOVF    r0x04, W
0448 1600      01884         ANDWF   r0x01, F
044A 5000      01885         MOVF    r0x05, W
044C 1600      01886         ANDWF   r0x02, F
044E 5000      01887         MOVF    r0x01, W
0450 1000      01888         IORWF   r0x02, W
0452 E000      01889         BZ      _01335_DS_
               01890 ;       .line   419; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c (*basemask) &= ~(1 << from[1]);
0454 0E01      01891         MOVLW   0x01
0456 6E00      01892         MOVWF   r0x01
0458 5000      01893         MOVF    r0x00, W
045A E000      01894         BZ      _01379_DS_
045C 6CE8      01895         NEGF    WREG
045E 90D8      01896         BCF     STATUS, 0
0460 01897 _01380_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0460 3600      01898         RLCF    r0x01, F
0462 0F01      01899         ADDLW   0x01
0464 E300      01900         BNC     _01380_DS_
0466 01901 _01379_DS_:
0466 1C00      01902         COMF    r0x01, W
               01903 ; #     MOVWF   r0x00
               01904 ; #     MOVF    r0x00, W
0468 1600      01905         ANDWF   r0x03, F
046A C000 FFE5 01906         MOVFF   r0x03, POSTDEC1
046E C000 FFE9 01907         MOVFF   r0x08, FSR0L
0472 C000 FFF3 01908         MOVFF   r0x09, PRODL
0476 5000      01909         MOVF    r0x0a, W
0478 EC00 F000 01910         CALL    __gptrput1
047C 01911 _01335_DS_:
047C CFE4 F000 01912         MOVFF   PREINC1, r0x11
0480 CFE4 F000 01913         MOVFF   PREINC1, r0x10
0484 CFE4 F000 01914         MOVFF   PREINC1, r0x0f
0488 CFE4 F000 01915         MOVFF   PREINC1, r0x0e
048C CFE4 F000 01916         MOVFF   PREINC1, r0x0d
0490 CFE4 F000 01917         MOVFF   PREINC1, r0x0c
0494 CFE4 F000 01918         MOVFF   PREINC1, r0x0b
0498 CFE4 F000 01919         MOVFF   PREINC1, r0x0a
049C CFE4 F000 01920         MOVFF   PREINC1, r0x09
04A0 CFE4 F000 01921         MOVFF   PREINC1, r0x08
04A4 CFE4 F000 01922         MOVFF   PREINC1, r0x07
04A8 CFE4 F000 01923         MOVFF   PREINC1, r0x06
04AC CFE4 F000 01924         MOVFF   PREINC1, r0x05
04B0 CFE4 F000 01925         MOVFF   PREINC1, r0x04
04B4 CFE4 F000 01926         MOVFF   PREINC1, r0x03
04B8 CFE4 F000 01927         MOVFF   PREINC1, r0x02
04BC CFE4 F000 01928         MOVFF   PREINC1, r0x01
04C0 CFE4 F000 01929         MOVFF   PREINC1, r0x00
04C4 CFE4 FFD9 01930         MOVFF   PREINC1, FSR2L
04C8 0012      01931         RETURN  
               01932 
               01933 ; ; Starting pCode block
               01934 S_main__rate_move       code
0000 01935 _rate_move:
               01936 ;       .line   341; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c int rate_move(PIECE piece, LOC to,unsigned char posrate)
0000 CFD9 FFE5 01937         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 01938         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 01939         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 01940         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 01941         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 01942         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 01943         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 01944         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 01945         MOVFF   r0x06, POSTDEC1
0024 0E02      01946         MOVLW   0x02
0026 CFDB F000 01947         MOVFF   PLUSW2, r0x00
002A 0E03      01948         MOVLW   0x03
002C CFDB F000 01949         MOVFF   PLUSW2, r0x01
0030 0E04      01950         MOVLW   0x04
0032 CFDB F000 01951         MOVFF   PLUSW2, r0x02
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0036 0E05      01952         MOVLW   0x05
0038 CFDB F000 01953         MOVFF   PLUSW2, r0x03
003C 0E06      01954         MOVLW   0x06
003E CFDB F000 01955         MOVFF   PLUSW2, r0x04
               01956 ;       .line   346; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c value = ((piece & 0x07)== KING) ? 0 : (piece&0x07);    
0042 0E07      01957         MOVLW   0x07
0044 1600      01958         ANDWF   r0x00, F
0046 5000      01959         MOVF    r0x00, W
0048 0A06      01960         XORLW   0x06
004A E100      01961         BNZ     _01295_DS_
004C 6A00      01962         CLRF    r0x05
004E D000      01963         BRA     _01296_DS_
0050 01964 _01295_DS_:
0050 C000 F000 01965         MOVFF   r0x00, r0x05
0054 01966 _01296_DS_:
0054 C000 F000 01967         MOVFF   r0x05, r0x00
               01968 ;       .line   348; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c switch (movetype)
0058 0E01      01969         MOVLW   0x01
005A 0000      01970         BANKSEL _movetype
005C 5D00      01971         SUBWF   _movetype, W, B
005E A0D8      01972         BTFSS   STATUS, 0
0060 D000      01973         BRA     _01291_DS_
0062 0E05      01974         MOVLW   0x05
               01975 ; removed redundant BANKSEL
0064 5D00      01976         SUBWF   _movetype, W, B
0066 B0D8      01977         BTFSC   STATUS, 0
0068 D000      01978         BRA     _01291_DS_
               01979 ; removed redundant BANKSEL
006A 0500      01980         DECF    _movetype, W, B
006C 6E00      01981         MOVWF   r0x05
006E C000 FFE5 01982         MOVFF   r0x07, POSTDEC1
0072 C000 FFE5 01983         MOVFF   r0x08, POSTDEC1
0076 6A00      01984         CLRF    r0x08
0078 3400      01985         RLCF    r0x05, W
007A 3600      01986         RLCF    r0x08, F
007C 34E8      01987         RLCF    WREG, W
007E 3600      01988         RLCF    r0x08, F
0080 0BFC      01989         ANDLW   0xfc
0082 6E00      01990         MOVWF   r0x07
0084 0E00      01991         MOVLW   UPPER(_01308_DS_)
0086 6EFB      01992         MOVWF   PCLATU
0088 0E00      01993         MOVLW   HIGH(_01308_DS_)
008A 6EFA      01994         MOVWF   PCLATH
008C 0E00      01995         MOVLW   LOW(_01308_DS_)
008E 2600      01996         ADDWF   r0x07, F
0090 5000      01997         MOVF    r0x08, W
0092 22FA      01998         ADDWFC  PCLATH, F
0094 B0D8      01999         BTFSC   STATUS, 0
0096 2AFB      02000         INCF    PCLATU, F
0098 5000      02001         MOVF    r0x07, W
009A CFE4 F000 02002         MOVFF   PREINC1, r0x08
009E CFE4 F000 02003         MOVFF   PREINC1, r0x07
00A2 6EF9      02004         MOVWF   PCL
00A4 02005 _01308_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00A4 EF00 F000 02006         GOTO    _01287_DS_
00A8 EF00 F000 02007         GOTO    _01288_DS_
00AC EF00 F000 02008         GOTO    _01290_DS_
00B0 EF00 F000 02009         GOTO    _01289_DS_
00B4 02010 _01287_DS_:
               02011 ;       .line   351; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c rating = (6-value) + posrate/2;  
00B4 5000      02012         MOVF    r0x00, W
00B6 0806      02013         SUBLW   0x06
00B8 6E00      02014         MOVWF   r0x05
00BA 4000      02015         RRNCF   r0x04, W
00BC 0B7F      02016         ANDLW   0x7f
               02017 ; #     MOVWF   r0x06
               02018 ; #     MOVF    r0x06, W
00BE 2600      02019         ADDWF   r0x05, F
               02020 ;       .line   352; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c break;
00C0 D000      02021         BRA     _01292_DS_
00C2 02022 _01288_DS_:
               02023 ;       .line   354; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c rating = (value)+((8-posrate));      
00C2 5000      02024         MOVF    r0x04, W
00C4 0808      02025         SUBLW   0x08
               02026 ; #     MOVWF   r0x04
               02027 ; #     MOVF    r0x04, W
00C6 2400      02028         ADDWF   r0x00, W
00C8 6E00      02029         MOVWF   r0x05
               02030 ;       .line   355; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c break;
00CA D000      02031         BRA     _01292_DS_
00CC 02032 _01289_DS_:
               02033 ;       .line   357; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c rating = 14;                            
00CC 0E0E      02034         MOVLW   0x0e
00CE 6E00      02035         MOVWF   r0x05
               02036 ;       .line   358; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c break;
00D0 D000      02037         BRA     _01292_DS_
00D2 02038 _01290_DS_:
               02039 ;       .line   361; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c tmp = (board[to[0]][to[1]]&0x07)-(value);
00D2 C000 FFE9 02040         MOVFF   r0x01, FSR0L
00D6 C000 FFF3 02041         MOVFF   r0x02, PRODL
00DA 5000      02042         MOVF    r0x03, W
00DC EC00 F000 02043         CALL    __gptrget1
               02044 ; #     MOVWF   r0x04
               02045 ; #;;multiply lit val:0x08 by variable r0x04 and store in r0x04
               02046 ; #;;Unrolled 8 X 8 multiplication
               02047 ; #;;FIXME: the function does not support result==WREG
               02048 ; #     MOVF    r0x04, W
00E0 0D08      02049         MULLW   0x08
00E2 CFF3 F000 02050         MOVFF   PRODL, r0x04
00E6 6A00      02051         CLRF    r0x06
Error [113] : Symbol not previously defined (_board).
00E8 0E00      02052         MOVLW   LOW(_board)
00EA 2600      02053         ADDWF   r0x04, F
Error [113] : Symbol not previously defined (_board).
00EC 0E00      02054         MOVLW   HIGH(_board)
00EE 2200      02055         ADDWFC  r0x06, F
00F0 2A00      02056         INCF    r0x01, F
00F2 B0D8      02057         BTFSC   STATUS, 0
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00F4 2A00      02058         INCF    r0x02, F
00F6 B0D8      02059         BTFSC   STATUS, 0
00F8 2A00      02060         INCF    r0x03, F
00FA C000 FFE9 02061         MOVFF   r0x01, FSR0L
00FE C000 FFF3 02062         MOVFF   r0x02, PRODL
0102 5000      02063         MOVF    r0x03, W
0104 EC00 F000 02064         CALL    __gptrget1
               02065 ; #     MOVWF   r0x01
               02066 ; #     MOVF    r0x01, W
0108 2600      02067         ADDWF   r0x04, F
010A 6AE8      02068         CLRF    WREG
010C 2200      02069         ADDWFC  r0x06, F
010E C000 FFE9 02070         MOVFF   r0x04, FSR0L
0112 C000 FFEA 02071         MOVFF   r0x06, FSR0H
0116 CFEF F000 02072         MOVFF   INDF0, r0x04
011A 0E07      02073         MOVLW   0x07
011C 1600      02074         ANDWF   r0x04, F
011E 5000      02075         MOVF    r0x00, W
0120 5C00      02076         SUBWF   r0x04, W
0122 6E00      02077         MOVWF   r0x00
               02078 ;       .line   362; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c rating = (tmp < 249) ? 12 : 4;
0124 0EF9      02079         MOVLW   0xf9
0126 5C00      02080         SUBWF   r0x00, W
0128 E200      02081         BC      _01297_DS_
012A 0E0C      02082         MOVLW   0x0c
012C 6E00      02083         MOVWF   r0x00
012E D000      02084         BRA     _01298_DS_
0130 02085 _01297_DS_:
0130 0E04      02086         MOVLW   0x04
0132 6E00      02087         MOVWF   r0x00
0134 02088 _01298_DS_:
0134 C000 F000 02089         MOVFF   r0x00, r0x05
               02090 ;       .line   363; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c break; 
0138 D000      02091         BRA     _01292_DS_
013A 02092 _01291_DS_:
               02093 ;       .line   365; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c rating = 0;
013A 6A00      02094         CLRF    r0x05
               02095 ; =DF= MOVFF: replaced by CRLF/SETF
013C 02096 _01292_DS_:
               02097 ;       .line   368; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c return rating;
013C 6AF3      02098         CLRF    PRODL
013E 5000      02099         MOVF    r0x05, W
0140 CFE4 F000 02100         MOVFF   PREINC1, r0x06
0144 CFE4 F000 02101         MOVFF   PREINC1, r0x05
0148 CFE4 F000 02102         MOVFF   PREINC1, r0x04
014C CFE4 F000 02103         MOVFF   PREINC1, r0x03
0150 CFE4 F000 02104         MOVFF   PREINC1, r0x02
0154 CFE4 F000 02105         MOVFF   PREINC1, r0x01
0158 CFE4 F000 02106         MOVFF   PREINC1, r0x00
015C CFE4 FFD9 02107         MOVFF   PREINC1, FSR2L
0160 0012      02108         RETURN  
               02109 
               02110 ; ; Starting pCode block
               02111 S_main__test_singlemove code
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0000 02112 _test_singlemove:
               02113 ;       .line   289; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c BOOL test_singlemove(LOC from,LOC to,PIECE p)
0000 CFD9 FFE5 02114         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 02115         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 02116         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 02117         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 02118         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 02119         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 02120         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 02121         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 02122         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 02123         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 02124         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 02125         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 02126         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 02127         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 02128         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 02129         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 02130         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 02131         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 02132         MOVFF   r0x10, POSTDEC1
004C C000 FFE5 02133         MOVFF   r0x11, POSTDEC1
0050 C000 FFE5 02134         MOVFF   r0x12, POSTDEC1
0054 C000 FFE5 02135         MOVFF   r0x13, POSTDEC1
0058 C000 FFE5 02136         MOVFF   r0x14, POSTDEC1
005C C000 FFE5 02137         MOVFF   r0x15, POSTDEC1
0060 C000 FFE5 02138         MOVFF   r0x16, POSTDEC1
0064 C000 FFE5 02139         MOVFF   r0x17, POSTDEC1
0068 C000 FFE5 02140         MOVFF   r0x18, POSTDEC1
006C C000 FFE5 02141         MOVFF   r0x19, POSTDEC1
0070 C000 FFE5 02142         MOVFF   r0x1a, POSTDEC1
0074 C000 FFE5 02143         MOVFF   r0x1b, POSTDEC1
0078 C000 FFE5 02144         MOVFF   r0x1c, POSTDEC1
007C C000 FFE5 02145         MOVFF   r0x1d, POSTDEC1
0080 C000 FFE5 02146         MOVFF   r0x1e, POSTDEC1
0084 0E02      02147         MOVLW   0x02
0086 CFDB F000 02148         MOVFF   PLUSW2, r0x00
008A 0E03      02149         MOVLW   0x03
008C CFDB F000 02150         MOVFF   PLUSW2, r0x01
0090 0E04      02151         MOVLW   0x04
0092 CFDB F000 02152         MOVFF   PLUSW2, r0x02
0096 0E05      02153         MOVLW   0x05
0098 CFDB F000 02154         MOVFF   PLUSW2, r0x03
009C 0E06      02155         MOVLW   0x06
009E CFDB F000 02156         MOVFF   PLUSW2, r0x04
00A2 0E07      02157         MOVLW   0x07
00A4 CFDB F000 02158         MOVFF   PLUSW2, r0x05
00A8 0E08      02159         MOVLW   0x08
00AA CFDB F000 02160         MOVFF   PLUSW2, r0x06
               02161 ;       .line   296; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if ((p & 0x07) == KING) updatekingpos(to,(p & 0x08));
00AE 0E07      02162         MOVLW   0x07
00B0 1400      02163         ANDWF   r0x06, W
               02164 ; #     MOVWF   r0x07
               02165 ; #     MOVF    r0x07, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00B2 0A06      02166         XORLW   0x06
00B4 E100      02167         BNZ     _01273_DS_
00B6 6A00      02168         CLRF    r0x07
00B8 2A00      02169         INCF    r0x07, F
00BA D000      02170         BRA     _01274_DS_
00BC 02171 _01273_DS_:
00BC 6A00      02172         CLRF    r0x07
00BE 02173 _01274_DS_:
00BE 5000      02174         MOVF    r0x07, W
00C0 E000      02175         BZ      _01242_DS_
00C2 0E08      02176         MOVLW   0x08
00C4 1400      02177         ANDWF   r0x06, W
               02178 ; #     MOVWF   r0x08
               02179 ; #     MOVF    r0x08, W
00C6 6EE5      02180         MOVWF   POSTDEC1
00C8 5000      02181         MOVF    r0x05, W
00CA 6EE5      02182         MOVWF   POSTDEC1
00CC 5000      02183         MOVF    r0x04, W
00CE 6EE5      02184         MOVWF   POSTDEC1
00D0 5000      02185         MOVF    r0x03, W
00D2 6EE5      02186         MOVWF   POSTDEC1
00D4 EC00 F000 02187         CALL    _updatekingpos
00D8 0E04      02188         MOVLW   0x04
00DA 26E1      02189         ADDWF   FSR1L, F
00DC 02190 _01242_DS_:
               02191 ;       .line   299; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c tmpdest = board[to[0]][to[1]];
00DC C000 FFE9 02192         MOVFF   r0x03, FSR0L
00E0 C000 FFF3 02193         MOVFF   r0x04, PRODL
00E4 5000      02194         MOVF    r0x05, W
00E6 EC00 F000 02195         CALL    __gptrget1
               02196 ; #     MOVWF   r0x08
               02197 ; #;;multiply lit val:0x08 by variable r0x08 and store in r0x08
               02198 ; #;;Unrolled 8 X 8 multiplication
               02199 ; #;;FIXME: the function does not support result==WREG
               02200 ; #     MOVF    r0x08, W
00EA 0D08      02201         MULLW   0x08
00EC CFF3 F000 02202         MOVFF   PRODL, r0x08
00F0 6A00      02203         CLRF    r0x09
Error [113] : Symbol not previously defined (_board).
00F2 0E00      02204         MOVLW   LOW(_board)
00F4 2600      02205         ADDWF   r0x08, F
Error [113] : Symbol not previously defined (_board).
00F6 0E00      02206         MOVLW   HIGH(_board)
00F8 2200      02207         ADDWFC  r0x09, F
00FA 5000      02208         MOVF    r0x03, W
00FC 0F01      02209         ADDLW   0x01
00FE 6E00      02210         MOVWF   r0x0a
0100 0E00      02211         MOVLW   0x00
0102 2000      02212         ADDWFC  r0x04, W
0104 6E00      02213         MOVWF   r0x0b
0106 0E00      02214         MOVLW   0x00
0108 2000      02215         ADDWFC  r0x05, W
010A 6E00      02216         MOVWF   r0x0c
010C C000 FFE9 02217         MOVFF   r0x0a, FSR0L
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0110 C000 FFF3 02218         MOVFF   r0x0b, PRODL
0114 EC00 F000 02219         CALL    __gptrget1
               02220 ; #     MOVWF   r0x0d
               02221 ; #     MOVF    r0x0d, W
0118 2600      02222         ADDWF   r0x08, F
011A 6AE8      02223         CLRF    WREG
011C 2200      02224         ADDWFC  r0x09, F
011E C000 FFE9 02225         MOVFF   r0x08, FSR0L
0122 C000 FFEA 02226         MOVFF   r0x09, FSR0H
0126 CFEF F000 02227         MOVFF   INDF0, r0x0d
               02228 ;       .line   302; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[from[0]][from[1]] = EMPTY;
012A C000 FFE9 02229         MOVFF   r0x00, FSR0L
012E C000 FFF3 02230         MOVFF   r0x01, PRODL
0132 5000      02231         MOVF    r0x02, W
0134 EC00 F000 02232         CALL    __gptrget1
               02233 ; #     MOVWF   r0x0e
               02234 ; #;;multiply lit val:0x08 by variable r0x0e and store in r0x0e
               02235 ; #;;Unrolled 8 X 8 multiplication
               02236 ; #;;FIXME: the function does not support result==WREG
               02237 ; #     MOVF    r0x0e, W
0138 0D08      02238         MULLW   0x08
013A CFF3 F000 02239         MOVFF   PRODL, r0x0e
013E 6A00      02240         CLRF    r0x0f
Error [113] : Symbol not previously defined (_board).
0140 0E00      02241         MOVLW   LOW(_board)
0142 2600      02242         ADDWF   r0x0e, F
Error [113] : Symbol not previously defined (_board).
0144 0E00      02243         MOVLW   HIGH(_board)
0146 2200      02244         ADDWFC  r0x0f, F
0148 5000      02245         MOVF    r0x00, W
014A 0F01      02246         ADDLW   0x01
014C 6E00      02247         MOVWF   r0x10
014E 0E00      02248         MOVLW   0x00
0150 2000      02249         ADDWFC  r0x01, W
0152 6E00      02250         MOVWF   r0x11
0154 0E00      02251         MOVLW   0x00
0156 2000      02252         ADDWFC  r0x02, W
0158 6E00      02253         MOVWF   r0x12
015A C000 FFE9 02254         MOVFF   r0x10, FSR0L
015E C000 FFF3 02255         MOVFF   r0x11, PRODL
0162 EC00 F000 02256         CALL    __gptrget1
               02257 ; #     MOVWF   r0x13
               02258 ; #     MOVF    r0x13, W
0166 2600      02259         ADDWF   r0x0e, F
0168 6AE8      02260         CLRF    WREG
016A 2200      02261         ADDWFC  r0x0f, F
016C C000 FFE9 02262         MOVFF   r0x0e, FSR0L
0170 C000 FFEA 02263         MOVFF   r0x0f, FSR0H
0174 6AEF      02264         CLRF    INDF0
               02265 ;       .line   303; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][to[1]] = p;
0176 C000 FFE9 02266         MOVFF   r0x08, FSR0L
017A C000 FFEA 02267         MOVFF   r0x09, FSR0H
017E C000 FFEF 02268         MOVFF   r0x06, INDF0
Error [113] : Symbol not previously defined (_kingcapture).
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0182 0100      02269         BANKSEL _kingcapture
               02270 ;       .line   306; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c kingcapture = FALSE;
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
0184 6B00      02271         CLRF    _kingcapture, B
               02272 ;       .line   307; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c i = j = 0;
0186 6A00      02273         CLRF    r0x08
0188 6A00      02274         CLRF    r0x09
               02275 ;       .line   309; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c while ((i < 8) && (!kingcapture))
018A 0E08      02276         MOVLW   0x08
018C 1400      02277         ANDWF   r0x06, W
018E 6E00      02278         MOVWF   r0x0e
0190 3800      02279         SWAPF   r0x0e, W
0192 44E8      02280         RLNCF   WREG, W
0194 0B1F      02281         ANDLW   0x1f
0196 6E00      02282         MOVWF   r0x0f
0198 6A00      02283         CLRF    r0x13
019A 6A00      02284         CLRF    r0x14
019C 6A00      02285         CLRF    r0x15
019E 6A00      02286         CLRF    r0x16
01A0 02287 _01251_DS_:
01A0 5000      02288         MOVF    r0x14, W
01A2 0F80      02289         ADDLW   0x80
01A4 0F80      02290         ADDLW   0x80
01A6 E100      02291         BNZ     _01277_DS_
01A8 0E08      02292         MOVLW   0x08
01AA 5C00      02293         SUBWF   r0x13, W
01AC 02294 _01277_DS_:
01AC B0D8      02295         BTFSC   STATUS, 0
01AE D000      02296         BRA     _01253_DS_
Error [113] : Symbol not previously defined (_kingcapture).
01B0 0100      02297         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01B2 5100      02298         MOVF    _kingcapture, W, B
01B4 A4D8      02299         BTFSS   STATUS, 2
01B6 D000      02300         BRA     _01253_DS_
               02301 ;       .line   312; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c while ((j < 8) && (!kingcapture))
Error [113] : Symbol not previously defined (_board).
01B8 0E00      02302         MOVLW   LOW(_board)
01BA 2400      02303         ADDWF   r0x15, W
01BC 6E00      02304         MOVWF   r0x17
Error [113] : Symbol not previously defined (_board).
01BE 0E00      02305         MOVLW   HIGH(_board)
01C0 2000      02306         ADDWFC  r0x16, W
01C2 6E00      02307         MOVWF   r0x18
01C4 C000 F000 02308         MOVFF   r0x08, r0x19
01C8 C000 F000 02309         MOVFF   r0x09, r0x1a
01CC 02310 _01247_DS_:
01CC 5000      02311         MOVF    r0x1a, W
01CE 0F80      02312         ADDLW   0x80
01D0 0F80      02313         ADDLW   0x80
01D2 E100      02314         BNZ     _01278_DS_
01D4 0E08      02315         MOVLW   0x08
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01D6 5C00      02316         SUBWF   r0x19, W
01D8 02317 _01278_DS_:
01D8 B0D8      02318         BTFSC   STATUS, 0
01DA D000      02319         BRA     _01249_DS_
Error [113] : Symbol not previously defined (_kingcapture).
01DC 0100      02320         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01DE 5100      02321         MOVF    _kingcapture, W, B
01E0 A4D8      02322         BTFSS   STATUS, 2
01E2 D000      02323         BRA     _01249_DS_
               02324 ;       .line   315; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (is_opp_piece(i,j,(p&0x08)))
01E4 5000      02325         MOVF    r0x19, W
01E6 2400      02326         ADDWF   r0x17, W
01E8 6E00      02327         MOVWF   r0x1b
01EA 5000      02328         MOVF    r0x1a, W
01EC 2000      02329         ADDWFC  r0x18, W
01EE 6E00      02330         MOVWF   r0x1c
01F0 C000 FFE9 02331         MOVFF   r0x1b, FSR0L
01F4 C000 FFEA 02332         MOVFF   r0x1c, FSR0H
01F8 CFEF F000 02333         MOVFF   INDF0, r0x1b
01FC 0E08      02334         MOVLW   0x08
01FE 1400      02335         ANDWF   r0x1b, W
0200 6E00      02336         MOVWF   r0x1c
0202 3800      02337         SWAPF   r0x1c, W
0204 44E8      02338         RLNCF   WREG, W
0206 0B1F      02339         ANDLW   0x1f
0208 6E00      02340         MOVWF   r0x1c
020A 5000      02341         MOVF    r0x0f, W
020C 1A00      02342         XORWF   r0x1c, F
020E 5000      02343         MOVF    r0x1c, W
0210 E000      02344         BZ      _01244_DS_
0212 5000      02345         MOVF    r0x1b, W
0214 E000      02346         BZ      _01244_DS_
               02347 ; #     MOVF    r0x13, W
               02348 ; #     MOVWF   r0x1c
               02349 ; #     MOVF    r0x1c, W
               02350 ;       .line   317; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c opp_pos[0] = i, opp_pos[1] = j,opp_piece = board[i][j];
0216 5000      02351         MOVF    r0x13, W
0218 0000      02352         BANKSEL _test_singlemove_opp_pos_1_1
021A 6F00      02353         MOVWF   _test_singlemove_opp_pos_1_1, B
               02354 ; #     MOVF    r0x19, W
               02355 ; #     MOVWF   r0x1c
               02356 ; #     MOVF    r0x1c, W
021C 5000      02357         MOVF    r0x19, W
               02358 ; removed redundant BANKSEL
021E 6F00      02359         MOVWF   (_test_singlemove_opp_pos_1_1 + 1), B
               02360 ;       .line   318; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c validate[piecetype(opp_piece)] (opp_pos,(opp_piece & 0x08));
0220 0E07      02361         MOVLW   0x07
0222 1400      02362         ANDWF   r0x1b, W
               02363 ; #     MOVWF   r0x1c
               02364 ; #;;multiply lit val:0x03 by variable r0x1c and store in r0x1c
               02365 ; #;;Unrolled 8 X 8 multiplication
               02366 ; #;;FIXME: the function does not support result==WREG
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               02367 ; #     MOVF    r0x1c, W
0224 0D03      02368         MULLW   0x03
0226 CFF3 F000 02369         MOVFF   PRODL, r0x1c
022A 6A00      02370         CLRF    r0x1d
022C 0E00      02371         MOVLW   LOW(_validate)
022E 2600      02372         ADDWF   r0x1c, F
0230 0E00      02373         MOVLW   HIGH(_validate)
0232 2200      02374         ADDWFC  r0x1d, F
0234 C000 FFE9 02375         MOVFF   r0x1c, FSR0L
0238 C000 FFEA 02376         MOVFF   r0x1d, FSR0H
023C CFEE F000 02377         MOVFF   POSTINC0, r0x1c
0240 CFEE F000 02378         MOVFF   POSTINC0, r0x1d
0244 CFEF F000 02379         MOVFF   INDF0, r0x1e
0248 0E08      02380         MOVLW   0x08
024A 1600      02381         ANDWF   r0x1b, F
024C 5000      02382         MOVF    r0x1b, W
024E 6EE5      02383         MOVWF   POSTDEC1
0250 0E80      02384         MOVLW   0x80
0252 6EE5      02385         MOVWF   POSTDEC1
0254 0E00      02386         MOVLW   HIGH(_test_singlemove_opp_pos_1_1)
0256 6EE5      02387         MOVWF   POSTDEC1
0258 0E00      02388         MOVLW   LOW(_test_singlemove_opp_pos_1_1)
025A 6EE5      02389         MOVWF   POSTDEC1
025C CFF2 FFE5 02390         MOVFF   INTCON, POSTDEC1
0260 9EF2      02391         BCF     INTCON, 7
0262 0005      02392         PUSH    
0264 0E00      02393         MOVLW   LOW(_01282_DS_)
0266 6EFD      02394         MOVWF   TOSL
0268 0E00      02395         MOVLW   HIGH(_01282_DS_)
026A 6EFE      02396         MOVWF   TOSH
026C 0E00      02397         MOVLW   UPPER(_01282_DS_)
026E 6EFF      02398         MOVWF   TOSU
0270 50E4      02399         MOVF    PREINC1, W
0272 6EF2      02400         MOVWF   INTCON
0274 C000 FFFB 02401         MOVFF   r0x1e, PCLATU
0278 C000 FFFA 02402         MOVFF   r0x1d, PCLATH
027C 5000      02403         MOVF    r0x1c, W
027E 6EF9      02404         MOVWF   PCL
0280 02405 _01282_DS_:
0280 0E04      02406         MOVLW   0x04
0282 26E1      02407         ADDWF   FSR1L, F
0284 02408 _01244_DS_:
               02409 ;       .line   320; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c j++;
0284 2A00      02410         INCF    r0x19, F
0286 B0D8      02411         BTFSC   STATUS, 0
0288 2A00      02412         INCF    r0x1a, F
028A D000      02413         BRA     _01247_DS_
028C 02414 _01249_DS_:
               02415 ;       .line   322; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c j = 0;
028C 6A00      02416         CLRF    r0x08
028E 6A00      02417         CLRF    r0x09
               02418 ;       .line   323; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c i++;
0290 0E08      02419         MOVLW   0x08
0292 2600      02420         ADDWF   r0x15, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0294 B0D8      02421         BTFSC   STATUS, 0
0296 2A00      02422         INCF    r0x16, F
0298 2A00      02423         INCF    r0x13, F
029A B0D8      02424         BTFSC   STATUS, 0
029C 2A00      02425         INCF    r0x14, F
029E D000      02426         BRA     _01251_DS_
02A0 02427 _01253_DS_:
               02428 ;       .line   326; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[to[0]][to[1]] = tmpdest;
02A0 C000 FFE9 02429         MOVFF   r0x03, FSR0L
02A4 C000 FFF3 02430         MOVFF   r0x04, PRODL
02A8 5000      02431         MOVF    r0x05, W
02AA EC00 F000 02432         CALL    __gptrget1
               02433 ; #     MOVWF   r0x03
               02434 ; #;;multiply lit val:0x08 by variable r0x03 and store in r0x03
               02435 ; #;;Unrolled 8 X 8 multiplication
               02436 ; #;;FIXME: the function does not support result==WREG
               02437 ; #     MOVF    r0x03, W
02AE 0D08      02438         MULLW   0x08
02B0 CFF3 F000 02439         MOVFF   PRODL, r0x03
02B4 6A00      02440         CLRF    r0x04
Error [113] : Symbol not previously defined (_board).
02B6 0E00      02441         MOVLW   LOW(_board)
02B8 2600      02442         ADDWF   r0x03, F
Error [113] : Symbol not previously defined (_board).
02BA 0E00      02443         MOVLW   HIGH(_board)
02BC 2200      02444         ADDWFC  r0x04, F
02BE C000 FFE9 02445         MOVFF   r0x0a, FSR0L
02C2 C000 FFF3 02446         MOVFF   r0x0b, PRODL
02C6 5000      02447         MOVF    r0x0c, W
02C8 EC00 F000 02448         CALL    __gptrget1
               02449 ; #     MOVWF   r0x0a
               02450 ; #     MOVF    r0x0a, W
02CC 2600      02451         ADDWF   r0x03, F
02CE 6AE8      02452         CLRF    WREG
02D0 2200      02453         ADDWFC  r0x04, F
02D2 C000 FFE9 02454         MOVFF   r0x03, FSR0L
02D6 C000 FFEA 02455         MOVFF   r0x04, FSR0H
02DA C000 FFEF 02456         MOVFF   r0x0d, INDF0
               02457 ;       .line   327; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c board[from[0]][from[1]] = p;
02DE C000 FFE9 02458         MOVFF   r0x00, FSR0L
02E2 C000 FFF3 02459         MOVFF   r0x01, PRODL
02E6 5000      02460         MOVF    r0x02, W
02E8 EC00 F000 02461         CALL    __gptrget1
               02462 ; #     MOVWF   r0x03
               02463 ; #;;multiply lit val:0x08 by variable r0x03 and store in r0x03
               02464 ; #;;Unrolled 8 X 8 multiplication
               02465 ; #;;FIXME: the function does not support result==WREG
               02466 ; #     MOVF    r0x03, W
02EC 0D08      02467         MULLW   0x08
02EE CFF3 F000 02468         MOVFF   PRODL, r0x03
02F2 6A00      02469         CLRF    r0x04
Error [113] : Symbol not previously defined (_board).
02F4 0E00      02470         MOVLW   LOW(_board)
02F6 2600      02471         ADDWF   r0x03, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_board).
02F8 0E00      02472         MOVLW   HIGH(_board)
02FA 2200      02473         ADDWFC  r0x04, F
02FC C000 FFE9 02474         MOVFF   r0x10, FSR0L
0300 C000 FFF3 02475         MOVFF   r0x11, PRODL
0304 5000      02476         MOVF    r0x12, W
0306 EC00 F000 02477         CALL    __gptrget1
               02478 ; #     MOVWF   r0x10
               02479 ; #     MOVF    r0x10, W
030A 2600      02480         ADDWF   r0x03, F
030C 6AE8      02481         CLRF    WREG
030E 2200      02482         ADDWFC  r0x04, F
0310 C000 FFE9 02483         MOVFF   r0x03, FSR0L
0314 C000 FFEA 02484         MOVFF   r0x04, FSR0H
0318 C000 FFEF 02485         MOVFF   r0x06, INDF0
               02486 ;       .line   328; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if ((p & 0x07) == KING)
031C 5000      02487         MOVF    r0x07, W
031E E000      02488         BZ      _01255_DS_
               02489 ;       .line   329; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c updatekingpos(from,(p & 0x08));
0320 5000      02490         MOVF    r0x0e, W
0322 6EE5      02491         MOVWF   POSTDEC1
0324 5000      02492         MOVF    r0x02, W
0326 6EE5      02493         MOVWF   POSTDEC1
0328 5000      02494         MOVF    r0x01, W
032A 6EE5      02495         MOVWF   POSTDEC1
032C 5000      02496         MOVF    r0x00, W
032E 6EE5      02497         MOVWF   POSTDEC1
0330 EC00 F000 02498         CALL    _updatekingpos
0334 0E04      02499         MOVLW   0x04
0336 26E1      02500         ADDWF   FSR1L, F
0338 02501 _01255_DS_:
Error [113] : Symbol not previously defined (_kingcapture).
0338 0100      02502         BANKSEL _kingcapture
               02503 ;       .line   331; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c return (kingcapture) ? FALSE : TRUE;
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
033A 5100      02504         MOVF    _kingcapture, W, B
033C E000      02505         BZ      _01258_DS_
033E 6A00      02506         CLRF    r0x00
0340 D000      02507         BRA     _01259_DS_
0342 02508 _01258_DS_:
0342 0E01      02509         MOVLW   0x01
0344 6E00      02510         MOVWF   r0x00
0346 02511 _01259_DS_:
0346 5000      02512         MOVF    r0x00, W
0348 CFE4 F000 02513         MOVFF   PREINC1, r0x1e
034C CFE4 F000 02514         MOVFF   PREINC1, r0x1d
0350 CFE4 F000 02515         MOVFF   PREINC1, r0x1c
0354 CFE4 F000 02516         MOVFF   PREINC1, r0x1b
0358 CFE4 F000 02517         MOVFF   PREINC1, r0x1a
035C CFE4 F000 02518         MOVFF   PREINC1, r0x19
0360 CFE4 F000 02519         MOVFF   PREINC1, r0x18
0364 CFE4 F000 02520         MOVFF   PREINC1, r0x17
0368 CFE4 F000 02521         MOVFF   PREINC1, r0x16
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
036C CFE4 F000 02522         MOVFF   PREINC1, r0x15
0370 CFE4 F000 02523         MOVFF   PREINC1, r0x14
0374 CFE4 F000 02524         MOVFF   PREINC1, r0x13
0378 CFE4 F000 02525         MOVFF   PREINC1, r0x12
037C CFE4 F000 02526         MOVFF   PREINC1, r0x11
0380 CFE4 F000 02527         MOVFF   PREINC1, r0x10
0384 CFE4 F000 02528         MOVFF   PREINC1, r0x0f
0388 CFE4 F000 02529         MOVFF   PREINC1, r0x0e
038C CFE4 F000 02530         MOVFF   PREINC1, r0x0d
0390 CFE4 F000 02531         MOVFF   PREINC1, r0x0c
0394 CFE4 F000 02532         MOVFF   PREINC1, r0x0b
0398 CFE4 F000 02533         MOVFF   PREINC1, r0x0a
039C CFE4 F000 02534         MOVFF   PREINC1, r0x09
03A0 CFE4 F000 02535         MOVFF   PREINC1, r0x08
03A4 CFE4 F000 02536         MOVFF   PREINC1, r0x07
03A8 CFE4 F000 02537         MOVFF   PREINC1, r0x06
03AC CFE4 F000 02538         MOVFF   PREINC1, r0x05
03B0 CFE4 F000 02539         MOVFF   PREINC1, r0x04
03B4 CFE4 F000 02540         MOVFF   PREINC1, r0x03
03B8 CFE4 F000 02541         MOVFF   PREINC1, r0x02
03BC CFE4 F000 02542         MOVFF   PREINC1, r0x01
03C0 CFE4 F000 02543         MOVFF   PREINC1, r0x00
03C4 CFE4 FFD9 02544         MOVFF   PREINC1, FSR2L
03C8 0012      02545         RETURN  
               02546 
               02547 ; ; Starting pCode block
               02548 S_main__getbestpiecemove        code
0000 02549 _getbestpiecemove:
               02550 ;       .line   186; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c int getbestpiecemove(LOC from)
0000 CFD9 FFE5 02551         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 02552         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 02553         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 02554         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 02555         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 02556         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 02557         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 02558         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 02559         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 02560         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 02561         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 02562         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 02563         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 02564         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 02565         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 02566         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 02567         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 02568         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 02569         MOVFF   r0x10, POSTDEC1
004C C000 FFE5 02570         MOVFF   r0x11, POSTDEC1
0050 C000 FFE5 02571         MOVFF   r0x12, POSTDEC1
0054 C000 FFE5 02572         MOVFF   r0x13, POSTDEC1
0058 C000 FFE5 02573         MOVFF   r0x14, POSTDEC1
005C C000 FFE5 02574         MOVFF   r0x15, POSTDEC1
0060 C000 FFE5 02575         MOVFF   r0x16, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0064 C000 FFE5 02576         MOVFF   r0x17, POSTDEC1
0068 C000 FFE5 02577         MOVFF   r0x18, POSTDEC1
006C C000 FFE5 02578         MOVFF   r0x19, POSTDEC1
0070 C000 FFE5 02579         MOVFF   r0x1a, POSTDEC1
0074 0E02      02580         MOVLW   0x02
0076 CFDB F000 02581         MOVFF   PLUSW2, r0x00
007A 0E03      02582         MOVLW   0x03
007C CFDB F000 02583         MOVFF   PLUSW2, r0x01
0080 0E04      02584         MOVLW   0x04
0082 CFDB F000 02585         MOVFF   PLUSW2, r0x02
               02586 ;       .line   193; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bestmove = NO_MOVE;
0086 6800      02587         SETF    r0x03
               02588 ;       .line   194; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c piecerate = tmp = 0;
0088 6A00      02589         CLRF    r0x04
008A 0000      02590         BANKSEL _piecerate
008C 6B00      02591         CLRF    _piecerate, B
               02592 ;       .line   201; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i = 0; i < 8;++i)
008E 6A00      02593         CLRF    r0x05
0090 02594 _01169_DS_:
0090 0E08      02595         MOVLW   0x08
0092 5C00      02596         SUBWF   r0x05, W
0094 B0D8      02597         BTFSC   STATUS, 0
0096 D000      02598         BRA     _01172_DS_
               02599 ;       .line   203; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c currmovemask[i]    = validmovemask[i];
0098 0E00      02600         MOVLW   LOW(_currmovemask)
009A 2400      02601         ADDWF   r0x05, W
009C 6E00      02602         MOVWF   r0x06
009E 6A00      02603         CLRF    r0x07
00A0 0E00      02604         MOVLW   HIGH(_currmovemask)
00A2 2200      02605         ADDWFC  r0x07, F
Error [113] : Symbol not previously defined (_validmovemask).
00A4 0E00      02606         MOVLW   LOW(_validmovemask)
00A6 2400      02607         ADDWF   r0x05, W
00A8 6E00      02608         MOVWF   r0x08
00AA 6A00      02609         CLRF    r0x09
Error [113] : Symbol not previously defined (_validmovemask).
00AC 0E00      02610         MOVLW   HIGH(_validmovemask)
00AE 2200      02611         ADDWFC  r0x09, F
00B0 C000 FFE9 02612         MOVFF   r0x08, FSR0L
00B4 C000 FFEA 02613         MOVFF   r0x09, FSR0H
00B8 CFEF F000 02614         MOVFF   INDF0, r0x0a
00BC C000 FFE9 02615         MOVFF   r0x06, FSR0L
00C0 C000 FFEA 02616         MOVFF   r0x07, FSR0H
00C4 C000 FFEF 02617         MOVFF   r0x0a, INDF0
               02618 ;       .line   204; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c currcapturemask[i] = capturemask[i];
00C8 0E00      02619         MOVLW   LOW(_currcapturemask)
00CA 2400      02620         ADDWF   r0x05, W
00CC 6E00      02621         MOVWF   r0x06
00CE 6A00      02622         CLRF    r0x07
00D0 0E00      02623         MOVLW   HIGH(_currcapturemask)
00D2 2200      02624         ADDWFC  r0x07, F
Error [113] : Symbol not previously defined (_capturemask).
00D4 0E00      02625         MOVLW   LOW(_capturemask)
00D6 2400      02626         ADDWF   r0x05, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00D8 6E00      02627         MOVWF   r0x0a
00DA 6A00      02628         CLRF    r0x0b
Error [113] : Symbol not previously defined (_capturemask).
00DC 0E00      02629         MOVLW   HIGH(_capturemask)
00DE 2200      02630         ADDWFC  r0x0b, F
00E0 C000 FFE9 02631         MOVFF   r0x0a, FSR0L
00E4 C000 FFEA 02632         MOVFF   r0x0b, FSR0H
00E8 CFEF F000 02633         MOVFF   INDF0, r0x0c
00EC C000 FFE9 02634         MOVFF   r0x06, FSR0L
00F0 C000 FFEA 02635         MOVFF   r0x07, FSR0H
00F4 C000 FFEF 02636         MOVFF   r0x0c, INDF0
               02637 ;       .line   205; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c validmovemask[i] = 0;
00F8 C000 FFE9 02638         MOVFF   r0x08, FSR0L
00FC C000 FFEA 02639         MOVFF   r0x09, FSR0H
0100 6AEF      02640         CLRF    INDF0
               02641 ;       .line   206; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c capturemask[i] = 0;
0102 C000 FFE9 02642         MOVFF   r0x0a, FSR0L
0106 C000 FFEA 02643         MOVFF   r0x0b, FSR0H
010A 6AEF      02644         CLRF    INDF0
               02645 ;       .line   201; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i = 0; i < 8;++i)
010C 2A00      02646         INCF    r0x05, F
010E D000      02647         BRA     _01169_DS_
0110 02648 _01172_DS_:
               02649 ;       .line   209; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i = 0; i < 8; ++i)
0110 5000      02650         MOVF    r0x00, W
0112 0F01      02651         ADDLW   0x01
0114 6E00      02652         MOVWF   r0x05
0116 0E00      02653         MOVLW   0x00
0118 2000      02654         ADDWFC  r0x01, W
011A 6E00      02655         MOVWF   r0x06
011C 0E00      02656         MOVLW   0x00
011E 2000      02657         ADDWFC  r0x02, W
0120 6E00      02658         MOVWF   r0x07
0122 6A00      02659         CLRF    r0x08
0124 02660 _01181_DS_:
0124 0E08      02661         MOVLW   0x08
0126 5C00      02662         SUBWF   r0x08, W
0128 B0D8      02663         BTFSC   STATUS, 0
012A D000      02664         BRA     _01184_DS_
               02665 ;       .line   211; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (j = 0; j < 8; ++j)
012C 0E00      02666         MOVLW   LOW(_currcapturemask)
012E 2400      02667         ADDWF   r0x08, W
0130 6E00      02668         MOVWF   r0x09
0132 6A00      02669         CLRF    r0x0a
0134 0E00      02670         MOVLW   HIGH(_currcapturemask)
0136 2200      02671         ADDWFC  r0x0a, F
Error [113] : Symbol not previously defined (_capturemask).
0138 0E00      02672         MOVLW   LOW(_capturemask)
013A 2400      02673         ADDWF   r0x08, W
013C 6E00      02674         MOVWF   r0x0b
013E 6A00      02675         CLRF    r0x0c
Error [113] : Symbol not previously defined (_capturemask).
0140 0E00      02676         MOVLW   HIGH(_capturemask)
0142 2200      02677         ADDWFC  r0x0c, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0144 0E00      02678         MOVLW   LOW(_currcapturemask)
0146 2400      02679         ADDWF   r0x08, W
0148 6E00      02680         MOVWF   r0x0d
014A 6A00      02681         CLRF    r0x0e
014C 0E00      02682         MOVLW   HIGH(_currcapturemask)
014E 2200      02683         ADDWFC  r0x0e, F
Error [113] : Symbol not previously defined (_capturemask).
0150 0E00      02684         MOVLW   LOW(_capturemask)
0152 2400      02685         ADDWF   r0x08, W
0154 6E00      02686         MOVWF   r0x0f
0156 6A00      02687         CLRF    r0x10
Error [113] : Symbol not previously defined (_capturemask).
0158 0E00      02688         MOVLW   HIGH(_capturemask)
015A 2200      02689         ADDWFC  r0x10, F
015C 0E00      02690         MOVLW   LOW(_currmovemask)
015E 2400      02691         ADDWF   r0x08, W
0160 6E00      02692         MOVWF   r0x11
0162 6A00      02693         CLRF    r0x12
0164 0E00      02694         MOVLW   HIGH(_currmovemask)
0166 2200      02695         ADDWFC  r0x12, F
0168 6A00      02696         CLRF    r0x13
016A 02697 _01177_DS_:
016A 0E08      02698         MOVLW   0x08
016C 5C00      02699         SUBWF   r0x13, W
016E B0D8      02700         BTFSC   STATUS, 0
0170 D000      02701         BRA     _01183_DS_
               02702 ;       .line   214; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (currmovemask[i] & 0x01)
0172 C000 FFE9 02703         MOVFF   r0x11, FSR0L
0176 C000 FFEA 02704         MOVFF   r0x12, FSR0H
017A CFEF F000 02705         MOVFF   INDF0, r0x14
017E A000      02706         BTFSS   r0x14, 0
0180 D000      02707         BRA     _01168_DS_
               02708 ;       .line   216; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c to[0] = i;
0182 5000      02709         MOVF    r0x08, W
0184 0000      02710         BANKSEL _getbestpiecemove_to_1_1
0186 6F00      02711         MOVWF   _getbestpiecemove_to_1_1, B
               02712 ;       .line   217; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c to[1] = j; 
0188 5000      02713         MOVF    r0x13, W
               02714 ; removed redundant BANKSEL
018A 6F00      02715         MOVWF   (_getbestpiecemove_to_1_1 + 1), B
               02716 ;       .line   221; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (test_singlemove(from,to,board[from[0]][from[1]]))
018C 0E00      02717         MOVLW   HIGH(_getbestpiecemove_to_1_1)
018E 6E00      02718         MOVWF   r0x15
0190 0E00      02719         MOVLW   LOW(_getbestpiecemove_to_1_1)
0192 6E00      02720         MOVWF   r0x14
0194 0E80      02721         MOVLW   0x80
0196 6E00      02722         MOVWF   r0x16
0198 C000 FFE9 02723         MOVFF   r0x00, FSR0L
019C C000 FFF3 02724         MOVFF   r0x01, PRODL
01A0 5000      02725         MOVF    r0x02, W
01A2 EC00 F000 02726         CALL    __gptrget1
               02727 ; #     MOVWF   r0x17
               02728 ; #;;multiply lit val:0x08 by variable r0x17 and store in r0x17
               02729 ; #;;Unrolled 8 X 8 multiplication
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               02730 ; #;;FIXME: the function does not support result==WREG
               02731 ; #     MOVF    r0x17, W
01A6 0D08      02732         MULLW   0x08
01A8 CFF3 F000 02733         MOVFF   PRODL, r0x17
01AC 6A00      02734         CLRF    r0x18
Error [113] : Symbol not previously defined (_board).
01AE 0E00      02735         MOVLW   LOW(_board)
01B0 2600      02736         ADDWF   r0x17, F
Error [113] : Symbol not previously defined (_board).
01B2 0E00      02737         MOVLW   HIGH(_board)
01B4 2200      02738         ADDWFC  r0x18, F
01B6 5000      02739         MOVF    r0x00, W
01B8 0F01      02740         ADDLW   0x01
01BA 6E00      02741         MOVWF   r0x19
01BC 0E00      02742         MOVLW   0x00
01BE 2000      02743         ADDWFC  r0x01, W
01C0 6E00      02744         MOVWF   r0x1a
01C2 0E00      02745         MOVLW   0x00
01C4 2000      02746         ADDWFC  r0x02, W
01C6 C000 FFE9 02747         MOVFF   r0x19, FSR0L
01CA C000 FFF3 02748         MOVFF   r0x1a, PRODL
01CE EC00 F000 02749         CALL    __gptrget1
               02750 ; #     MOVWF   r0x19
               02751 ; #     MOVF    r0x19, W
01D2 2600      02752         ADDWF   r0x17, F
01D4 6AE8      02753         CLRF    WREG
01D6 2200      02754         ADDWFC  r0x18, F
01D8 C000 FFE9 02755         MOVFF   r0x17, FSR0L
01DC C000 FFEA 02756         MOVFF   r0x18, FSR0H
01E0 CFEF F000 02757         MOVFF   INDF0, r0x17
01E4 5000      02758         MOVF    r0x17, W
01E6 6EE5      02759         MOVWF   POSTDEC1
01E8 5000      02760         MOVF    r0x16, W
01EA 6EE5      02761         MOVWF   POSTDEC1
01EC 5000      02762         MOVF    r0x15, W
01EE 6EE5      02763         MOVWF   POSTDEC1
01F0 5000      02764         MOVF    r0x14, W
01F2 6EE5      02765         MOVWF   POSTDEC1
01F4 5000      02766         MOVF    r0x02, W
01F6 6EE5      02767         MOVWF   POSTDEC1
01F8 5000      02768         MOVF    r0x01, W
01FA 6EE5      02769         MOVWF   POSTDEC1
01FC 5000      02770         MOVF    r0x00, W
01FE 6EE5      02771         MOVWF   POSTDEC1
0200 EC00 F000 02772         CALL    _test_singlemove
0204 6E00      02773         MOVWF   r0x14
0206 0E07      02774         MOVLW   0x07
0208 26E1      02775         ADDWF   FSR1L, F
020A 5000      02776         MOVF    r0x14, W
020C B4D8      02777         BTFSC   STATUS, 2
020E D000      02778         BRA     _01206_DS_
               02779 ; ;multiply lit val:0x08 by variable _getbestpiecemove_to_1_1 and store in r0x14
               02780 ; ;Unrolled 8 X 8 multiplication
               02781 ; ;FIXME: the function does not support result==WREG
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0210 0000      02782         BANKSEL _getbestpiecemove_to_1_1
               02783 ;       .line   223; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c move = getindex(to[0],to[1]);
0212 5100      02784         MOVF    _getbestpiecemove_to_1_1, W, B
0214 0D08      02785         MULLW   0x08
0216 CFF3 F000 02786         MOVFF   PRODL, r0x14
               02787 ; removed redundant BANKSEL
021A 5100      02788         MOVF    (_getbestpiecemove_to_1_1 + 1), W, B
021C 2600      02789         ADDWF   r0x14, F
               02790 ;       .line   224; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c movetype = NORMAL;  
021E 0E01      02791         MOVLW   0x01
0220 0000      02792         BANKSEL _movetype
0222 6F00      02793         MOVWF   _movetype, B
               02794 ;       .line   226; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if ((validmovemask[from[0]] >> from[1]) & 1)            
0224 C000 FFE9 02795         MOVFF   r0x00, FSR0L
0228 C000 FFF3 02796         MOVFF   r0x01, PRODL
022C 5000      02797         MOVF    r0x02, W
022E EC00 F000 02798         CALL    __gptrget1
0232 6E00      02799         MOVWF   r0x15
0234 6A00      02800         CLRF    r0x16
Error [113] : Symbol not previously defined (_validmovemask).
0236 0E00      02801         MOVLW   LOW(_validmovemask)
0238 2600      02802         ADDWF   r0x15, F
Error [113] : Symbol not previously defined (_validmovemask).
023A 0E00      02803         MOVLW   HIGH(_validmovemask)
023C 2200      02804         ADDWFC  r0x16, F
023E C000 FFE9 02805         MOVFF   r0x15, FSR0L
0242 C000 FFEA 02806         MOVFF   r0x16, FSR0H
0246 CFEF F000 02807         MOVFF   INDF0, r0x15
024A C000 FFE9 02808         MOVFF   r0x05, FSR0L
024E C000 FFF3 02809         MOVFF   r0x06, PRODL
0252 5000      02810         MOVF    r0x07, W
0254 EC00 F000 02811         CALL    __gptrget1
0258 6E00      02812         MOVWF   r0x16
025A 5000      02813         MOVF    r0x16, W
025C E000      02814         BZ      _01217_DS_
025E 6CE8      02815         NEGF    WREG
0260 90D8      02816         BCF     STATUS, 0
0262 02817 _01218_DS_:
0262 3200      02818         RRCF    r0x15, F
0264 0F01      02819         ADDLW   0x01
0266 E300      02820         BNC     _01218_DS_
0268 02821 _01217_DS_:
0268 A000      02822         BTFSS   r0x15, 0
026A D000      02823         BRA     _01153_DS_
               02824 ;       .line   227; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c tmp = (board[from[0]][from[1]] & 0x07)/2;
026C C000 FFE9 02825         MOVFF   r0x00, FSR0L
0270 C000 FFF3 02826         MOVFF   r0x01, PRODL
0274 5000      02827         MOVF    r0x02, W
0276 EC00 F000 02828         CALL    __gptrget1
               02829 ; #     MOVWF   r0x15
               02830 ; #;;multiply lit val:0x08 by variable r0x15 and store in r0x15
               02831 ; #;;Unrolled 8 X 8 multiplication
               02832 ; #;;FIXME: the function does not support result==WREG
               02833 ; #     MOVF    r0x15, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
027A 0D08      02834         MULLW   0x08
027C CFF3 F000 02835         MOVFF   PRODL, r0x15
0280 6A00      02836         CLRF    r0x17
Error [113] : Symbol not previously defined (_board).
0282 0E00      02837         MOVLW   LOW(_board)
0284 2600      02838         ADDWF   r0x15, F
Error [113] : Symbol not previously defined (_board).
0286 0E00      02839         MOVLW   HIGH(_board)
0288 2200      02840         ADDWFC  r0x17, F
028A 6A00      02841         CLRF    r0x18
028C 5000      02842         MOVF    r0x15, W
028E 2600      02843         ADDWF   r0x16, F
0290 5000      02844         MOVF    r0x17, W
0292 2200      02845         ADDWFC  r0x18, F
0294 C000 FFE9 02846         MOVFF   r0x16, FSR0L
0298 C000 FFEA 02847         MOVFF   r0x18, FSR0H
029C CFEF F000 02848         MOVFF   INDF0, r0x16
02A0 0E07      02849         MOVLW   0x07
02A2 1600      02850         ANDWF   r0x16, F
02A4 4000      02851         RRNCF   r0x16, W
02A6 0B7F      02852         ANDLW   0x7f
02A8 6E00      02853         MOVWF   r0x04
02AA 02854 _01153_DS_:
               02855 ;       .line   231; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if((!((capturemask[i] >> j) & 1)) && ((currcapturemask[i] >> j) & 1))
02AA C000 FFE9 02856         MOVFF   r0x0b, FSR0L
02AE C000 FFEA 02857         MOVFF   r0x0c, FSR0H
02B2 CFEF F000 02858         MOVFF   INDF0, r0x15
02B6 5000      02859         MOVF    r0x13, W
02B8 E000      02860         BZ      _01221_DS_
02BA 6CE8      02861         NEGF    WREG
02BC 90D8      02862         BCF     STATUS, 0
02BE 02863 _01222_DS_:
02BE 3200      02864         RRCF    r0x15, F
02C0 0F01      02865         ADDLW   0x01
02C2 E300      02866         BNC     _01222_DS_
02C4 02867 _01221_DS_:
02C4 B000      02868         BTFSC   r0x15, 0
02C6 D000      02869         BRA     _01160_DS_
02C8 C000 FFE9 02870         MOVFF   r0x09, FSR0L
02CC C000 FFEA 02871         MOVFF   r0x0a, FSR0H
02D0 CFEF F000 02872         MOVFF   INDF0, r0x15
02D4 5000      02873         MOVF    r0x13, W
02D6 E000      02874         BZ      _01224_DS_
02D8 6CE8      02875         NEGF    WREG
02DA 90D8      02876         BCF     STATUS, 0
02DC 02877 _01225_DS_:
02DC 3200      02878         RRCF    r0x15, F
02DE 0F01      02879         ADDLW   0x01
02E0 E300      02880         BNC     _01225_DS_
02E2 02881 _01224_DS_:
02E2 A000      02882         BTFSS   r0x15, 0
02E4 D000      02883         BRA     _01160_DS_
               02884 ;       .line   232; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c movetype = SAFECAPTURE;
02E6 0E04      02885         MOVLW   0x04
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02E8 0000      02886         BANKSEL _movetype
02EA 6F00      02887         MOVWF   _movetype, B
02EC D000      02888         BRA     _01161_DS_
02EE 02889 _01160_DS_:
               02890 ;       .line   234; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c else if ((currcapturemask[i] >> j) & 1)
02EE C000 FFE9 02891         MOVFF   r0x0d, FSR0L
02F2 C000 FFEA 02892         MOVFF   r0x0e, FSR0H
02F6 CFEF F000 02893         MOVFF   INDF0, r0x15
02FA 5000      02894         MOVF    r0x13, W
02FC E000      02895         BZ      _01227_DS_
02FE 6CE8      02896         NEGF    WREG
0300 90D8      02897         BCF     STATUS, 0
0302 02898 _01228_DS_:
0302 3200      02899         RRCF    r0x15, F
0304 0F01      02900         ADDLW   0x01
0306 E300      02901         BNC     _01228_DS_
0308 02902 _01227_DS_:
0308 A000      02903         BTFSS   r0x15, 0
030A D000      02904         BRA     _01157_DS_
               02905 ;       .line   235; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c movetype = CAPTURE;
030C 0E03      02906         MOVLW   0x03
030E 0000      02907         BANKSEL _movetype
0310 6F00      02908         MOVWF   _movetype, B
0312 D000      02909         BRA     _01161_DS_
0314 02910 _01157_DS_:
               02911 ;       .line   237; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c else if (!((capturemask[i] >> j) & 1))
0314 C000 FFE9 02912         MOVFF   r0x0f, FSR0L
0318 C000 FFEA 02913         MOVFF   r0x10, FSR0H
031C CFEF F000 02914         MOVFF   INDF0, r0x15
0320 5000      02915         MOVF    r0x13, W
0322 E000      02916         BZ      _01230_DS_
0324 6CE8      02917         NEGF    WREG
0326 90D8      02918         BCF     STATUS, 0
0328 02919 _01231_DS_:
0328 3200      02920         RRCF    r0x15, F
032A 0F01      02921         ADDLW   0x01
032C E300      02922         BNC     _01231_DS_
032E 02923 _01230_DS_:
032E B000      02924         BTFSC   r0x15, 0
0330 D000      02925         BRA     _01161_DS_
               02926 ;       .line   238; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c movetype = SAFE;
0332 0E02      02927         MOVLW   0x02
0334 0000      02928         BANKSEL _movetype
0336 6F00      02929         MOVWF   _movetype, B
0338 02930 _01161_DS_:
               02931 ;       .line   241; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c curr_pos_rate  = (to[0] > 3)? to[0]-3 : 3-to[0];
0338 0E04      02932         MOVLW   0x04
033A 0000      02933         BANKSEL _getbestpiecemove_to_1_1
033C 5D00      02934         SUBWF   _getbestpiecemove_to_1_1, W, B
033E E300      02935         BNC     _01187_DS_
0340 0EFD      02936         MOVLW   0xfd
               02937 ; removed redundant BANKSEL
0342 2500      02938         ADDWF   _getbestpiecemove_to_1_1, W, B
0344 6E00      02939         MOVWF   r0x15
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0346 D000      02940         BRA     _01188_DS_
0348 02941 _01187_DS_:
0348 0000      02942         BANKSEL _getbestpiecemove_to_1_1
034A 5100      02943         MOVF    _getbestpiecemove_to_1_1, W, B
034C 0803      02944         SUBLW   0x03
034E 6E00      02945         MOVWF   r0x15
0350 02946 _01188_DS_:
               02947 ;       .line   242; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c k  = (to[1] > 3)? to[1]-3 : 3-to[1];
0350 0E04      02948         MOVLW   0x04
0352 0000      02949         BANKSEL (_getbestpiecemove_to_1_1 + 1)
0354 5D00      02950         SUBWF   (_getbestpiecemove_to_1_1 + 1), W, B
0356 E300      02951         BNC     _01189_DS_
0358 0EFD      02952         MOVLW   0xfd
               02953 ; removed redundant BANKSEL
035A 2500      02954         ADDWF   (_getbestpiecemove_to_1_1 + 1), W, B
035C 6E00      02955         MOVWF   r0x16
035E D000      02956         BRA     _01190_DS_
0360 02957 _01189_DS_:
0360 0000      02958         BANKSEL (_getbestpiecemove_to_1_1 + 1)
0362 5100      02959         MOVF    (_getbestpiecemove_to_1_1 + 1), W, B
0364 0803      02960         SUBLW   0x03
0366 6E00      02961         MOVWF   r0x16
0368 02962 _01190_DS_:
               02963 ;       .line   243; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c curr_pos_rate += k;      
0368 5000      02964         MOVF    r0x16, W
036A 2600      02965         ADDWF   r0x15, F
               02966 ;       .line   246; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c tmp += rate_move((board[from[0]][from[1]]),to,curr_pos_rate);
036C C000 FFE9 02967         MOVFF   r0x00, FSR0L
0370 C000 FFF3 02968         MOVFF   r0x01, PRODL
0374 5000      02969         MOVF    r0x02, W
0376 EC00 F000 02970         CALL    __gptrget1
               02971 ; #     MOVWF   r0x16
               02972 ; #;;multiply lit val:0x08 by variable r0x16 and store in r0x16
               02973 ; #;;Unrolled 8 X 8 multiplication
               02974 ; #;;FIXME: the function does not support result==WREG
               02975 ; #     MOVF    r0x16, W
037A 0D08      02976         MULLW   0x08
037C CFF3 F000 02977         MOVFF   PRODL, r0x16
0380 6A00      02978         CLRF    r0x17
Error [113] : Symbol not previously defined (_board).
0382 0E00      02979         MOVLW   LOW(_board)
0384 2600      02980         ADDWF   r0x16, F
Error [113] : Symbol not previously defined (_board).
0386 0E00      02981         MOVLW   HIGH(_board)
0388 2200      02982         ADDWFC  r0x17, F
038A C000 FFE9 02983         MOVFF   r0x05, FSR0L
038E C000 FFF3 02984         MOVFF   r0x06, PRODL
0392 5000      02985         MOVF    r0x07, W
0394 EC00 F000 02986         CALL    __gptrget1
               02987 ; #     MOVWF   r0x18
               02988 ; #     MOVF    r0x18, W
0398 2600      02989         ADDWF   r0x16, F
039A 6AE8      02990         CLRF    WREG
039C 2200      02991         ADDWFC  r0x17, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
039E C000 FFE9 02992         MOVFF   r0x16, FSR0L
03A2 C000 FFEA 02993         MOVFF   r0x17, FSR0H
03A6 CFEF F000 02994         MOVFF   INDF0, r0x16
03AA 5000      02995         MOVF    r0x15, W
03AC 6EE5      02996         MOVWF   POSTDEC1
03AE 0E80      02997         MOVLW   0x80
03B0 6EE5      02998         MOVWF   POSTDEC1
03B2 0E00      02999         MOVLW   HIGH(_getbestpiecemove_to_1_1)
03B4 6EE5      03000         MOVWF   POSTDEC1
03B6 0E00      03001         MOVLW   LOW(_getbestpiecemove_to_1_1)
03B8 6EE5      03002         MOVWF   POSTDEC1
03BA 5000      03003         MOVF    r0x16, W
03BC 6EE5      03004         MOVWF   POSTDEC1
03BE EC00 F000 03005         CALL    _rate_move
03C2 6E00      03006         MOVWF   r0x15
03C4 0E05      03007         MOVLW   0x05
03C6 26E1      03008         ADDWF   FSR1L, F
03C8 5000      03009         MOVF    r0x15, W
03CA 2600      03010         ADDWF   r0x04, F
               03011 ;       .line   249; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (tmp > piecerate)
03CC 5000      03012         MOVF    r0x04, W
03CE 0000      03013         BANKSEL _piecerate
03D0 5D00      03014         SUBWF   _piecerate, W, B
03D2 E200      03015         BC      _01164_DS_
               03016 ;       .line   251; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c piecerate = tmp;
03D4 C000 F000 03017         MOVFF   r0x04, _piecerate
               03018 ;       .line   252; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bestmove = move;
03D8 C000 F000 03019         MOVFF   r0x14, r0x03
03DC 03020 _01164_DS_:
               03021 ;       .line   254; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c tmp = 0;  
03DC 6A00      03022         CLRF    r0x04
03DE 03023 _01206_DS_:
               03024 ;       .line   257; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (k = 0; k < 8; ++k)
03DE 6A00      03025         CLRF    r0x14
03E0 03026 _01173_DS_:
03E0 0E08      03027         MOVLW   0x08
03E2 5C00      03028         SUBWF   r0x14, W
03E4 E200      03029         BC      _01168_DS_
               03030 ;       .line   259; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c validmovemask[k] = 0;
Error [113] : Symbol not previously defined (_validmovemask).
03E6 0E00      03031         MOVLW   LOW(_validmovemask)
03E8 2400      03032         ADDWF   r0x14, W
03EA 6E00      03033         MOVWF   r0x15
03EC 6A00      03034         CLRF    r0x16
Error [113] : Symbol not previously defined (_validmovemask).
03EE 0E00      03035         MOVLW   HIGH(_validmovemask)
03F0 2200      03036         ADDWFC  r0x16, F
03F2 C000 FFE9 03037         MOVFF   r0x15, FSR0L
03F6 C000 FFEA 03038         MOVFF   r0x16, FSR0H
03FA 6AEF      03039         CLRF    INDF0
               03040 ;       .line   260; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c capturemask[k]   = 0;
Error [113] : Symbol not previously defined (_capturemask).
03FC 0E00      03041         MOVLW   LOW(_capturemask)
03FE 2400      03042         ADDWF   r0x14, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0400 6E00      03043         MOVWF   r0x15
0402 6A00      03044         CLRF    r0x16
Error [113] : Symbol not previously defined (_capturemask).
0404 0E00      03045         MOVLW   HIGH(_capturemask)
0406 2200      03046         ADDWFC  r0x16, F
0408 C000 FFE9 03047         MOVFF   r0x15, FSR0L
040C C000 FFEA 03048         MOVFF   r0x16, FSR0H
0410 6AEF      03049         CLRF    INDF0
               03050 ;       .line   257; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (k = 0; k < 8; ++k)
0412 2A00      03051         INCF    r0x14, F
0414 D000      03052         BRA     _01173_DS_
0416 03053 _01168_DS_:
               03054 ;       .line   263; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c currmovemask[i] = currmovemask[i] >> 1;
0416 0E00      03055         MOVLW   LOW(_currmovemask)
0418 2400      03056         ADDWF   r0x08, W
041A 6E00      03057         MOVWF   r0x14
041C 6A00      03058         CLRF    r0x15
041E 0E00      03059         MOVLW   HIGH(_currmovemask)
0420 2200      03060         ADDWFC  r0x15, F
0422 C000 FFE9 03061         MOVFF   r0x14, FSR0L
0426 C000 FFEA 03062         MOVFF   r0x15, FSR0H
042A CFEF F000 03063         MOVFF   INDF0, r0x16
042E 4000      03064         RRNCF   r0x16, W
0430 0B7F      03065         ANDLW   0x7f
0432 6E00      03066         MOVWF   r0x16
0434 C000 FFE9 03067         MOVFF   r0x14, FSR0L
0438 C000 FFEA 03068         MOVFF   r0x15, FSR0H
043C C000 FFEF 03069         MOVFF   r0x16, INDF0
               03070 ;       .line   211; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (j = 0; j < 8; ++j)
0440 2A00      03071         INCF    r0x13, F
0442 D000      03072         BRA     _01177_DS_
0444 03073 _01183_DS_:
               03074 ;       .line   209; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i = 0; i < 8; ++i)
0444 2A00      03075         INCF    r0x08, F
0446 D000      03076         BRA     _01181_DS_
0448 03077 _01184_DS_:
               03078 ;       .line   280; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar('.');
0448 0E2E      03079         MOVLW   0x2e
044A 6EE5      03080         MOVWF   POSTDEC1
044C EC00 F000 03081         CALL    _serial_putchar
0450 2AE1      03082         INCF    FSR1L, F
               03083 ; =DF= MOVFF: replaced by CRLF/SETF
               03084 ;       .line   282; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c return bestmove;
0452 6AF3      03085         CLRF    PRODL
0454 5000      03086         MOVF    r0x03, W
0456 CFE4 F000 03087         MOVFF   PREINC1, r0x1a
045A CFE4 F000 03088         MOVFF   PREINC1, r0x19
045E CFE4 F000 03089         MOVFF   PREINC1, r0x18
0462 CFE4 F000 03090         MOVFF   PREINC1, r0x17
0466 CFE4 F000 03091         MOVFF   PREINC1, r0x16
046A CFE4 F000 03092         MOVFF   PREINC1, r0x15
046E CFE4 F000 03093         MOVFF   PREINC1, r0x14
0472 CFE4 F000 03094         MOVFF   PREINC1, r0x13
0476 CFE4 F000 03095         MOVFF   PREINC1, r0x12
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
047A CFE4 F000 03096         MOVFF   PREINC1, r0x11
047E CFE4 F000 03097         MOVFF   PREINC1, r0x10
0482 CFE4 F000 03098         MOVFF   PREINC1, r0x0f
0486 CFE4 F000 03099         MOVFF   PREINC1, r0x0e
048A CFE4 F000 03100         MOVFF   PREINC1, r0x0d
048E CFE4 F000 03101         MOVFF   PREINC1, r0x0c
0492 CFE4 F000 03102         MOVFF   PREINC1, r0x0b
0496 CFE4 F000 03103         MOVFF   PREINC1, r0x0a
049A CFE4 F000 03104         MOVFF   PREINC1, r0x09
049E CFE4 F000 03105         MOVFF   PREINC1, r0x08
04A2 CFE4 F000 03106         MOVFF   PREINC1, r0x07
04A6 CFE4 F000 03107         MOVFF   PREINC1, r0x06
04AA CFE4 F000 03108         MOVFF   PREINC1, r0x05
04AE CFE4 F000 03109         MOVFF   PREINC1, r0x04
04B2 CFE4 F000 03110         MOVFF   PREINC1, r0x03
04B6 CFE4 F000 03111         MOVFF   PREINC1, r0x02
04BA CFE4 F000 03112         MOVFF   PREINC1, r0x01
04BE CFE4 F000 03113         MOVFF   PREINC1, r0x00
04C2 CFE4 FFD9 03114         MOVFF   PREINC1, FSR2L
04C6 0012      03115         RETURN  
               03116 
               03117 ; ; Starting pCode block
               03118 S_main__loop    code
0000 03119 _loop:
               03120 ;       .line   55; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  void loop()
0000 C000 FFE5 03121         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 03122         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 03123         MOVFF   r0x02, POSTDEC1
000C C000 FFE5 03124         MOVFF   r0x03, POSTDEC1
0010 C000 FFE5 03125         MOVFF   r0x04, POSTDEC1
0014 C000 FFE5 03126         MOVFF   r0x05, POSTDEC1
0018 C000 FFE5 03127         MOVFF   r0x06, POSTDEC1
001C C000 FFE5 03128         MOVFF   r0x07, POSTDEC1
0020 C000 FFE5 03129         MOVFF   r0x08, POSTDEC1
0024 C000 FFE5 03130         MOVFF   r0x09, POSTDEC1
0028 C000 FFE5 03131         MOVFF   r0x0a, POSTDEC1
002C C000 FFE5 03132         MOVFF   r0x0b, POSTDEC1
0030 0000      03133         BANKSEL _movecount
               03134 ;       .line   64; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  if ((movecount+1)%2 == 0)
0032 5100      03135         MOVF    _movecount, W, B
0034 0F01      03136         ADDLW   0x01
0036 6E00      03137         MOVWF   r0x00
0038 0E00      03138         MOVLW   0x00
               03139 ; removed redundant BANKSEL
003A 2100      03140         ADDWFC  (_movecount + 1), W, B
003C 6E00      03141         MOVWF   r0x01
003E 6AE5      03142         CLRF    POSTDEC1
0040 0E02      03143         MOVLW   0x02
0042 6EE5      03144         MOVWF   POSTDEC1
0044 5000      03145         MOVF    r0x01, W
0046 6EE5      03146         MOVWF   POSTDEC1
0048 5000      03147         MOVF    r0x00, W
004A 6EE5      03148         MOVWF   POSTDEC1
004C EC00 F000 03149         CALL    __modsint
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0050 6E00      03150         MOVWF   r0x00
0052 CFF3 F000 03151         MOVFF   PRODL, r0x01
0056 0E04      03152         MOVLW   0x04
0058 26E1      03153         ADDWF   FSR1L, F
005A 5000      03154         MOVF    r0x00, W
005C 1000      03155         IORWF   r0x01, W
005E A4D8      03156         BTFSS   STATUS, 2
0060 D000      03157         BRA     _01078_DS_
               03158 ;       .line   66; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  trace_jeux();
0062 EC00 F000 03159         CALL    _trace_jeux
               03160 ;       .line   67; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("Jouez : ");
0066 0E00      03161         MOVLW   UPPER(__str_10)
0068 6EE5      03162         MOVWF   POSTDEC1
006A 0E00      03163         MOVLW   HIGH(__str_10)
006C 6EE5      03164         MOVWF   POSTDEC1
006E 0E00      03165         MOVLW   LOW(__str_10)
0070 6EE5      03166         MOVWF   POSTDEC1
0072 EC00 F000 03167         CALL    _serial_print
0076 0E03      03168         MOVLW   0x03
0078 26E1      03169         ADDWF   FSR1L, F
007A 03170 _01051_DS_:
               03171 ;       .line   74; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  while (!lit_coup_joueur(from, to));
007A 0E80      03172         MOVLW   0x80
               03173 ; #     MOVWF   r0x07
               03174 ; #     MOVF    r0x07, W
007C 6EE5      03175         MOVWF   POSTDEC1
007E 0E00      03176         MOVLW   HIGH(_loop_to_1_1)
0080 6EE5      03177         MOVWF   POSTDEC1
0082 0E00      03178         MOVLW   LOW(_loop_to_1_1)
0084 6EE5      03179         MOVWF   POSTDEC1
0086 0E80      03180         MOVLW   0x80
0088 6EE5      03181         MOVWF   POSTDEC1
008A 0E00      03182         MOVLW   HIGH(_loop_from_1_1)
008C 6EE5      03183         MOVWF   POSTDEC1
008E 0E00      03184         MOVLW   LOW(_loop_from_1_1)
0090 6EE5      03185         MOVWF   POSTDEC1
0092 EC00 F000 03186         CALL    _lit_coup_joueur
0096 6E00      03187         MOVWF   r0x02
0098 0E06      03188         MOVLW   0x06
009A 26E1      03189         ADDWF   FSR1L, F
009C 5000      03190         MOVF    r0x02, W
009E E000      03191         BZ      _01051_DS_
               03192 ; ;multiply lit val:0x08 by variable _loop_from_1_1 and store in r0x02
               03193 ; ;Unrolled 8 X 8 multiplication
               03194 ; ;FIXME: the function does not support result==WREG
00A0 0000      03195         BANKSEL _loop_from_1_1
               03196 ;       .line   76; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  p = board[from[0]][from[1]];
00A2 5100      03197         MOVF    _loop_from_1_1, W, B
00A4 0D08      03198         MULLW   0x08
00A6 CFF3 F000 03199         MOVFF   PRODL, r0x02
00AA 6A00      03200         CLRF    r0x03
Error [113] : Symbol not previously defined (_board).
00AC 0E00      03201         MOVLW   LOW(_board)
00AE 2600      03202         ADDWF   r0x02, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_board).
00B0 0E00      03203         MOVLW   HIGH(_board)
00B2 2200      03204         ADDWFC  r0x03, F
               03205 ; removed redundant BANKSEL
00B4 5100      03206         MOVF    (_loop_from_1_1 + 1), W, B
00B6 2600      03207         ADDWF   r0x02, F
00B8 6AE8      03208         CLRF    WREG
00BA 2200      03209         ADDWFC  r0x03, F
00BC C000 FFE9 03210         MOVFF   r0x02, FSR0L
00C0 C000 FFEA 03211         MOVFF   r0x03, FSR0H
00C4 CFEF F000 03212         MOVFF   INDF0, r0x02
               03213 ;       .line   80; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  validate[piecetype(p)] (from,WHITE);
00C8 0E07      03214         MOVLW   0x07
00CA 1400      03215         ANDWF   r0x02, W
               03216 ; #     MOVWF   r0x03
               03217 ; #;;multiply lit val:0x03 by variable r0x03 and store in r0x03
               03218 ; #;;Unrolled 8 X 8 multiplication
               03219 ; #;;FIXME: the function does not support result==WREG
               03220 ; #     MOVF    r0x03, W
00CC 0D03      03221         MULLW   0x03
00CE CFF3 F000 03222         MOVFF   PRODL, r0x03
00D2 6A00      03223         CLRF    r0x04
00D4 0E00      03224         MOVLW   LOW(_validate)
00D6 2600      03225         ADDWF   r0x03, F
00D8 0E00      03226         MOVLW   HIGH(_validate)
00DA 2200      03227         ADDWFC  r0x04, F
00DC C000 FFE9 03228         MOVFF   r0x03, FSR0L
00E0 C000 FFEA 03229         MOVFF   r0x04, FSR0H
00E4 CFEE F000 03230         MOVFF   POSTINC0, r0x03
00E8 CFEE F000 03231         MOVFF   POSTINC0, r0x04
00EC CFEF F000 03232         MOVFF   INDF0, r0x05
00F0 6AE5      03233         CLRF    POSTDEC1
00F2 0E80      03234         MOVLW   0x80
00F4 6EE5      03235         MOVWF   POSTDEC1
00F6 0E00      03236         MOVLW   HIGH(_loop_from_1_1)
00F8 6EE5      03237         MOVWF   POSTDEC1
00FA 0E00      03238         MOVLW   LOW(_loop_from_1_1)
00FC 6EE5      03239         MOVWF   POSTDEC1
00FE CFF2 FFE5 03240         MOVFF   INTCON, POSTDEC1
0102 9EF2      03241         BCF     INTCON, 7
0104 0005      03242         PUSH    
0106 0E00      03243         MOVLW   LOW(_01125_DS_)
0108 6EFD      03244         MOVWF   TOSL
010A 0E00      03245         MOVLW   HIGH(_01125_DS_)
010C 6EFE      03246         MOVWF   TOSH
010E 0E00      03247         MOVLW   UPPER(_01125_DS_)
0110 6EFF      03248         MOVWF   TOSU
0112 50E4      03249         MOVF    PREINC1, W
0114 6EF2      03250         MOVWF   INTCON
0116 C000 FFFB 03251         MOVFF   r0x05, PCLATU
011A C000 FFFA 03252         MOVFF   r0x04, PCLATH
011E 5000      03253         MOVF    r0x03, W
0120 6EF9      03254         MOVWF   PCL
0122 03255 _01125_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0122 0E04      03256         MOVLW   0x04
0124 26E1      03257         ADDWF   FSR1L, F
               03258 ;       .line   84; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  if (is_valid_move(to[0],to[1]) && test_singlemove(from,to,board[from[0]][from[1]]))
Error [113] : Symbol not previously defined (_validmovemask).
0126 0E00      03259         MOVLW   LOW(_validmovemask)
0128 0000      03260         BANKSEL _loop_to_1_1
012A 2500      03261         ADDWF   _loop_to_1_1, W, B
012C 6E00      03262         MOVWF   r0x03
012E 6A00      03263         CLRF    r0x04
Error [113] : Symbol not previously defined (_validmovemask).
0130 0E00      03264         MOVLW   HIGH(_validmovemask)
0132 2200      03265         ADDWFC  r0x04, F
0134 C000 FFE9 03266         MOVFF   r0x03, FSR0L
0138 C000 FFEA 03267         MOVFF   r0x04, FSR0H
013C CFEF F000 03268         MOVFF   INDF0, r0x03
0140 0E01      03269         MOVLW   0x01
0142 6E00      03270         MOVWF   r0x04
0144 6A00      03271         CLRF    r0x05
               03272 ; removed redundant BANKSEL
0146 5100      03273         MOVF    (_loop_to_1_1 + 1), W, B
0148 E000      03274         BZ      _01126_DS_
014A 6CE8      03275         NEGF    WREG
014C 90D8      03276         BCF     STATUS, 0
014E 03277 _01127_DS_:
014E 3600      03278         RLCF    r0x04, F
0150 3600      03279         RLCF    r0x05, F
0152 0F01      03280         ADDLW   0x01
0154 E300      03281         BNC     _01127_DS_
0156 03282 _01126_DS_:
0156 6A00      03283         CLRF    r0x06
0158 5000      03284         MOVF    r0x03, W
015A 1600      03285         ANDWF   r0x04, F
015C 5000      03286         MOVF    r0x06, W
015E 1600      03287         ANDWF   r0x05, F
0160 5000      03288         MOVF    r0x04, W
0162 1000      03289         IORWF   r0x05, W
0164 B4D8      03290         BTFSC   STATUS, 2
0166 D000      03291         BRA     _01055_DS_
               03292 ; ;multiply lit val:0x08 by variable _loop_from_1_1 and store in r0x09
               03293 ; ;Unrolled 8 X 8 multiplication
               03294 ; ;FIXME: the function does not support result==WREG
0168 0000      03295         BANKSEL _loop_from_1_1
016A 5100      03296         MOVF    _loop_from_1_1, W, B
016C 0D08      03297         MULLW   0x08
016E CFF3 F000 03298         MOVFF   PRODL, r0x09
0172 6A00      03299         CLRF    r0x0a
Error [113] : Symbol not previously defined (_board).
0174 0E00      03300         MOVLW   LOW(_board)
0176 2600      03301         ADDWF   r0x09, F
Error [113] : Symbol not previously defined (_board).
0178 0E00      03302         MOVLW   HIGH(_board)
017A 2200      03303         ADDWFC  r0x0a, F
               03304 ; removed redundant BANKSEL
017C 5100      03305         MOVF    (_loop_from_1_1 + 1), W, B
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
017E 2600      03306         ADDWF   r0x09, F
0180 6AE8      03307         CLRF    WREG
0182 2200      03308         ADDWFC  r0x0a, F
0184 C000 FFE9 03309         MOVFF   r0x09, FSR0L
0188 C000 FFEA 03310         MOVFF   r0x0a, FSR0H
018C CFEF F000 03311         MOVFF   INDF0, r0x09
0190 5000      03312         MOVF    r0x09, W
0192 6EE5      03313         MOVWF   POSTDEC1
0194 0E80      03314         MOVLW   0x80
0196 6EE5      03315         MOVWF   POSTDEC1
0198 0E00      03316         MOVLW   HIGH(_loop_to_1_1)
019A 6EE5      03317         MOVWF   POSTDEC1
019C 0E00      03318         MOVLW   LOW(_loop_to_1_1)
019E 6EE5      03319         MOVWF   POSTDEC1
01A0 0E80      03320         MOVLW   0x80
01A2 6EE5      03321         MOVWF   POSTDEC1
01A4 0E00      03322         MOVLW   HIGH(_loop_from_1_1)
01A6 6EE5      03323         MOVWF   POSTDEC1
01A8 0E00      03324         MOVLW   LOW(_loop_from_1_1)
01AA 6EE5      03325         MOVWF   POSTDEC1
01AC EC00 F000 03326         CALL    _test_singlemove
01B0 6E00      03327         MOVWF   r0x03
01B2 0E07      03328         MOVLW   0x07
01B4 26E1      03329         ADDWF   FSR1L, F
01B6 5000      03330         MOVF    r0x03, W
01B8 B4D8      03331         BTFSC   STATUS, 2
01BA D000      03332         BRA     _01055_DS_
               03333 ;       .line   86; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  draw_move(from,to,p);
01BC 5000      03334         MOVF    r0x02, W
01BE 6EE5      03335         MOVWF   POSTDEC1
01C0 0E80      03336         MOVLW   0x80
01C2 6EE5      03337         MOVWF   POSTDEC1
01C4 0E00      03338         MOVLW   HIGH(_loop_to_1_1)
01C6 6EE5      03339         MOVWF   POSTDEC1
01C8 0E00      03340         MOVLW   LOW(_loop_to_1_1)
01CA 6EE5      03341         MOVWF   POSTDEC1
01CC 0E80      03342         MOVLW   0x80
01CE 6EE5      03343         MOVWF   POSTDEC1
01D0 0E00      03344         MOVLW   HIGH(_loop_from_1_1)
01D2 6EE5      03345         MOVWF   POSTDEC1
01D4 0E00      03346         MOVLW   LOW(_loop_from_1_1)
01D6 6EE5      03347         MOVWF   POSTDEC1
01D8 EC00 F000 03348         CALL    _draw_move
01DC 0E07      03349         MOVLW   0x07
01DE 26E1      03350         ADDWF   FSR1L, F
               03351 ;       .line   87; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("\r\n");
01E0 0E00      03352         MOVLW   UPPER(__str_6)
01E2 6EE5      03353         MOVWF   POSTDEC1
01E4 0E00      03354         MOVLW   HIGH(__str_6)
01E6 6EE5      03355         MOVWF   POSTDEC1
01E8 0E00      03356         MOVLW   LOW(__str_6)
01EA 6EE5      03357         MOVWF   POSTDEC1
01EC EC00 F000 03358         CALL    _serial_print
01F0 0E03      03359         MOVLW   0x03
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01F2 26E1      03360         ADDWF   FSR1L, F
               03361 ;       .line   88; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("Vous jouez : ");
01F4 0E00      03362         MOVLW   UPPER(__str_11)
01F6 6EE5      03363         MOVWF   POSTDEC1
01F8 0E00      03364         MOVLW   HIGH(__str_11)
01FA 6EE5      03365         MOVWF   POSTDEC1
01FC 0E00      03366         MOVLW   LOW(__str_11)
01FE 6EE5      03367         MOVWF   POSTDEC1
0200 EC00 F000 03368         CALL    _serial_print
0204 0E03      03369         MOVLW   0x03
0206 26E1      03370         ADDWF   FSR1L, F
               03371 ;       .line   89; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_putchar(from[1]+'a');
0208 0E61      03372         MOVLW   0x61
020A 0000      03373         BANKSEL (_loop_from_1_1 + 1)
020C 2500      03374         ADDWF   (_loop_from_1_1 + 1), W, B
               03375 ; #     MOVWF   r0x03
               03376 ; #     MOVF    r0x03, W
020E 6EE5      03377         MOVWF   POSTDEC1
0210 EC00 F000 03378         CALL    _serial_putchar
0214 2AE1      03379         INCF    FSR1L, F
               03380 ;       .line   90; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_putchar(from[0]+'1');
0216 0E31      03381         MOVLW   0x31
0218 0000      03382         BANKSEL _loop_from_1_1
021A 2500      03383         ADDWF   _loop_from_1_1, W, B
               03384 ; #     MOVWF   r0x03
               03385 ; #     MOVF    r0x03, W
021C 6EE5      03386         MOVWF   POSTDEC1
021E EC00 F000 03387         CALL    _serial_putchar
0222 2AE1      03388         INCF    FSR1L, F
               03389 ;       .line   91; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print(" -> ");
0224 0E00      03390         MOVLW   UPPER(__str_12)
0226 6EE5      03391         MOVWF   POSTDEC1
0228 0E00      03392         MOVLW   HIGH(__str_12)
022A 6EE5      03393         MOVWF   POSTDEC1
022C 0E00      03394         MOVLW   LOW(__str_12)
022E 6EE5      03395         MOVWF   POSTDEC1
0230 EC00 F000 03396         CALL    _serial_print
0234 0E03      03397         MOVLW   0x03
0236 26E1      03398         ADDWF   FSR1L, F
               03399 ;       .line   92; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_putchar(to[1]+'a');
0238 0E61      03400         MOVLW   0x61
023A 0000      03401         BANKSEL (_loop_to_1_1 + 1)
023C 2500      03402         ADDWF   (_loop_to_1_1 + 1), W, B
               03403 ; #     MOVWF   r0x03
               03404 ; #     MOVF    r0x03, W
023E 6EE5      03405         MOVWF   POSTDEC1
0240 EC00 F000 03406         CALL    _serial_putchar
0244 2AE1      03407         INCF    FSR1L, F
               03408 ;       .line   93; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_putchar(to[0]+'1');
0246 0E31      03409         MOVLW   0x31
0248 0000      03410         BANKSEL _loop_to_1_1
024A 2500      03411         ADDWF   _loop_to_1_1, W, B
               03412 ; #     MOVWF   r0x03
               03413 ; #     MOVF    r0x03, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
024C 6EE5      03414         MOVWF   POSTDEC1
024E EC00 F000 03415         CALL    _serial_putchar
0252 2AE1      03416         INCF    FSR1L, F
               03417 ;       .line   94; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("\r\n");
0254 0E00      03418         MOVLW   UPPER(__str_6)
0256 6EE5      03419         MOVWF   POSTDEC1
0258 0E00      03420         MOVLW   HIGH(__str_6)
025A 6EE5      03421         MOVWF   POSTDEC1
025C 0E00      03422         MOVLW   LOW(__str_6)
025E 6EE5      03423         MOVWF   POSTDEC1
0260 EC00 F000 03424         CALL    _serial_print
0264 0E03      03425         MOVLW   0x03
0266 26E1      03426         ADDWF   FSR1L, F
0268 0000      03427         BANKSEL _movecount
               03428 ;       .line   95; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  movecount++;
026A 2B00      03429         INCF    _movecount, F, B
026C E300      03430         BNC     _11496_DS_
               03431 ; removed redundant BANKSEL
026E 2B00      03432         INCF    (_movecount + 1), F, B
0270 03433 _11496_DS_:
0270 D000      03434         BRA     _01106_DS_
0272 03435 _01055_DS_:
               03436 ;       .line   99; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("\r\nIllegal move from this piece\r\n");
0272 0E00      03437         MOVLW   UPPER(__str_13)
0274 6EE5      03438         MOVWF   POSTDEC1
0276 0E00      03439         MOVLW   HIGH(__str_13)
0278 6EE5      03440         MOVWF   POSTDEC1
027A 0E00      03441         MOVLW   LOW(__str_13)
027C 6EE5      03442         MOVWF   POSTDEC1
027E EC00 F000 03443         CALL    _serial_print
0282 0E03      03444         MOVLW   0x03
0284 26E1      03445         ADDWF   FSR1L, F
0286 03446 _01106_DS_:
               03447 ;       .line   104; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i = 0; i < 8;++i)
0286 6A00      03448         CLRF    r0x03
0288 03449 _01080_DS_:
0288 0E08      03450         MOVLW   0x08
028A 5C00      03451         SUBWF   r0x03, W
028C B0D8      03452         BTFSC   STATUS, 0
028E D000      03453         BRA     _01092_DS_
               03454 ;       .line   106; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c validmovemask[i] = 0;
Error [113] : Symbol not previously defined (_validmovemask).
0290 0E00      03455         MOVLW   LOW(_validmovemask)
0292 2400      03456         ADDWF   r0x03, W
0294 6E00      03457         MOVWF   r0x04
0296 6A00      03458         CLRF    r0x05
Error [113] : Symbol not previously defined (_validmovemask).
0298 0E00      03459         MOVLW   HIGH(_validmovemask)
029A 2200      03460         ADDWFC  r0x05, F
029C C000 FFE9 03461         MOVFF   r0x04, FSR0L
02A0 C000 FFEA 03462         MOVFF   r0x05, FSR0H
02A4 6AEF      03463         CLRF    INDF0
               03464 ;       .line   107; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c capturemask[i] = 0;
Error [113] : Symbol not previously defined (_capturemask).
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02A6 0E00      03465         MOVLW   LOW(_capturemask)
02A8 2400      03466         ADDWF   r0x03, W
02AA 6E00      03467         MOVWF   r0x04
02AC 6A00      03468         CLRF    r0x05
Error [113] : Symbol not previously defined (_capturemask).
02AE 0E00      03469         MOVLW   HIGH(_capturemask)
02B0 2200      03470         ADDWFC  r0x05, F
02B2 C000 FFE9 03471         MOVFF   r0x04, FSR0L
02B6 C000 FFEA 03472         MOVFF   r0x05, FSR0H
02BA 6AEF      03473         CLRF    INDF0
               03474 ;       .line   104; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i = 0; i < 8;++i)
02BC 2A00      03475         INCF    r0x03, F
02BE D000      03476         BRA     _01080_DS_
02C0 03477 _01078_DS_:
               03478 ;       .line   112; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c else if ((movecount+1)%2 == 1)
02C0 5000      03479         MOVF    r0x00, W
02C2 0A01      03480         XORLW   0x01
02C4 E100      03481         BNZ     _01129_DS_
02C6 5000      03482         MOVF    r0x01, W
02C8 E000      03483         BZ      _01130_DS_
02CA 03484 _01129_DS_:
02CA D000      03485         BRA     _01075_DS_
02CC 03486 _01130_DS_:
               03487 ;       .line   114; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bestfrom = bestto = NO_MOVE;
02CC 6800      03488         SETF    r0x00
02CE 6800      03489         SETF    r0x01
02D0 0000      03490         BANKSEL _piecerate
               03491 ;       .line   115; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c rate = piecerate = 0;
02D2 6B00      03492         CLRF    _piecerate, B
02D4 0000      03493         BANKSEL _rate
02D6 6B00      03494         CLRF    _rate, B
               03495 ;       .line   116; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_print("I'm thinking ...");
02D8 0E00      03496         MOVLW   UPPER(__str_14)
02DA 6EE5      03497         MOVWF   POSTDEC1
02DC 0E00      03498         MOVLW   HIGH(__str_14)
02DE 6EE5      03499         MOVWF   POSTDEC1
02E0 0E00      03500         MOVLW   LOW(__str_14)
02E2 6EE5      03501         MOVWF   POSTDEC1
02E4 EC00 F000 03502         CALL    _serial_print
02E8 0E03      03503         MOVLW   0x03
02EA 26E1      03504         ADDWF   FSR1L, F
               03505 ;       .line   118; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i = 0; i < 8;++i)
02EC 6A00      03506         CLRF    r0x03
02EE 6A00      03507         CLRF    r0x04
02F0 03508 _01088_DS_:
02F0 0E08      03509         MOVLW   0x08
02F2 5C00      03510         SUBWF   r0x03, W
02F4 B0D8      03511         BTFSC   STATUS, 0
02F6 D000      03512         BRA     _01091_DS_
               03513 ;       .line   120; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (j = 0;j < 8;++j)
Error [113] : Symbol not previously defined (_board).
02F8 0E00      03514         MOVLW   LOW(_board)
02FA 2400      03515         ADDWF   r0x04, W
02FC 6E00      03516         MOVWF   r0x05
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02FE 6A00      03517         CLRF    r0x06
Error [113] : Symbol not previously defined (_board).
0300 0E00      03518         MOVLW   HIGH(_board)
0302 2200      03519         ADDWFC  r0x06, F
0304 6A00      03520         CLRF    r0x07
0306 03521 _01084_DS_:
0306 0E08      03522         MOVLW   0x08
0308 5C00      03523         SUBWF   r0x07, W
030A B0D8      03524         BTFSC   STATUS, 0
030C D000      03525         BRA     _01090_DS_
               03526 ;       .line   122; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (board[i][j] & 0x08)
030E 5000      03527         MOVF    r0x07, W
0310 2400      03528         ADDWF   r0x05, W
0312 6E00      03529         MOVWF   r0x08
0314 6AE8      03530         CLRF    WREG
0316 2000      03531         ADDWFC  r0x06, W
0318 6E00      03532         MOVWF   r0x09
031A C000 FFE9 03533         MOVFF   r0x08, FSR0L
031E C000 FFEA 03534         MOVFF   r0x09, FSR0H
0322 CFEF F000 03535         MOVFF   INDF0, r0x08
0326 A600      03536         BTFSS   r0x08, 3
0328 D000      03537         BRA     _01064_DS_
               03538 ;       .line   124; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c cpufrom[0] = i;
032A 5000      03539         MOVF    r0x03, W
032C 0000      03540         BANKSEL _loop_cpufrom_1_1
032E 6F00      03541         MOVWF   _loop_cpufrom_1_1, B
               03542 ;       .line   125; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c cpufrom[1] = j;
0330 5000      03543         MOVF    r0x07, W
               03544 ; removed redundant BANKSEL
0332 6F00      03545         MOVWF   (_loop_cpufrom_1_1 + 1), B
               03546 ;       .line   126; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c p = board[i][j];
0334 C000 F000 03547         MOVFF   r0x08, r0x02
               03548 ;       .line   127; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c validate[piecetype(p)](cpufrom,BLACK);
0338 0E07      03549         MOVLW   0x07
033A 1400      03550         ANDWF   r0x02, W
               03551 ; #     MOVWF   r0x08
               03552 ; #;;multiply lit val:0x03 by variable r0x08 and store in r0x08
               03553 ; #;;Unrolled 8 X 8 multiplication
               03554 ; #;;FIXME: the function does not support result==WREG
               03555 ; #     MOVF    r0x08, W
033C 0D03      03556         MULLW   0x03
033E CFF3 F000 03557         MOVFF   PRODL, r0x08
0342 6A00      03558         CLRF    r0x09
0344 0E00      03559         MOVLW   LOW(_validate)
0346 2600      03560         ADDWF   r0x08, F
0348 0E00      03561         MOVLW   HIGH(_validate)
034A 2200      03562         ADDWFC  r0x09, F
034C C000 FFE9 03563         MOVFF   r0x08, FSR0L
0350 C000 FFEA 03564         MOVFF   r0x09, FSR0H
0354 CFEE F000 03565         MOVFF   POSTINC0, r0x08
0358 CFEE F000 03566         MOVFF   POSTINC0, r0x09
035C CFEF F000 03567         MOVFF   INDF0, r0x0a
0360 0E08      03568         MOVLW   0x08
0362 6EE5      03569         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0364 0E80      03570         MOVLW   0x80
0366 6EE5      03571         MOVWF   POSTDEC1
0368 0E00      03572         MOVLW   HIGH(_loop_cpufrom_1_1)
036A 6EE5      03573         MOVWF   POSTDEC1
036C 0E00      03574         MOVLW   LOW(_loop_cpufrom_1_1)
036E 6EE5      03575         MOVWF   POSTDEC1
0370 CFF2 FFE5 03576         MOVFF   INTCON, POSTDEC1
0374 9EF2      03577         BCF     INTCON, 7
0376 0005      03578         PUSH    
0378 0E00      03579         MOVLW   LOW(_01135_DS_)
037A 6EFD      03580         MOVWF   TOSL
037C 0E00      03581         MOVLW   HIGH(_01135_DS_)
037E 6EFE      03582         MOVWF   TOSH
0380 0E00      03583         MOVLW   UPPER(_01135_DS_)
0382 6EFF      03584         MOVWF   TOSU
0384 50E4      03585         MOVF    PREINC1, W
0386 6EF2      03586         MOVWF   INTCON
0388 C000 FFFB 03587         MOVFF   r0x0a, PCLATU
038C C000 FFFA 03588         MOVFF   r0x09, PCLATH
0390 5000      03589         MOVF    r0x08, W
0392 6EF9      03590         MOVWF   PCL
0394 03591 _01135_DS_:
0394 0E04      03592         MOVLW   0x04
0396 26E1      03593         ADDWF   FSR1L, F
               03594 ;       .line   130; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c moveto   = getbestpiecemove(cpufrom);
0398 0E80      03595         MOVLW   0x80
               03596 ; #     MOVWF   r0x0a
               03597 ; #     MOVF    r0x0a, W
039A 6EE5      03598         MOVWF   POSTDEC1
039C 0E00      03599         MOVLW   HIGH(_loop_cpufrom_1_1)
039E 6EE5      03600         MOVWF   POSTDEC1
03A0 0E00      03601         MOVLW   LOW(_loop_cpufrom_1_1)
03A2 6EE5      03602         MOVWF   POSTDEC1
03A4 EC00 F000 03603         CALL    _getbestpiecemove
03A8 6E00      03604         MOVWF   r0x08
03AA 0E03      03605         MOVLW   0x03
03AC 26E1      03606         ADDWF   FSR1L, F
               03607 ; ;multiply lit val:0x08 by variable _loop_cpufrom_1_1 and store in r0x09
               03608 ; ;Unrolled 8 X 8 multiplication
               03609 ; ;FIXME: the function does not support result==WREG
03AE 0000      03610         BANKSEL _loop_cpufrom_1_1
               03611 ;       .line   131; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c movefrom = getindex(cpufrom[0],cpufrom[1]); 
03B0 5100      03612         MOVF    _loop_cpufrom_1_1, W, B
03B2 0D08      03613         MULLW   0x08
03B4 CFF3 F000 03614         MOVFF   PRODL, r0x09
               03615 ; removed redundant BANKSEL
03B8 5100      03616         MOVF    (_loop_cpufrom_1_1 + 1), W, B
03BA 2600      03617         ADDWF   r0x09, F
               03618 ; ;multiply lit val:0x08 by variable _loop_cpufrom_1_1 and store in r0x0a
               03619 ; ;Unrolled 8 X 8 multiplication
               03620 ; ;FIXME: the function does not support result==WREG
               03621 ; removed redundant BANKSEL
               03622 ;       .line   134; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (((board[cpufrom[0]][cpufrom[1]]&0x07) == lastmove) && (movetype < 3))
03BC 5100      03623         MOVF    _loop_cpufrom_1_1, W, B
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
03BE 0D08      03624         MULLW   0x08
03C0 CFF3 F000 03625         MOVFF   PRODL, r0x0a
03C4 6A00      03626         CLRF    r0x0b
Error [113] : Symbol not previously defined (_board).
03C6 0E00      03627         MOVLW   LOW(_board)
03C8 2600      03628         ADDWF   r0x0a, F
Error [113] : Symbol not previously defined (_board).
03CA 0E00      03629         MOVLW   HIGH(_board)
03CC 2200      03630         ADDWFC  r0x0b, F
               03631 ; removed redundant BANKSEL
03CE 5100      03632         MOVF    (_loop_cpufrom_1_1 + 1), W, B
03D0 2600      03633         ADDWF   r0x0a, F
03D2 6AE8      03634         CLRF    WREG
03D4 2200      03635         ADDWFC  r0x0b, F
03D6 C000 FFE9 03636         MOVFF   r0x0a, FSR0L
03DA C000 FFEA 03637         MOVFF   r0x0b, FSR0H
03DE CFEF F000 03638         MOVFF   INDF0, r0x0a
03E2 0E07      03639         MOVLW   0x07
03E4 1600      03640         ANDWF   r0x0a, F
03E6 5000      03641         MOVF    r0x0a, W
03E8 0000      03642         BANKSEL _lastmove
03EA 1900      03643         XORWF   _lastmove, W, B
03EC E100      03644         BNZ     _01059_DS_
03EE 0E03      03645         MOVLW   0x03
03F0 0000      03646         BANKSEL _movetype
03F2 5D00      03647         SUBWF   _movetype, W, B
03F4 E200      03648         BC      _01059_DS_
               03649 ;       .line   135; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c piecerate -= 3;
03F6 0EFD      03650         MOVLW   0xfd
03F8 0000      03651         BANKSEL _piecerate
03FA 2700      03652         ADDWF   _piecerate, F, B
03FC 03653 _01059_DS_:
03FC 0000      03654         BANKSEL _piecerate
               03655 ;       .line   137; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (piecerate > rate)
03FE 5100      03656         MOVF    _piecerate, W, B
0400 0000      03657         BANKSEL _rate
0402 5D00      03658         SUBWF   _rate, W, B
0404 E200      03659         BC      _01064_DS_
               03660 ;       .line   139; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c rate     = piecerate;
0406 C000 F000 03661         MOVFF   _piecerate, _rate
               03662 ;       .line   140; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bestfrom = movefrom;
040A C000 F000 03663         MOVFF   r0x09, r0x01
               03664 ;       .line   141; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c bestto   = moveto;
040E C000 F000 03665         MOVFF   r0x08, r0x00
0412 03666 _01064_DS_:
0412 0000      03667         BANKSEL _movetype
               03668 ;       .line   146; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c movetype = NO_MOVE;  
0414 6900      03669         SETF    _movetype, B
               03670 ;       .line   120; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (j = 0;j < 8;++j)
0416 2A00      03671         INCF    r0x07, F
0418 D000      03672         BRA     _01084_DS_
041A 03673 _01090_DS_:
               03674 ;       .line   118; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c for (i = 0; i < 8;++i)
041A 0E08      03675         MOVLW   0x08
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 72


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
041C 2600      03676         ADDWF   r0x04, F
041E 2A00      03677         INCF    r0x03, F
0420 D000      03678         BRA     _01088_DS_
0422 03679 _01091_DS_:
0422 0000      03680         BANKSEL _rate
               03681 ;       .line   150; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c if (rate != 0) 
0424 5100      03682         MOVF    _rate, W, B
0426 B4D8      03683         BTFSC   STATUS, 2
0428 D000      03684         BRA     _01069_DS_
               03685 ;       .line   152; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c getcoord (cpufrom[0],cpufrom[1],bestfrom);   
042A 3800      03686         SWAPF   r0x01, W
042C 44E8      03687         RLNCF   WREG, W
042E 0B1F      03688         ANDLW   0x1f
               03689 ; #     MOVWF   r0x03
               03690 ; #     MOVF    r0x03, W
0430 6E00      03691         MOVWF   r0x03
0432 0000      03692         BANKSEL _loop_cpufrom_1_1
0434 6F00      03693         MOVWF   _loop_cpufrom_1_1, B
0436 0E07      03694         MOVLW   0x07
0438 1600      03695         ANDWF   r0x01, F
043A 5000      03696         MOVF    r0x01, W
               03697 ; removed redundant BANKSEL
043C 6F00      03698         MOVWF   (_loop_cpufrom_1_1 + 1), B
               03699 ;       .line   153; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c getcoord (cputo[0],cputo[1],bestto);   
043E 3800      03700         SWAPF   r0x00, W
0440 44E8      03701         RLNCF   WREG, W
0442 0B1F      03702         ANDLW   0x1f
               03703 ; #     MOVWF   r0x04
               03704 ; #     MOVF    r0x04, W
0444 0000      03705         BANKSEL _loop_cputo_1_1
0446 6F00      03706         MOVWF   _loop_cputo_1_1, B
0448 0E07      03707         MOVLW   0x07
044A 1600      03708         ANDWF   r0x00, F
044C 5000      03709         MOVF    r0x00, W
               03710 ; removed redundant BANKSEL
044E 6F00      03711         MOVWF   (_loop_cputo_1_1 + 1), B
               03712 ; ;multiply lit val:0x08 by variable r0x03 and store in r0x03
               03713 ; ;Unrolled 8 X 8 multiplication
               03714 ; ;FIXME: the function does not support result==WREG
               03715 ;       .line   154; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c p = board[(cpufrom[0])][(cpufrom[1])];
0450 5000      03716         MOVF    r0x03, W
0452 0D08      03717         MULLW   0x08
0454 CFF3 F000 03718         MOVFF   PRODL, r0x03
0458 6A00      03719         CLRF    r0x00
Error [113] : Symbol not previously defined (_board).
045A 0E00      03720         MOVLW   LOW(_board)
045C 2600      03721         ADDWF   r0x03, F
Error [113] : Symbol not previously defined (_board).
045E 0E00      03722         MOVLW   HIGH(_board)
0460 2200      03723         ADDWFC  r0x00, F
0462 6A00      03724         CLRF    r0x04
0464 5000      03725         MOVF    r0x03, W
0466 2600      03726         ADDWF   r0x01, F
0468 5000      03727         MOVF    r0x00, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 73


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
046A 2200      03728         ADDWFC  r0x04, F
046C C000 FFE9 03729         MOVFF   r0x01, FSR0L
0470 C000 FFEA 03730         MOVFF   r0x04, FSR0H
0474 CFEF F000 03731         MOVFF   INDF0, r0x02
               03732 ;       .line   155; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c draw_move(cpufrom,cputo,p);
0478 5000      03733         MOVF    r0x02, W
047A 6EE5      03734         MOVWF   POSTDEC1
047C 0E80      03735         MOVLW   0x80
047E 6EE5      03736         MOVWF   POSTDEC1
0480 0E00      03737         MOVLW   HIGH(_loop_cputo_1_1)
0482 6EE5      03738         MOVWF   POSTDEC1
0484 0E00      03739         MOVLW   LOW(_loop_cputo_1_1)
0486 6EE5      03740         MOVWF   POSTDEC1
0488 0E80      03741         MOVLW   0x80
048A 6EE5      03742         MOVWF   POSTDEC1
048C 0E00      03743         MOVLW   HIGH(_loop_cpufrom_1_1)
048E 6EE5      03744         MOVWF   POSTDEC1
0490 0E00      03745         MOVLW   LOW(_loop_cpufrom_1_1)
0492 6EE5      03746         MOVWF   POSTDEC1
0494 EC00 F000 03747         CALL    _draw_move
0498 0E07      03748         MOVLW   0x07
049A 26E1      03749         ADDWF   FSR1L, F
               03750 ;       .line   156; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c lastmove = (((p&0x07) != PAWN) && ((p&0x07) != KING)) ? p&0x07 : 0;
049C 1400      03751         ANDWF   r0x02, W
049E 6E00      03752         MOVWF   r0x00
04A0 6A00      03753         CLRF    r0x01
04A2 5000      03754         MOVF    r0x00, W
04A4 0A01      03755         XORLW   0x01
04A6 E100      03756         BNZ     _01145_DS_
04A8 2A00      03757         INCF    r0x01, F
04AA 03758 _01145_DS_:
04AA 5000      03759         MOVF    r0x01, W
04AC 80D8      03760         BSF     STATUS, 0
04AE 66E8      03761         TSTFSZ  WREG
04B0 90D8      03762         BCF     STATUS, 0
04B2 6A00      03763         CLRF    r0x01
04B4 3600      03764         RLCF    r0x01, F
04B6 5000      03765         MOVF    r0x01, W
04B8 E000      03766         BZ      _01096_DS_
04BA 6A00      03767         CLRF    r0x01
04BC 5000      03768         MOVF    r0x00, W
04BE 0A06      03769         XORLW   0x06
04C0 E100      03770         BNZ     _01147_DS_
04C2 2A00      03771         INCF    r0x01, F
04C4 03772 _01147_DS_:
04C4 5000      03773         MOVF    r0x01, W
04C6 80D8      03774         BSF     STATUS, 0
04C8 66E8      03775         TSTFSZ  WREG
04CA 90D8      03776         BCF     STATUS, 0
04CC 6A00      03777         CLRF    r0x01
04CE 3600      03778         RLCF    r0x01, F
04D0 5000      03779         MOVF    r0x01, W
04D2 E100      03780         BNZ     _01097_DS_
04D4 03781 _01096_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 74


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
04D4 6A00      03782         CLRF    r0x01
04D6 D000      03783         BRA     _01098_DS_
04D8 03784 _01097_DS_:
04D8 0E01      03785         MOVLW   0x01
04DA 6E00      03786         MOVWF   r0x01
04DC 03787 _01098_DS_:
04DC 5000      03788         MOVF    r0x01, W
04DE E100      03789         BNZ     _01095_DS_
04E0 6A00      03790         CLRF    r0x00
04E2 03791 _01095_DS_:
04E2 C000 F000 03792         MOVFF   r0x00, _lastmove
               03793 ;       .line   157; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_print("\r\n");
04E6 0E00      03794         MOVLW   UPPER(__str_6)
04E8 6EE5      03795         MOVWF   POSTDEC1
04EA 0E00      03796         MOVLW   HIGH(__str_6)
04EC 6EE5      03797         MOVWF   POSTDEC1
04EE 0E00      03798         MOVLW   LOW(__str_6)
04F0 6EE5      03799         MOVWF   POSTDEC1
04F2 EC00 F000 03800         CALL    _serial_print
04F6 0E03      03801         MOVLW   0x03
04F8 26E1      03802         ADDWF   FSR1L, F
               03803 ;       .line   158; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_print("Je joue : ");
04FA 0E00      03804         MOVLW   UPPER(__str_15)
04FC 6EE5      03805         MOVWF   POSTDEC1
04FE 0E00      03806         MOVLW   HIGH(__str_15)
0500 6EE5      03807         MOVWF   POSTDEC1
0502 0E00      03808         MOVLW   LOW(__str_15)
0504 6EE5      03809         MOVWF   POSTDEC1
0506 EC00 F000 03810         CALL    _serial_print
050A 0E03      03811         MOVLW   0x03
050C 26E1      03812         ADDWF   FSR1L, F
               03813 ;       .line   159; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar(cpufrom[1]+'a');
050E 0E61      03814         MOVLW   0x61
0510 0000      03815         BANKSEL (_loop_cpufrom_1_1 + 1)
0512 2500      03816         ADDWF   (_loop_cpufrom_1_1 + 1), W, B
               03817 ; #     MOVWF   r0x00
               03818 ; #     MOVF    r0x00, W
0514 6EE5      03819         MOVWF   POSTDEC1
0516 EC00 F000 03820         CALL    _serial_putchar
051A 2AE1      03821         INCF    FSR1L, F
               03822 ;       .line   160; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar(cpufrom[0]+'1');
051C 0E31      03823         MOVLW   0x31
051E 0000      03824         BANKSEL _loop_cpufrom_1_1
0520 2500      03825         ADDWF   _loop_cpufrom_1_1, W, B
               03826 ; #     MOVWF   r0x00
               03827 ; #     MOVF    r0x00, W
0522 6EE5      03828         MOVWF   POSTDEC1
0524 EC00 F000 03829         CALL    _serial_putchar
0528 2AE1      03830         INCF    FSR1L, F
               03831 ;       .line   161; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_print(" -> ");
052A 0E00      03832         MOVLW   UPPER(__str_12)
052C 6EE5      03833         MOVWF   POSTDEC1
052E 0E00      03834         MOVLW   HIGH(__str_12)
0530 6EE5      03835         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 75


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0532 0E00      03836         MOVLW   LOW(__str_12)
0534 6EE5      03837         MOVWF   POSTDEC1
0536 EC00 F000 03838         CALL    _serial_print
053A 0E03      03839         MOVLW   0x03
053C 26E1      03840         ADDWF   FSR1L, F
               03841 ;       .line   162; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar(cputo[1]+'a');
053E 0E61      03842         MOVLW   0x61
0540 0000      03843         BANKSEL (_loop_cputo_1_1 + 1)
0542 2500      03844         ADDWF   (_loop_cputo_1_1 + 1), W, B
               03845 ; #     MOVWF   r0x00
               03846 ; #     MOVF    r0x00, W
0544 6EE5      03847         MOVWF   POSTDEC1
0546 EC00 F000 03848         CALL    _serial_putchar
054A 2AE1      03849         INCF    FSR1L, F
               03850 ;       .line   163; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_putchar(cputo[0]+'1');
054C 0E31      03851         MOVLW   0x31
054E 0000      03852         BANKSEL _loop_cputo_1_1
0550 2500      03853         ADDWF   _loop_cputo_1_1, W, B
               03854 ; #     MOVWF   r0x00
               03855 ; #     MOVF    r0x00, W
0552 6EE5      03856         MOVWF   POSTDEC1
0554 EC00 F000 03857         CALL    _serial_putchar
0558 2AE1      03858         INCF    FSR1L, F
               03859 ;       .line   164; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_print("\r\n");
055A 0E00      03860         MOVLW   UPPER(__str_6)
055C 6EE5      03861         MOVWF   POSTDEC1
055E 0E00      03862         MOVLW   HIGH(__str_6)
0560 6EE5      03863         MOVWF   POSTDEC1
0562 0E00      03864         MOVLW   LOW(__str_6)
0564 6EE5      03865         MOVWF   POSTDEC1
0566 EC00 F000 03866         CALL    _serial_print
056A 0E03      03867         MOVLW   0x03
056C 26E1      03868         ADDWF   FSR1L, F
056E 0000      03869         BANKSEL _movecount
               03870 ;       .line   165; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c movecount++;
0570 2B00      03871         INCF    _movecount, F, B
0572 E300      03872         BNC     _21497_DS_
               03873 ; removed redundant BANKSEL
0574 2B00      03874         INCF    (_movecount + 1), F, B
0576 03875 _21497_DS_:
0576 D000      03876         BRA     _01092_DS_
0578 03877 _01069_DS_:
               03878 ;       .line   170; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_print("Pinguino lost - You win!\r\n");
0578 0E00      03879         MOVLW   UPPER(__str_16)
057A 6EE5      03880         MOVWF   POSTDEC1
057C 0E00      03881         MOVLW   HIGH(__str_16)
057E 6EE5      03882         MOVWF   POSTDEC1
0580 0E00      03883         MOVLW   LOW(__str_16)
0582 6EE5      03884         MOVWF   POSTDEC1
0584 EC00 F000 03885         CALL    _serial_print
0588 0000      03886         BANKSEL _movecount
               03887 ;       .line   171; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c movecount++;   
058A 2B00      03888         INCF    _movecount, F, B
058C E300      03889         BNC     _31498_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 76


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               03890 ; removed redundant BANKSEL
058E 2B00      03891         INCF    (_movecount + 1), F, B
0590 03892 _31498_DS_:
0590 03893 _01066_DS_:
               03894 ;       .line   172; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c while(1);//break;
0590 D000      03895         BRA     _01066_DS_
0592 03896 _01075_DS_:
               03897 ;       .line   178; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c serial_print("Well done my friend!\r\n");
0592 0E00      03898         MOVLW   UPPER(__str_17)
0594 6EE5      03899         MOVWF   POSTDEC1
0596 0E00      03900         MOVLW   HIGH(__str_17)
0598 6EE5      03901         MOVWF   POSTDEC1
059A 0E00      03902         MOVLW   LOW(__str_17)
059C 6EE5      03903         MOVWF   POSTDEC1
059E EC00 F000 03904         CALL    _serial_print
05A2 03905 _01072_DS_:
               03906 ;       .line   179; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c while(1);//break;
05A2 D000      03907         BRA     _01072_DS_
05A4 03908 _01092_DS_:
05A4 CFE4 F000 03909         MOVFF   PREINC1, r0x0b
05A8 CFE4 F000 03910         MOVFF   PREINC1, r0x0a
05AC CFE4 F000 03911         MOVFF   PREINC1, r0x09
05B0 CFE4 F000 03912         MOVFF   PREINC1, r0x08
05B4 CFE4 F000 03913         MOVFF   PREINC1, r0x07
05B8 CFE4 F000 03914         MOVFF   PREINC1, r0x06
05BC CFE4 F000 03915         MOVFF   PREINC1, r0x05
05C0 CFE4 F000 03916         MOVFF   PREINC1, r0x04
05C4 CFE4 F000 03917         MOVFF   PREINC1, r0x03
05C8 CFE4 F000 03918         MOVFF   PREINC1, r0x02
05CC CFE4 F000 03919         MOVFF   PREINC1, r0x01
05D0 CFE4 F000 03920         MOVFF   PREINC1, r0x00
05D4 0012      03921         RETURN  
               03922 
               03923 ; ; Starting pCode block
               03924 S_main__setup   code
0000 03925 _setup:
               03926 ;       .line   40; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_begin(9600);             // 9600,n,8,1 reception en IT
0000 6AE5      03927         CLRF    POSTDEC1
0002 6AE5      03928         CLRF    POSTDEC1
0004 0E25      03929         MOVLW   0x25
0006 6EE5      03930         MOVWF   POSTDEC1
0008 0E80      03931         MOVLW   0x80
000A 6EE5      03932         MOVWF   POSTDEC1
000C EC00 F000 03933         CALL    _serial_begin
0010 0E04      03934         MOVLW   0x04
0012 26E1      03935         ADDWF   FSR1L, F
               03936 ;       .line   41; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  movecount   = 1;
0014 0E01      03937         MOVLW   0x01
0016 0000      03938         BANKSEL _movecount
0018 6F00      03939         MOVWF   _movecount, B
               03940 ; removed redundant BANKSEL
001A 6B00      03941         CLRF    (_movecount + 1), B
Error [113] : Symbol not previously defined (_kingcapture).
001C 0100      03942         BANKSEL _kingcapture
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 77


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               03943 ;       .line   42; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  kingcapture = FALSE;
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
001E 6B00      03944         CLRF    _kingcapture, B
               03945 ;       .line   43; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  movetype = NO_MOVE;      
0020 0EFF      03946         MOVLW   0xff
0022 0000      03947         BANKSEL _movetype
0024 6900      03948         SETF    _movetype, B
               03949 ;       .line   44; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  init_board();
0026 EC00 F000 03950         CALL    _init_board
               03951 ;       .line   45; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("\r\n");
002A 0E00      03952         MOVLW   UPPER(__str_6)
002C 6EE5      03953         MOVWF   POSTDEC1
002E 0E00      03954         MOVLW   HIGH(__str_6)
0030 6EE5      03955         MOVWF   POSTDEC1
0032 0E00      03956         MOVLW   LOW(__str_6)
0034 6EE5      03957         MOVWF   POSTDEC1
0036 EC00 F000 03958         CALL    _serial_print
003A 0E03      03959         MOVLW   0x03
003C 26E1      03960         ADDWF   FSR1L, F
               03961 ;       .line   46; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("\r\n");
003E 0E00      03962         MOVLW   UPPER(__str_6)
0040 6EE5      03963         MOVWF   POSTDEC1
0042 0E00      03964         MOVLW   HIGH(__str_6)
0044 6EE5      03965         MOVWF   POSTDEC1
0046 0E00      03966         MOVLW   LOW(__str_6)
0048 6EE5      03967         MOVWF   POSTDEC1
004A EC00 F000 03968         CALL    _serial_print
004E 0E03      03969         MOVLW   0x03
0050 26E1      03970         ADDWF   FSR1L, F
               03971 ;       .line   47; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("---------------------------------\r\n");
0052 0E00      03972         MOVLW   UPPER(__str_7)
0054 6EE5      03973         MOVWF   POSTDEC1
0056 0E00      03974         MOVLW   HIGH(__str_7)
0058 6EE5      03975         MOVWF   POSTDEC1
005A 0E00      03976         MOVLW   LOW(__str_7)
005C 6EE5      03977         MOVWF   POSTDEC1
005E EC00 F000 03978         CALL    _serial_print
0062 0E03      03979         MOVLW   0x03
0064 26E1      03980         ADDWF   FSR1L, F
               03981 ;       .line   48; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("- PLAY CHESS WITH YOUR PINGUINO -\r\n");
0066 0E00      03982         MOVLW   UPPER(__str_8)
0068 6EE5      03983         MOVWF   POSTDEC1
006A 0E00      03984         MOVLW   HIGH(__str_8)
006C 6EE5      03985         MOVWF   POSTDEC1
006E 0E00      03986         MOVLW   LOW(__str_8)
0070 6EE5      03987         MOVWF   POSTDEC1
0072 EC00 F000 03988         CALL    _serial_print
0076 0E03      03989         MOVLW   0x03
0078 26E1      03990         ADDWF   FSR1L, F
               03991 ;       .line   49; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("- input example : e2e4          -\r\n");
007A 0E00      03992         MOVLW   UPPER(__str_9)
007C 6EE5      03993         MOVWF   POSTDEC1
007E 0E00      03994         MOVLW   HIGH(__str_9)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 78


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0080 6EE5      03995         MOVWF   POSTDEC1
0082 0E00      03996         MOVLW   LOW(__str_9)
0084 6EE5      03997         MOVWF   POSTDEC1
0086 EC00 F000 03998         CALL    _serial_print
008A 0E03      03999         MOVLW   0x03
008C 26E1      04000         ADDWF   FSR1L, F
               04001 ;       .line   50; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/user.c  serial_print("---------------------------------\r\n");
008E 0E00      04002         MOVLW   UPPER(__str_7)
0090 6EE5      04003         MOVWF   POSTDEC1
0092 0E00      04004         MOVLW   HIGH(__str_7)
0094 6EE5      04005         MOVWF   POSTDEC1
0096 0E00      04006         MOVLW   LOW(__str_7)
0098 6EE5      04007         MOVWF   POSTDEC1
009A EC00 F000 04008         CALL    _serial_print
009E 0E03      04009         MOVLW   0x03
00A0 26E1      04010         ADDWF   FSR1L, F
00A2 0012      04011         RETURN  
               04012 
               04013 ; ; Starting pCode block
               04014 S_main__epapout_init    code
0000 04015 _epapout_init:
               04016 ;       .line   45; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c  void epapout_init() { return; }
0000 0012      04017         RETURN  
               04018 
               04019 ; ; Starting pCode block
               04020 S_main__epapin_init     code
0000 04021 _epapin_init:
               04022 ;       .line   44; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c  void epapin_init() { return; }
0000 0012      04023         RETURN  
               04024 
               04025 ; ; Starting pCode block
               04026 S_main__epap_out        code
0000 04027 _epap_out:
               04028 ;       .line   43; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c  void epap_out() { return; }
0000 0012      04029         RETURN  
               04030 
               04031 ; ; Starting pCode block
               04032 S_main__epap_in code
0000 04033 _epap_in:
               04034 ;       .line   42; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.c  void epap_in() { return; }
0000 0012      04035         RETURN  
               04036 
               04037 ; ; Starting pCode block
               04038 S_main__serial_println  code
0000 04039 _serial_println:
               04040 ;       .line   218; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  void serial_println(char *fmt,...)
0000 CFD9 FFE5 04041         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04042         MOVFF   FSR1L, FSR2L
               04043 ;       .line   220; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  serial_print(fmt);
0008 C000 FFE5 04044         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 04045         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 04046         MOVFF   r0x02, POSTDEC1
0014 0E02      04047         MOVLW   0x02
0016 CFDB F000 04048         MOVFF   PLUSW2, r0x00
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 79


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
001A 0E03      04049         MOVLW   0x03
001C CFDB F000 04050         MOVFF   PLUSW2, r0x01
0020 0E04      04051         MOVLW   0x04
0022 CFDB F000 04052         MOVFF   PLUSW2, r0x02
0026 CFE4 F000 04053         MOVFF   PREINC1, r0x02
002A CFE4 F000 04054         MOVFF   PREINC1, r0x01
002E CFE4 F000 04055         MOVFF   PREINC1, r0x00
0032 C000 FFE5 04056         MOVFF   r0x03, POSTDEC1
0036 C000 FFE5 04057         MOVFF   r0x04, POSTDEC1
003A C000 FFE5 04058         MOVFF   r0x05, POSTDEC1
003E 0E02      04059         MOVLW   0x02
0040 CFDB F000 04060         MOVFF   PLUSW2, r0x03
0044 0E03      04061         MOVLW   0x03
0046 CFDB F000 04062         MOVFF   PLUSW2, r0x04
004A 0E04      04063         MOVLW   0x04
004C CFDB F000 04064         MOVFF   PLUSW2, r0x05
0050 5000      04065         MOVF    r0x05, W
0052 6EE5      04066         MOVWF   POSTDEC1
0054 5000      04067         MOVF    r0x04, W
0056 6EE5      04068         MOVWF   POSTDEC1
0058 5000      04069         MOVF    r0x03, W
005A 6EE5      04070         MOVWF   POSTDEC1
005C CFE4 F000 04071         MOVFF   PREINC1, r0x05
0060 CFE4 F000 04072         MOVFF   PREINC1, r0x04
0064 CFE4 F000 04073         MOVFF   PREINC1, r0x03
0068 EC00 F000 04074         CALL    _serial_print
006C 0E03      04075         MOVLW   0x03
006E 26E1      04076         ADDWF   FSR1L, F
               04077 ;       .line   221; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  serial_printf("\n\r");
0070 0E00      04078         MOVLW   UPPER(__str_5)
0072 6EE5      04079         MOVWF   POSTDEC1
0074 0E00      04080         MOVLW   HIGH(__str_5)
0076 6EE5      04081         MOVWF   POSTDEC1
0078 0E00      04082         MOVLW   LOW(__str_5)
007A 6EE5      04083         MOVWF   POSTDEC1
007C EC00 F000 04084         CALL    _serial_printf
0080 0E03      04085         MOVLW   0x03
0082 26E1      04086         ADDWF   FSR1L, F
0084 CFE4 FFD9 04087         MOVFF   PREINC1, FSR2L
0088 0012      04088         RETURN  
               04089 
               04090 ; ; Starting pCode block
               04091 S_main__serial_print    code
0000 04092 _serial_print:
               04093 ;       .line   180; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  void serial_print(char *fmt,...)
0000 CFD9 FFE5 04094         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04095         MOVFF   FSR1L, FSR2L
0008 0E08      04096         MOVLW   0x08
000A 5EE1      04097         SUBWF   FSR1L, F
000C A0D8      04098         BTFSS   STATUS, 0
000E 06E2      04099         DECF    FSR1H, F
0010 C000 FFE5 04100         MOVFF   r0x00, POSTDEC1
0014 C000 FFE5 04101         MOVFF   r0x01, POSTDEC1
0018 C000 FFE5 04102         MOVFF   r0x02, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 80


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
001C C000 FFE5 04103         MOVFF   r0x03, POSTDEC1
               04104 ;       .line   186; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  va_start(ap,fmt);
0020 0E02      04105         MOVLW   0x02
0022 24D9      04106         ADDWF   FSR2L, W
0024 6E00      04107         MOVWF   r0x00
0026 0E00      04108         MOVLW   0x00
0028 20DA      04109         ADDWFC  FSR2H, W
002A 6E00      04110         MOVWF   r0x01
002C 0E03      04111         MOVLW   0x03
002E 2600      04112         ADDWF   r0x00, F
0030 B0D8      04113         BTFSC   STATUS, 0
0032 2A00      04114         INCF    r0x01, F
               04115 ; #     MOVF    r0x01, W
               04116 ; #     MOVWF   r0x01
               04117 ; #     MOVF    r0x01, W
               04118 ; #     MOVF    r0x00, W
               04119 ; #     MOVF    r0x00, W
               04120 ; #     MOVWF   r0x00
               04121 ;       .line   187; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  s=va_start(ap,fmt);
0034 0E80      04122         MOVLW   0x80
               04123 ;       .line   189; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  switch (*s)
0036 C000 FFE9 04124         MOVFF   r0x00, FSR0L
003A C000 FFF3 04125         MOVFF   r0x01, PRODL
003E EC00 F000 04126         CALL    __gptrget1
0042 6E00      04127         MOVWF   r0x00
0044 5000      04128         MOVF    r0x00, W
0046 E100      04129         BNZ     _01005_DS_
0048 D000      04130         BRA     _00992_DS_
004A 04131 _01005_DS_:
004A 5000      04132         MOVF    r0x00, W
004C 0A02      04133         XORLW   0x02
004E E100      04134         BNZ     _01007_DS_
0050 D000      04135         BRA     _00994_DS_
0052 04136 _01007_DS_:
0052 5000      04137         MOVF    r0x00, W
0054 0A08      04138         XORLW   0x08
0056 E100      04139         BNZ     _01009_DS_
0058 D000      04140         BRA     _00993_DS_
005A 04141 _01009_DS_:
005A 5000      04142         MOVF    r0x00, W
005C 0A0A      04143         XORLW   0x0a
005E E000      04144         BZ      _00990_DS_
0060 5000      04145         MOVF    r0x00, W
0062 0A10      04146         XORLW   0x10
0064 E000      04147         BZ      _00991_DS_
0066 D000      04148         BRA     _00995_DS_
0068 04149 _00990_DS_:
               04150 ;       .line   191; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  case DEC:       serial_printf("%d",(int)fmt);
0068 C000 FFE5 04151         MOVFF   r0x04, POSTDEC1
006C C000 FFE5 04152         MOVFF   r0x05, POSTDEC1
0070 C000 FFE5 04153         MOVFF   r0x06, POSTDEC1
0074 0E02      04154         MOVLW   0x02
0076 CFDB F000 04155         MOVFF   PLUSW2, r0x04
007A 0E03      04156         MOVLW   0x03
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 81


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
007C CFDB F000 04157         MOVFF   PLUSW2, r0x05
0080 0E04      04158         MOVLW   0x04
0082 CFDB F000 04159         MOVFF   PLUSW2, r0x06
0086 5000      04160         MOVF    r0x04, W
0088 6E00      04161         MOVWF   r0x00
008A 5000      04162         MOVF    r0x05, W
008C CFE4 F000 04163         MOVFF   PREINC1, r0x06
0090 CFE4 F000 04164         MOVFF   PREINC1, r0x05
0094 CFE4 F000 04165         MOVFF   PREINC1, r0x04
0098 6EE5      04166         MOVWF   POSTDEC1
009A 5000      04167         MOVF    r0x00, W
009C 6EE5      04168         MOVWF   POSTDEC1
009E 0E00      04169         MOVLW   UPPER(__str_3)
00A0 6EE5      04170         MOVWF   POSTDEC1
00A2 0E00      04171         MOVLW   HIGH(__str_3)
00A4 6EE5      04172         MOVWF   POSTDEC1
00A6 0E00      04173         MOVLW   LOW(__str_3)
00A8 6EE5      04174         MOVWF   POSTDEC1
00AA EC00 F000 04175         CALL    _serial_printf
00AE 0E05      04176         MOVLW   0x05
00B0 26E1      04177         ADDWF   FSR1L, F
               04178 ;       .line   192; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  break;
00B2 D000      04179         BRA     _00997_DS_
00B4 04180 _00991_DS_:
               04181 ;       .line   193; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  case HEX:               serial_printf("%x",(int)fmt);
00B4 C000 FFE5 04182         MOVFF   r0x04, POSTDEC1
00B8 C000 FFE5 04183         MOVFF   r0x05, POSTDEC1
00BC C000 FFE5 04184         MOVFF   r0x06, POSTDEC1
00C0 0E02      04185         MOVLW   0x02
00C2 CFDB F000 04186         MOVFF   PLUSW2, r0x04
00C6 0E03      04187         MOVLW   0x03
00C8 CFDB F000 04188         MOVFF   PLUSW2, r0x05
00CC 0E04      04189         MOVLW   0x04
00CE CFDB F000 04190         MOVFF   PLUSW2, r0x06
00D2 5000      04191         MOVF    r0x04, W
00D4 6E00      04192         MOVWF   r0x00
00D6 5000      04193         MOVF    r0x05, W
00D8 CFE4 F000 04194         MOVFF   PREINC1, r0x06
00DC CFE4 F000 04195         MOVFF   PREINC1, r0x05
00E0 CFE4 F000 04196         MOVFF   PREINC1, r0x04
00E4 6EE5      04197         MOVWF   POSTDEC1
00E6 5000      04198         MOVF    r0x00, W
00E8 6EE5      04199         MOVWF   POSTDEC1
00EA 0E00      04200         MOVLW   UPPER(__str_4)
00EC 6EE5      04201         MOVWF   POSTDEC1
00EE 0E00      04202         MOVLW   HIGH(__str_4)
00F0 6EE5      04203         MOVWF   POSTDEC1
00F2 0E00      04204         MOVLW   LOW(__str_4)
00F4 6EE5      04205         MOVWF   POSTDEC1
00F6 EC00 F000 04206         CALL    _serial_printf
00FA 0E05      04207         MOVLW   0x05
00FC 26E1      04208         ADDWF   FSR1L, F
               04209 ;       .line   194; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  break;
00FE D000      04210         BRA     _00997_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 82


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0100 04211 _00992_DS_:
               04212 ;       .line   195; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  case BYTE:              serial_printf("%d",(unsigned char)fmt);
0100 C000 FFE5 04213         MOVFF   r0x04, POSTDEC1
0104 C000 FFE5 04214         MOVFF   r0x05, POSTDEC1
0108 C000 FFE5 04215         MOVFF   r0x06, POSTDEC1
010C 0E02      04216         MOVLW   0x02
010E CFDB F000 04217         MOVFF   PLUSW2, r0x04
0112 0E03      04218         MOVLW   0x03
0114 CFDB F000 04219         MOVFF   PLUSW2, r0x05
0118 0E04      04220         MOVLW   0x04
011A CFDB F000 04221         MOVFF   PLUSW2, r0x06
011E 5000      04222         MOVF    r0x04, W
0120 CFE4 F000 04223         MOVFF   PREINC1, r0x06
0124 CFE4 F000 04224         MOVFF   PREINC1, r0x05
0128 CFE4 F000 04225         MOVFF   PREINC1, r0x04
012C 6EE5      04226         MOVWF   POSTDEC1
012E 0E00      04227         MOVLW   UPPER(__str_3)
0130 6EE5      04228         MOVWF   POSTDEC1
0132 0E00      04229         MOVLW   HIGH(__str_3)
0134 6EE5      04230         MOVWF   POSTDEC1
0136 0E00      04231         MOVLW   LOW(__str_3)
0138 6EE5      04232         MOVWF   POSTDEC1
013A EC00 F000 04233         CALL    _serial_printf
013E 0E04      04234         MOVLW   0x04
0140 26E1      04235         ADDWF   FSR1L, F
               04236 ;       .line   196; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  break;
0142 D000      04237         BRA     _00997_DS_
0144 04238 _00993_DS_:
               04239 ;       .line   197; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  case OCT:     uitoa((int)fmt,chaine,8);
0144 C000 FFE5 04240         MOVFF   r0x04, POSTDEC1
0148 C000 FFE5 04241         MOVFF   r0x05, POSTDEC1
014C C000 FFE5 04242         MOVFF   r0x06, POSTDEC1
0150 0E02      04243         MOVLW   0x02
0152 CFDB F000 04244         MOVFF   PLUSW2, r0x04
0156 0E03      04245         MOVLW   0x03
0158 CFDB F000 04246         MOVFF   PLUSW2, r0x05
015C 0E04      04247         MOVLW   0x04
015E CFDB F000 04248         MOVFF   PLUSW2, r0x06
0162 5000      04249         MOVF    r0x04, W
0164 6E00      04250         MOVWF   r0x00
0166 5000      04251         MOVF    r0x05, W
0168 6E00      04252         MOVWF   r0x01
016A CFE4 F000 04253         MOVFF   PREINC1, r0x06
016E CFE4 F000 04254         MOVFF   PREINC1, r0x05
0172 CFE4 F000 04255         MOVFF   PREINC1, r0x04
0176 0EF9      04256         MOVLW   0xf9
0178 24D9      04257         ADDWF   FSR2L, W
017A 6E00      04258         MOVWF   r0x02
017C 0EFF      04259         MOVLW   0xff
017E 20DA      04260         ADDWFC  FSR2H, W
0180 6E00      04261         MOVWF   r0x03
0182 0E08      04262         MOVLW   0x08
0184 6EE5      04263         MOVWF   POSTDEC1
0186 5000      04264         MOVF    r0x03, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 83


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0188 6EE5      04265         MOVWF   POSTDEC1
018A 5000      04266         MOVF    r0x02, W
018C 6EE5      04267         MOVWF   POSTDEC1
018E 5000      04268         MOVF    r0x01, W
0190 6EE5      04269         MOVWF   POSTDEC1
0192 5000      04270         MOVF    r0x00, W
0194 6EE5      04271         MOVWF   POSTDEC1
0196 EC00 F000 04272         CALL    _uitoa
019A 0E05      04273         MOVLW   0x05
019C 26E1      04274         ADDWF   FSR1L, F
               04275 ;       .line   198; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  serial_printf(chaine);
019E 0EF9      04276         MOVLW   0xf9
01A0 24D9      04277         ADDWF   FSR2L, W
01A2 6E00      04278         MOVWF   r0x00
01A4 0EFF      04279         MOVLW   0xff
01A6 20DA      04280         ADDWFC  FSR2H, W
               04281 ; #     MOVWF   r0x01
               04282 ; #     MOVF    r0x01, W
               04283 ; #     MOVWF   r0x01
               04284 ; #     MOVWF   r0x01
01A8 6E00      04285         MOVWF   r0x01
               04286 ; #     MOVF    r0x00, W
               04287 ; #     MOVWF   r0x00
01AA 0E80      04288         MOVLW   0x80
               04289 ; #     MOVWF   r0x02
               04290 ; #     MOVF    r0x02, W
01AC 6EE5      04291         MOVWF   POSTDEC1
01AE 5000      04292         MOVF    r0x01, W
01B0 6EE5      04293         MOVWF   POSTDEC1
01B2 5000      04294         MOVF    r0x00, W
01B4 6EE5      04295         MOVWF   POSTDEC1
01B6 EC00 F000 04296         CALL    _serial_printf
01BA 0E03      04297         MOVLW   0x03
01BC 26E1      04298         ADDWF   FSR1L, F
               04299 ;       .line   199; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  break;
01BE D000      04300         BRA     _00997_DS_
01C0 04301 _00994_DS_:
               04302 ;       .line   200; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  case BIN:       uitoa((int)fmt,chaine,2);
01C0 C000 FFE5 04303         MOVFF   r0x04, POSTDEC1
01C4 C000 FFE5 04304         MOVFF   r0x05, POSTDEC1
01C8 C000 FFE5 04305         MOVFF   r0x06, POSTDEC1
01CC 0E02      04306         MOVLW   0x02
01CE CFDB F000 04307         MOVFF   PLUSW2, r0x04
01D2 0E03      04308         MOVLW   0x03
01D4 CFDB F000 04309         MOVFF   PLUSW2, r0x05
01D8 0E04      04310         MOVLW   0x04
01DA CFDB F000 04311         MOVFF   PLUSW2, r0x06
01DE 5000      04312         MOVF    r0x04, W
01E0 6E00      04313         MOVWF   r0x00
01E2 5000      04314         MOVF    r0x05, W
01E4 6E00      04315         MOVWF   r0x01
01E6 CFE4 F000 04316         MOVFF   PREINC1, r0x06
01EA CFE4 F000 04317         MOVFF   PREINC1, r0x05
01EE CFE4 F000 04318         MOVFF   PREINC1, r0x04
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 84


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01F2 0EF9      04319         MOVLW   0xf9
01F4 24D9      04320         ADDWF   FSR2L, W
01F6 6E00      04321         MOVWF   r0x02
01F8 0EFF      04322         MOVLW   0xff
01FA 20DA      04323         ADDWFC  FSR2H, W
01FC 6E00      04324         MOVWF   r0x03
01FE 0E02      04325         MOVLW   0x02
0200 6EE5      04326         MOVWF   POSTDEC1
0202 5000      04327         MOVF    r0x03, W
0204 6EE5      04328         MOVWF   POSTDEC1
0206 5000      04329         MOVF    r0x02, W
0208 6EE5      04330         MOVWF   POSTDEC1
020A 5000      04331         MOVF    r0x01, W
020C 6EE5      04332         MOVWF   POSTDEC1
020E 5000      04333         MOVF    r0x00, W
0210 6EE5      04334         MOVWF   POSTDEC1
0212 EC00 F000 04335         CALL    _uitoa
0216 0E05      04336         MOVLW   0x05
0218 26E1      04337         ADDWF   FSR1L, F
               04338 ;       .line   201; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  serial_printf(chaine);
021A 0EF9      04339         MOVLW   0xf9
021C 24D9      04340         ADDWF   FSR2L, W
021E 6E00      04341         MOVWF   r0x00
0220 0EFF      04342         MOVLW   0xff
0222 20DA      04343         ADDWFC  FSR2H, W
               04344 ; #     MOVWF   r0x01
               04345 ; #     MOVF    r0x01, W
               04346 ; #     MOVWF   r0x01
               04347 ; #     MOVWF   r0x01
0224 6E00      04348         MOVWF   r0x01
               04349 ; #     MOVF    r0x00, W
               04350 ; #     MOVWF   r0x00
0226 0E80      04351         MOVLW   0x80
               04352 ; #     MOVWF   r0x02
               04353 ; #     MOVF    r0x02, W
0228 6EE5      04354         MOVWF   POSTDEC1
022A 5000      04355         MOVF    r0x01, W
022C 6EE5      04356         MOVWF   POSTDEC1
022E 5000      04357         MOVF    r0x00, W
0230 6EE5      04358         MOVWF   POSTDEC1
0232 EC00 F000 04359         CALL    _serial_printf
0236 0E03      04360         MOVLW   0x03
0238 26E1      04361         ADDWF   FSR1L, F
               04362 ;       .line   202; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  break;           
023A D000      04363         BRA     _00997_DS_
023C 04364 _00995_DS_:
               04365 ;       .line   203; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  default:        serial_printf(fmt);
023C C000 FFE5 04366         MOVFF   r0x04, POSTDEC1
0240 C000 FFE5 04367         MOVFF   r0x05, POSTDEC1
0244 C000 FFE5 04368         MOVFF   r0x06, POSTDEC1
0248 0E02      04369         MOVLW   0x02
024A CFDB F000 04370         MOVFF   PLUSW2, r0x04
024E 0E03      04371         MOVLW   0x03
0250 CFDB F000 04372         MOVFF   PLUSW2, r0x05
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 85


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0254 0E04      04373         MOVLW   0x04
0256 CFDB F000 04374         MOVFF   PLUSW2, r0x06
025A CFE4 F000 04375         MOVFF   PREINC1, r0x06
025E CFE4 F000 04376         MOVFF   PREINC1, r0x05
0262 CFE4 F000 04377         MOVFF   PREINC1, r0x04
0266 C000 FFE5 04378         MOVFF   r0x04, POSTDEC1
026A C000 FFE5 04379         MOVFF   r0x05, POSTDEC1
026E C000 FFE5 04380         MOVFF   r0x06, POSTDEC1
0272 0E02      04381         MOVLW   0x02
0274 CFDB F000 04382         MOVFF   PLUSW2, r0x04
0278 0E03      04383         MOVLW   0x03
027A CFDB F000 04384         MOVFF   PLUSW2, r0x05
027E 0E04      04385         MOVLW   0x04
0280 CFDB F000 04386         MOVFF   PLUSW2, r0x06
0284 5000      04387         MOVF    r0x06, W
0286 6EE5      04388         MOVWF   POSTDEC1
0288 5000      04389         MOVF    r0x05, W
028A 6EE5      04390         MOVWF   POSTDEC1
028C 5000      04391         MOVF    r0x04, W
028E 6EE5      04392         MOVWF   POSTDEC1
0290 CFE4 F000 04393         MOVFF   PREINC1, r0x06
0294 CFE4 F000 04394         MOVFF   PREINC1, r0x05
0298 CFE4 F000 04395         MOVFF   PREINC1, r0x04
029C EC00 F000 04396         CALL    _serial_printf
02A0 0E03      04397         MOVLW   0x03
02A2 26E1      04398         ADDWF   FSR1L, F
02A4 04399 _00997_DS_:
               04400 ;       .line   207; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  va_end(ap);
02A4 CFE4 F000 04401         MOVFF   PREINC1, r0x03
02A8 CFE4 F000 04402         MOVFF   PREINC1, r0x02
02AC CFE4 F000 04403         MOVFF   PREINC1, r0x01
02B0 CFE4 F000 04404         MOVFF   PREINC1, r0x00
02B4 6EE6      04405         MOVWF   POSTINC1
02B6 0E07      04406         MOVLW   0x07
02B8 26E1      04407         ADDWF   FSR1L, F
02BA B0D8      04408         BTFSC   STATUS, 0
02BC 2AE2      04409         INCF    FSR1H, F
02BE 1EE8      04410         COMF    WREG, F
02C0 50E3      04411         MOVF    PLUSW1, W
02C2 CFE4 FFD9 04412         MOVFF   PREINC1, FSR2L
02C6 0012      04413         RETURN  
               04414 
               04415 ; ; Starting pCode block
               04416 S_main__serial_getstring        code
0000 04417 _serial_getstring:
               04418 ;       .line   159; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  u8 * serial_getstring()
0000 C000 FFE5 04419         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 04420         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 04421         MOVFF   r0x02, POSTDEC1
000C C000 FFE5 04422         MOVFF   r0x03, POSTDEC1
               04423 ;       .line   166; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  do {
0010 6A00      04424         CLRF    r0x00
0012 04425 _00976_DS_:
               04426 ;       .line   167; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  c = serial_getkey();
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 86


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0012 EC00 F000 04427         CALL    _serial_getkey
0016 6E00      04428         MOVWF   r0x01
               04429 ;       .line   168; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  serial_printf("%c", c);
0018 C000 F000 04430         MOVFF   r0x01, r0x02
001C 6AE5      04431         CLRF    POSTDEC1
001E 5000      04432         MOVF    r0x02, W
0020 6EE5      04433         MOVWF   POSTDEC1
0022 0E00      04434         MOVLW   UPPER(__str_2)
0024 6EE5      04435         MOVWF   POSTDEC1
0026 0E00      04436         MOVLW   HIGH(__str_2)
0028 6EE5      04437         MOVWF   POSTDEC1
002A 0E00      04438         MOVLW   LOW(__str_2)
002C 6EE5      04439         MOVWF   POSTDEC1
002E EC00 F000 04440         CALL    _serial_printf
0032 0E05      04441         MOVLW   0x05
0034 26E1      04442         ADDWF   FSR1L, F
               04443 ;       .line   169; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  buffer[i++] = c;
0036 C000 F000 04444         MOVFF   r0x00, r0x02
003A 2A00      04445         INCF    r0x00, F
003C 6A00      04446         CLRF    r0x03
003E 0E00      04447         MOVLW   LOW(_serial_getstring_buffer_1_1)
0040 2600      04448         ADDWF   r0x02, F
0042 0E00      04449         MOVLW   HIGH(_serial_getstring_buffer_1_1)
0044 2200      04450         ADDWFC  r0x03, F
0046 C000 FFE9 04451         MOVFF   r0x02, FSR0L
004A C000 FFEA 04452         MOVFF   r0x03, FSR0H
004E C000 FFEF 04453         MOVFF   r0x01, INDF0
               04454 ;       .line   170; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  } while (c != '\r');
0052 5000      04455         MOVF    r0x01, W
0054 0A0D      04456         XORLW   0x0d
0056 E100      04457         BNZ     _00976_DS_
               04458 ;       .line   171; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  buffer[i] = '\0';
0058 6A00      04459         CLRF    r0x01
005A 0E00      04460         MOVLW   LOW(_serial_getstring_buffer_1_1)
005C 2600      04461         ADDWF   r0x00, F
005E 0E00      04462         MOVLW   HIGH(_serial_getstring_buffer_1_1)
0060 2200      04463         ADDWFC  r0x01, F
0062 C000 FFE9 04464         MOVFF   r0x00, FSR0L
0066 C000 FFEA 04465         MOVFF   r0x01, FSR0H
006A 6AEF      04466         CLRF    INDF0
               04467 ;       .line   172; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  return (buffer);
006C 6E00      04468         MOVWF   r0x01
006E 0E80      04469         MOVLW   0x80
0070 6E00      04470         MOVWF   r0x02
0072 C000 FFF4 04471         MOVFF   r0x02, PRODH
0076 C000 FFF3 04472         MOVFF   r0x01, PRODL
007A 0E00      04473         MOVLW   LOW(_serial_getstring_buffer_1_1)
007C CFE4 F000 04474         MOVFF   PREINC1, r0x03
0080 CFE4 F000 04475         MOVFF   PREINC1, r0x02
0084 CFE4 F000 04476         MOVFF   PREINC1, r0x01
0088 CFE4 F000 04477         MOVFF   PREINC1, r0x00
008C 0012      04478         RETURN  
               04479 
               04480 ; ; Starting pCode block
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 87


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04481 S_main__serial_getkey   code
0000 04482 _serial_getkey:
               04483 ;       .line   145; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  u8 serial_getkey()
0000 C000 FFE5 04484         MOVFF   r0x00, POSTDEC1
0004 04485 _00968_DS_:
               04486 ;       .line   148; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  while (!(serial_available()));
0004 EC00 F000 04487         CALL    _serial_available
0008 6E00      04488         MOVWF   r0x00
000A 5000      04489         MOVF    r0x00, W
000C E000      04490         BZ      _00968_DS_
               04491 ;       .line   149; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  c = serial_read();
000E EC00 F000 04492         CALL    _serial_read
0012 6E00      04493         MOVWF   r0x00
               04494 ;       .line   150; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  serial_flush();
0014 EC00 F000 04495         CALL    _serial_flush
               04496 ;       .line   151; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  return (c);
0018 5000      04497         MOVF    r0x00, W
001A CFE4 F000 04498         MOVFF   PREINC1, r0x00
001E 0012      04499         RETURN  
               04500 
               04501 ; ; Starting pCode block
               04502 S_main__serial_printf   code
0000 04503 _serial_printf:
               04504 ;       .line   131; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  void serial_printf(char *fmt, ...)
0000 CFD9 FFE5 04505         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04506         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 04507         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 04508         MOVFF   r0x01, POSTDEC1
               04509 ;       .line   135; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  va_start(args, fmt);
0010 0E02      04510         MOVLW   0x02
0012 24D9      04511         ADDWF   FSR2L, W
0014 6E00      04512         MOVWF   r0x00
0016 0E00      04513         MOVLW   0x00
0018 20DA      04514         ADDWFC  FSR2H, W
001A 6E00      04515         MOVWF   r0x01
001C 0E03      04516         MOVLW   0x03
001E 2600      04517         ADDWF   r0x00, F
0020 B0D8      04518         BTFSC   STATUS, 0
0022 2A00      04519         INCF    r0x01, F
               04520 ; #     MOVF    r0x01, W
               04521 ; #     MOVWF   r0x01
               04522 ; #     MOVF    r0x01, W
               04523 ; #     MOVF    r0x00, W
               04524 ; #     MOVF    r0x00, W
               04525 ; #     MOVWF   r0x00
0024 0E80      04526         MOVLW   0x80
               04527 ; #     MOVWF   r0x02
               04528 ; #     MOVF    r0x02, W
               04529 ;       .line   136; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  pprintf(serial_putchar, fmt, args);
0026 6EE5      04530         MOVWF   POSTDEC1
0028 5000      04531         MOVF    r0x01, W
002A 6EE5      04532         MOVWF   POSTDEC1
002C 5000      04533         MOVF    r0x00, W
002E 6EE5      04534         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 88


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0030 0E04      04535         MOVLW   0x04
0032 CFDB FFE5 04536         MOVFF   PLUSW2, POSTDEC1
0036 0E03      04537         MOVLW   0x03
0038 CFDB FFE5 04538         MOVFF   PLUSW2, POSTDEC1
003C 0E02      04539         MOVLW   0x02
003E CFDB FFE5 04540         MOVFF   PLUSW2, POSTDEC1
0042 0E00      04541         MOVLW   UPPER(_serial_putchar)
0044 6EE5      04542         MOVWF   POSTDEC1
0046 0E00      04543         MOVLW   HIGH(_serial_putchar)
0048 6EE5      04544         MOVWF   POSTDEC1
004A 0E00      04545         MOVLW   LOW(_serial_putchar)
004C 6EE5      04546         MOVWF   POSTDEC1
004E EC00 F000 04547         CALL    _pprintf
0052 0E09      04548         MOVLW   0x09
0054 26E1      04549         ADDWF   FSR1L, F
               04550 ;       .line   137; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  va_end(args);
0056 CFE4 F000 04551         MOVFF   PREINC1, r0x01
005A CFE4 F000 04552         MOVFF   PREINC1, r0x00
005E CFE4 FFD9 04553         MOVFF   PREINC1, FSR2L
0062 0012      04554         RETURN  
               04555 
               04556 ; ; Starting pCode block
               04557 S_main__serial_flush    code
0000 04558 _serial_flush:
               04559 ; #     MOVLW   0x01
               04560 ; #     MOVWF   _wpointer, B
               04561 ; #     MOVLW   0x01
               04562 ;       .line   121; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  wpointer=1;
0000 0E01      04563         MOVLW   0x01
0002 0000      04564         BANKSEL _wpointer
               04565 ;       .line   122; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  rpointer=1;
0004 6F00      04566         MOVWF   _wpointer, B
0006 0000      04567         BANKSEL _rpointer
0008 6F00      04568         MOVWF   _rpointer, B
000A 0012      04569         RETURN  
               04570 
               04571 ; ; Starting pCode block
               04572 S_main__serial_read     code
0000 04573 _serial_read:
               04574 ;       .line   105; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  unsigned char serial_read()
0000 C000 FFE5 04575         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 04576         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 04577         MOVFF   r0x02, POSTDEC1
               04578 ;       .line   107; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  unsigned char caractere=0;
000C 6A00      04579         CLRF    r0x00
               04580 ;       .line   109; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  if (serial_available())
000E EC00 F000 04581         CALL    _serial_available
0012 6E00      04582         MOVWF   r0x01
0014 5000      04583         MOVF    r0x01, W
0016 E000      04584         BZ      _00947_DS_
               04585 ;       .line   111; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  caractere=rx[rpointer++];
0018 C000 F000 04586         MOVFF   _rpointer, r0x01
001C 0000      04587         BANKSEL _rpointer
001E 2B00      04588         INCF    _rpointer, F, B
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 89


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0020 6A00      04589         CLRF    r0x02
0022 0E00      04590         MOVLW   LOW(_rx)
0024 2600      04591         ADDWF   r0x01, F
0026 0E00      04592         MOVLW   HIGH(_rx)
0028 2200      04593         ADDWFC  r0x02, F
002A C000 FFE9 04594         MOVFF   r0x01, FSR0L
002E C000 FFEA 04595         MOVFF   r0x02, FSR0H
0032 CFEF F000 04596         MOVFF   INDF0, r0x00
               04597 ; removed redundant BANKSEL
               04598 ;       .line   112; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  if (rpointer==RXBUFFERLENGTH)
0036 5100      04599         MOVF    _rpointer, W, B
0038 0A80      04600         XORLW   0x80
003A E100      04601         BNZ     _00947_DS_
               04602 ;       .line   113; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  rpointer=1;
003C 0E01      04603         MOVLW   0x01
003E 0000      04604         BANKSEL _rpointer
0040 6F00      04605         MOVWF   _rpointer, B
0042 04606 _00947_DS_:
               04607 ;       .line   115; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  return(caractere);
0042 5000      04608         MOVF    r0x00, W
0044 CFE4 F000 04609         MOVFF   PREINC1, r0x02
0048 CFE4 F000 04610         MOVFF   PREINC1, r0x01
004C CFE4 F000 04611         MOVFF   PREINC1, r0x00
0050 0012      04612         RETURN  
               04613 
               04614 ; ; Starting pCode block
               04615 S_main__serial_interrupt        code
0000 04616 _serial_interrupt:
               04617 ;       .line   85; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   void serial_interrupt(void)
0000 C000 FFE5 04618         MOVFF   r0x00, POSTDEC1
0004 C000 FFE5 04619         MOVFF   r0x01, POSTDEC1
0008 C000 FFE5 04620         MOVFF   r0x02, POSTDEC1
               04621 ;       .line   90; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   PIR1bits.RCIF=0;                                // clear RX interrupt flag
000C 9A00      04622         BCF     _PIR1bits, 5
               04623 ;       .line   91; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   caractere=RCREG;                                // take received char
000E C000 F000 04624         MOVFF   _RCREG, r0x00
0012 0000      04625         BANKSEL _wpointer
               04626 ;       .line   92; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   if (wpointer!=RXBUFFERLENGTH-1) // if not last place in buffer
0014 5100      04627         MOVF    _wpointer, W, B
0016 0A7F      04628         XORLW   0x7f
0018 E000      04629         BZ      _00923_DS_
001A 04630 _00935_DS_:
001A 0000      04631         BANKSEL _wpointer
               04632 ;       .line   93; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   newwp=wpointer+1;                       // place=place+1
001C 2900      04633         INCF    _wpointer, W, B
001E 6E00      04634         MOVWF   r0x01
0020 D000      04635         BRA     _00924_DS_
0022 04636 _00923_DS_:
               04637 ;       .line   95; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   newwp=1;                                        // else place=1
0022 0E01      04638         MOVLW   0x01
0024 6E00      04639         MOVWF   r0x01
0026 04640 _00924_DS_:
0026 0000      04641         BANKSEL _rpointer
               04642 ;       .line   97; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   if (rpointer!=newwp)                    // if read pointer!=write pointer
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 90


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0028 5100      04643         MOVF    _rpointer, W, B
002A 1800      04644         XORWF   r0x01, W
002C E000      04645         BZ      _00926_DS_
               04646 ;       .line   98; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   rx[wpointer++]=caractere;       // store received char
002E C000 F000 04647         MOVFF   _wpointer, r0x01
0032 0000      04648         BANKSEL _wpointer
0034 2B00      04649         INCF    _wpointer, F, B
0036 6A00      04650         CLRF    r0x02
0038 0E00      04651         MOVLW   LOW(_rx)
003A 2600      04652         ADDWF   r0x01, F
003C 0E00      04653         MOVLW   HIGH(_rx)
003E 2200      04654         ADDWFC  r0x02, F
0040 C000 FFE9 04655         MOVFF   r0x01, FSR0L
0044 C000 FFEA 04656         MOVFF   r0x02, FSR0H
0048 C000 FFEF 04657         MOVFF   r0x00, INDF0
004C 04658 _00926_DS_:
004C 0000      04659         BANKSEL _wpointer
               04660 ;       .line   100; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  if (wpointer==RXBUFFERLENGTH)   // if write pointer=length buffer
004E 5100      04661         MOVF    _wpointer, W, B
0050 0A80      04662         XORLW   0x80
0052 E100      04663         BNZ     _00929_DS_
               04664 ;       .line   101; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c  wpointer=1;                                     // write pointer = 1
0054 0E01      04665         MOVLW   0x01
0056 0000      04666         BANKSEL _wpointer
0058 6F00      04667         MOVWF   _wpointer, B
005A 04668 _00929_DS_:
005A CFE4 F000 04669         MOVFF   PREINC1, r0x02
005E CFE4 F000 04670         MOVFF   PREINC1, r0x01
0062 CFE4 F000 04671         MOVFF   PREINC1, r0x00
0066 0012      04672         RETURN  
               04673 
               04674 ; ; Starting pCode block
               04675 S_main__serial_putchar  code
0000 04676 _serial_putchar:
               04677 ;       .line   78; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   void serial_putchar(unsigned char caractere)
0000 CFD9 FFE5 04678         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04679         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 04680         MOVFF   r0x00, POSTDEC1
000C 0E02      04681         MOVLW   0x02
000E CFDB F000 04682         MOVFF   PLUSW2, r0x00
0012 04683 _00914_DS_:
               04684 ;       .line   80; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   while (!TXSTAbits.TRMT);
0012 A200      04685         BTFSS   _TXSTAbits, 1
0014 D000      04686         BRA     _00914_DS_
               04687 ;       .line   81; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   TXREG=caractere;                        // yes, send char
0016 C000 F000 04688         MOVFF   r0x00, _TXREG
001A CFE4 F000 04689         MOVFF   PREINC1, r0x00
001E CFE4 FFD9 04690         MOVFF   PREINC1, FSR2L
0022 0012      04691         RETURN  
               04692 
               04693 ; ; Starting pCode block
               04694 S_main__serial_available        code
0000 04695 _serial_available:
               04696 ;       .line   72; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   unsigned char serial_available()
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 91


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0000 C000 FFE5 04697         MOVFF   r0x00, POSTDEC1
               04698 ;       .line   74; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   return(wpointer!=rpointer);
0004 6A00      04699         CLRF    r0x00
0006 0000      04700         BANKSEL _wpointer
0008 5100      04701         MOVF    _wpointer, W, B
000A 0000      04702         BANKSEL _rpointer
000C 1900      04703         XORWF   _rpointer, W, B
000E E100      04704         BNZ     _00909_DS_
0010 2A00      04705         INCF    r0x00, F
0012 04706 _00909_DS_:
0012 5000      04707         MOVF    r0x00, W
0014 80D8      04708         BSF     STATUS, 0
0016 66E8      04709         TSTFSZ  WREG
0018 90D8      04710         BCF     STATUS, 0
001A 6A00      04711         CLRF    r0x00
001C 3600      04712         RLCF    r0x00, F
001E 5000      04713         MOVF    r0x00, W
0020 CFE4 F000 04714         MOVFF   PREINC1, r0x00
0024 0012      04715         RETURN  
               04716 
               04717 ; ; Starting pCode block
               04718 S_main__serial_begin    code
0000 04719 _serial_begin:
               04720 ;       .line   48; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   void serial_begin(unsigned long baudrate)
0000 CFD9 FFE5 04721         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04722         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 04723         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 04724         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 04725         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 04726         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 04727         MOVFF   r0x04, POSTDEC1
001C 0E02      04728         MOVLW   0x02
001E CFDB F000 04729         MOVFF   PLUSW2, r0x00
0022 0E03      04730         MOVLW   0x03
0024 CFDB F000 04731         MOVFF   PLUSW2, r0x01
0028 0E04      04732         MOVLW   0x04
002A CFDB F000 04733         MOVFF   PLUSW2, r0x02
002E 0E05      04734         MOVLW   0x05
0030 CFDB F000 04735         MOVFF   PLUSW2, r0x03
               04736 ;       .line   53; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   spbrg=(48000000/(4*baudrate))-1;
0034 5000      04737         MOVF    r0x03, W
0036 6EE5      04738         MOVWF   POSTDEC1
0038 5000      04739         MOVF    r0x02, W
003A 6EE5      04740         MOVWF   POSTDEC1
003C 5000      04741         MOVF    r0x01, W
003E 6EE5      04742         MOVWF   POSTDEC1
0040 5000      04743         MOVF    r0x00, W
0042 6EE5      04744         MOVWF   POSTDEC1
0044 6AE5      04745         CLRF    POSTDEC1
0046 6AE5      04746         CLRF    POSTDEC1
0048 6AE5      04747         CLRF    POSTDEC1
004A 0E04      04748         MOVLW   0x04
004C 6EE5      04749         MOVWF   POSTDEC1
004E EC00 F000 04750         CALL    __mullong
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 92


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0052 6E00      04751         MOVWF   r0x00
0054 CFF3 F000 04752         MOVFF   PRODL, r0x01
0058 CFF4 F000 04753         MOVFF   PRODH, r0x02
005C CFE9 F000 04754         MOVFF   FSR0L, r0x03
0060 0E08      04755         MOVLW   0x08
0062 26E1      04756         ADDWF   FSR1L, F
0064 5000      04757         MOVF    r0x03, W
0066 6EE5      04758         MOVWF   POSTDEC1
0068 5000      04759         MOVF    r0x02, W
006A 6EE5      04760         MOVWF   POSTDEC1
006C 5000      04761         MOVF    r0x01, W
006E 6EE5      04762         MOVWF   POSTDEC1
0070 5000      04763         MOVF    r0x00, W
0072 6EE5      04764         MOVWF   POSTDEC1
0074 0E02      04765         MOVLW   0x02
0076 6EE5      04766         MOVWF   POSTDEC1
0078 0EDC      04767         MOVLW   0xdc
007A 6EE5      04768         MOVWF   POSTDEC1
007C 0E6C      04769         MOVLW   0x6c
007E 6EE5      04770         MOVWF   POSTDEC1
0080 0E00      04771         MOVLW   0x00
0082 6AE5      04772         CLRF    POSTDEC1
0084 EC00 F000 04773         CALL    __divulong
0088 6E00      04774         MOVWF   r0x00
008A CFF3 F000 04775         MOVFF   PRODL, r0x01
008E 0E08      04776         MOVLW   0x08
0090 26E1      04777         ADDWF   FSR1L, F
0092 0EFF      04778         MOVLW   0xff
0094 2600      04779         ADDWF   r0x00, F
0096 2200      04780         ADDWFC  r0x01, F
               04781 ;       .line   54; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   highbyte=spbrg/256;
0098 5000      04782         MOVF    r0x01, W
               04783 ;       .line   55; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   lowbyte=spbrg%256;
009A 6E00      04784         MOVWF   r0x04
               04785 ;       .line   56; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   TXSTAbits.BRGH=1;                               // set BRGH bit
009C 8400      04786         BSF     _TXSTAbits, 2
               04787 ;       .line   57; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   BAUDCONbits.BRG16=1;                                    // set 16 bits SPBRG
009E 8600      04788         BSF     _BAUDCONbits, 3
               04789 ;       .line   58; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   SPBRGH=highbyte;                        // set UART speed SPBRGH
00A0 C000 F000 04790         MOVFF   r0x04, _SPBRGH
               04791 ;       .line   59; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   SPBRG=lowbyte;                                                  // set UART speed SPBRGL
00A4 C000 F000 04792         MOVFF   r0x00, _SPBRG
               04793 ;       .line   60; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   RCSTA=0x90;                             // set RCEN and SPEN
00A8 0E90      04794         MOVLW   0x90
00AA 6E00      04795         MOVWF   _RCSTA
               04796 ;       .line   61; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   BAUDCONbits.RCIDL=1;                    // set receive active
00AC 8C00      04797         BSF     _BAUDCONbits, 6
               04798 ;       .line   62; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   PIE1bits.RCIE=1;                        // enable interrupt on RX
00AE 8A00      04799         BSF     _PIE1bits, 5
               04800 ;       .line   63; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   INTCONbits.PEIE=1;                      // enable peripheral interrupts
00B0 8C00      04801         BSF     _INTCONbits, 6
               04802 ;       .line   64; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   IPR1bits.RCIP=1;                        // define high priority for RX interrupt
00B2 8A00      04803         BSF     _IPR1bits, 5
               04804 ; #     MOVLW   0x01
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 93


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               04805 ; #     MOVWF   _wpointer, B
               04806 ; #     MOVLW   0x01
               04807 ;       .line   65; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   wpointer=1;                             // initialize write pointer
00B4 0E01      04808         MOVLW   0x01
00B6 0000      04809         BANKSEL _wpointer
               04810 ;       .line   66; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   rpointer=1;                             // initialize read pointer
00B8 6F00      04811         MOVWF   _wpointer, B
00BA 0000      04812         BANKSEL _rpointer
00BC 6F00      04813         MOVWF   _rpointer, B
               04814 ;       .line   67; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   TXSTAbits.TXEN=1;                       // enable TX
00BE 8A00      04815         BSF     _TXSTAbits, 5
               04816 ;       .line   68; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/serial.c   INTCONbits.GIE=1;
00C0 8E00      04817         BSF     _INTCONbits, 7
00C2 CFE4 F000 04818         MOVFF   PREINC1, r0x04
00C6 CFE4 F000 04819         MOVFF   PREINC1, r0x03
00CA CFE4 F000 04820         MOVFF   PREINC1, r0x02
00CE CFE4 F000 04821         MOVFF   PREINC1, r0x01
00D2 CFE4 F000 04822         MOVFF   PREINC1, r0x00
00D6 CFE4 FFD9 04823         MOVFF   PREINC1, FSR2L
00DA 0012      04824         RETURN  
               04825 
               04826 ; ; Starting pCode block
               04827 S_main__psprintf        code
0000 04828 _psprintf:
               04829 ;       .line   248; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   int psprintf(char *out, const char *format, va_list args)
0000 CFD9 FFE5 04830         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04831         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 04832         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 04833         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 04834         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 04835         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 04836         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 04837         MOVFF   r0x05, POSTDEC1
0020 0E02      04838         MOVLW   0x02
0022 CFDB F000 04839         MOVFF   PLUSW2, _psprintf_out_1_1
0026 0E03      04840         MOVLW   0x03
0028 CFDB F000 04841         MOVFF   PLUSW2, (_psprintf_out_1_1 + 1)
002C 0E04      04842         MOVLW   0x04
002E CFDB F000 04843         MOVFF   PLUSW2, (_psprintf_out_1_1 + 2)
0032 0E05      04844         MOVLW   0x05
0034 CFDB F000 04845         MOVFF   PLUSW2, r0x00
0038 0E06      04846         MOVLW   0x06
003A CFDB F000 04847         MOVFF   PLUSW2, r0x01
003E 0E07      04848         MOVLW   0x07
0040 CFDB F000 04849         MOVFF   PLUSW2, r0x02
0044 0E08      04850         MOVLW   0x08
0046 CFDB F000 04851         MOVFF   PLUSW2, r0x03
004A 0E09      04852         MOVLW   0x09
004C CFDB F000 04853         MOVFF   PLUSW2, r0x04
0050 0E0A      04854         MOVLW   0x0a
0052 CFDB F000 04855         MOVFF   PLUSW2, r0x05
               04856 ;       .line   253; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   return pprint(&out, format, args);
0056 5000      04857         MOVF    r0x05, W
0058 6EE5      04858         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 94


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
005A 5000      04859         MOVF    r0x04, W
005C 6EE5      04860         MOVWF   POSTDEC1
005E 5000      04861         MOVF    r0x03, W
0060 6EE5      04862         MOVWF   POSTDEC1
0062 5000      04863         MOVF    r0x02, W
0064 6EE5      04864         MOVWF   POSTDEC1
0066 5000      04865         MOVF    r0x01, W
0068 6EE5      04866         MOVWF   POSTDEC1
006A 5000      04867         MOVF    r0x00, W
006C 6EE5      04868         MOVWF   POSTDEC1
006E 0E80      04869         MOVLW   0x80
0070 6EE5      04870         MOVWF   POSTDEC1
0072 0E00      04871         MOVLW   HIGH(_psprintf_out_1_1)
0074 6EE5      04872         MOVWF   POSTDEC1
0076 0E00      04873         MOVLW   LOW(_psprintf_out_1_1)
0078 6EE5      04874         MOVWF   POSTDEC1
007A EC00 F000 04875         CALL    _pprint
007E 6E00      04876         MOVWF   r0x00
0080 CFF3 F000 04877         MOVFF   PRODL, r0x01
0084 0E09      04878         MOVLW   0x09
0086 26E1      04879         ADDWF   FSR1L, F
0088 C000 FFF3 04880         MOVFF   r0x01, PRODL
008C 5000      04881         MOVF    r0x00, W
008E CFE4 F000 04882         MOVFF   PREINC1, r0x05
0092 CFE4 F000 04883         MOVFF   PREINC1, r0x04
0096 CFE4 F000 04884         MOVFF   PREINC1, r0x03
009A CFE4 F000 04885         MOVFF   PREINC1, r0x02
009E CFE4 F000 04886         MOVFF   PREINC1, r0x01
00A2 CFE4 F000 04887         MOVFF   PREINC1, r0x00
00A6 CFE4 FFD9 04888         MOVFF   PREINC1, FSR2L
00AA 0012      04889         RETURN  
               04890 
               04891 ; ; Starting pCode block
               04892 S_main__pprintf code
0000 04893 _pprintf:
               04894 ;       .line   238; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   int pprintf(stdout func, const char *format, va_list args)
0000 CFD9 FFE5 04895         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04896         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 04897         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 04898         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 04899         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 04900         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 04901         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 04902         MOVFF   r0x05, POSTDEC1
0020 0E02      04903         MOVLW   0x02
0022 CFDB F000 04904         MOVFF   PLUSW2, _pputchar
0026 0E03      04905         MOVLW   0x03
0028 CFDB F000 04906         MOVFF   PLUSW2, (_pputchar + 1)
002C 0E04      04907         MOVLW   0x04
002E CFDB F000 04908         MOVFF   PLUSW2, (_pputchar + 2)
0032 0E05      04909         MOVLW   0x05
0034 CFDB F000 04910         MOVFF   PLUSW2, r0x00
0038 0E06      04911         MOVLW   0x06
003A CFDB F000 04912         MOVFF   PLUSW2, r0x01
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 95


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
003E 0E07      04913         MOVLW   0x07
0040 CFDB F000 04914         MOVFF   PLUSW2, r0x02
0044 0E08      04915         MOVLW   0x08
0046 CFDB F000 04916         MOVFF   PLUSW2, r0x03
004A 0E09      04917         MOVLW   0x09
004C CFDB F000 04918         MOVFF   PLUSW2, r0x04
0050 0E0A      04919         MOVLW   0x0a
0052 CFDB F000 04920         MOVFF   PLUSW2, r0x05
               04921 ;       .line   244; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   return pprint(0, format, args);
0056 5000      04922         MOVF    r0x05, W
0058 6EE5      04923         MOVWF   POSTDEC1
005A 5000      04924         MOVF    r0x04, W
005C 6EE5      04925         MOVWF   POSTDEC1
005E 5000      04926         MOVF    r0x03, W
0060 6EE5      04927         MOVWF   POSTDEC1
0062 5000      04928         MOVF    r0x02, W
0064 6EE5      04929         MOVWF   POSTDEC1
0066 5000      04930         MOVF    r0x01, W
0068 6EE5      04931         MOVWF   POSTDEC1
006A 5000      04932         MOVF    r0x00, W
006C 6EE5      04933         MOVWF   POSTDEC1
006E 0E00      04934         MOVLW   0x00
0070 6AE5      04935         CLRF    POSTDEC1
0072 6AE5      04936         CLRF    POSTDEC1
0074 6AE5      04937         CLRF    POSTDEC1
0076 EC00 F000 04938         CALL    _pprint
007A 6E00      04939         MOVWF   r0x00
007C CFF3 F000 04940         MOVFF   PRODL, r0x01
0080 0E09      04941         MOVLW   0x09
0082 26E1      04942         ADDWF   FSR1L, F
0084 C000 FFF3 04943         MOVFF   r0x01, PRODL
0088 5000      04944         MOVF    r0x00, W
008A CFE4 F000 04945         MOVFF   PREINC1, r0x05
008E CFE4 F000 04946         MOVFF   PREINC1, r0x04
0092 CFE4 F000 04947         MOVFF   PREINC1, r0x03
0096 CFE4 F000 04948         MOVFF   PREINC1, r0x02
009A CFE4 F000 04949         MOVFF   PREINC1, r0x01
009E CFE4 F000 04950         MOVFF   PREINC1, r0x00
00A2 CFE4 FFD9 04951         MOVFF   PREINC1, FSR2L
00A6 0012      04952         RETURN  
               04953 
               04954 ; ; Starting pCode block
               04955 S_main__pprint  code
0000 04956 _pprint:
               04957 ;       .line   141; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   static int pprint(char **out, const char *format, va_list args)
0000 CFD9 FFE5 04958         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 04959         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 04960         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 04961         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 04962         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 04963         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 04964         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 04965         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 04966         MOVFF   r0x06, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 96


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0024 C000 FFE5 04967         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 04968         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 04969         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 04970         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 04971         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 04972         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 04973         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 04974         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 04975         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 04976         MOVFF   r0x10, POSTDEC1
004C C000 FFE5 04977         MOVFF   r0x11, POSTDEC1
0050 C000 FFE5 04978         MOVFF   r0x12, POSTDEC1
0054 C000 FFE5 04979         MOVFF   r0x13, POSTDEC1
0058 0E02      04980         MOVLW   0x02
005A CFDB F000 04981         MOVFF   PLUSW2, r0x00
005E 0E03      04982         MOVLW   0x03
0060 CFDB F000 04983         MOVFF   PLUSW2, r0x01
0064 0E04      04984         MOVLW   0x04
0066 CFDB F000 04985         MOVFF   PLUSW2, r0x02
006A 0E05      04986         MOVLW   0x05
006C CFDB F000 04987         MOVFF   PLUSW2, r0x03
0070 0E06      04988         MOVLW   0x06
0072 CFDB F000 04989         MOVFF   PLUSW2, r0x04
0076 0E07      04990         MOVLW   0x07
0078 CFDB F000 04991         MOVFF   PLUSW2, r0x05
007C 0E08      04992         MOVLW   0x08
007E CFDB F000 04993         MOVFF   PLUSW2, r0x06
0082 0E09      04994         MOVLW   0x09
0084 CFDB F000 04995         MOVFF   PLUSW2, r0x07
0088 0E0A      04996         MOVLW   0x0a
008A CFDB F000 04997         MOVFF   PLUSW2, r0x08
               04998 ;       .line   144; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   register int pc = 0;
008E 6A00      04999         CLRF    r0x09
0090 6A00      05000         CLRF    r0x0a
0092 05001 _00819_DS_:
               05002 ;       .line   147; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   for (; *format != 0; ++format)
0092 C000 FFE9 05003         MOVFF   r0x03, FSR0L
0096 C000 FFF3 05004         MOVFF   r0x04, PRODL
009A 5000      05005         MOVF    r0x05, W
009C EC00 F000 05006         CALL    __gptrget1
00A0 6E00      05007         MOVWF   r0x0b
00A2 5000      05008         MOVF    r0x0b, W
00A4 B4D8      05009         BTFSC   STATUS, 2
00A6 EF00 F000 05010         GOTO    _00822_DS_
               05011 ;       .line   149; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == '%')
00AA 5000      05012         MOVF    r0x0b, W
00AC 0A25      05013         XORLW   0x25
00AE E000      05014         BZ      _00859_DS_
00B0 EF00 F000 05015         GOTO    _00815_DS_
00B4 05016 _00859_DS_:
               05017 ;       .line   151; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   ++format;
00B4 2A00      05018         INCF    r0x03, F
00B6 B0D8      05019         BTFSC   STATUS, 0
00B8 2A00      05020         INCF    r0x04, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 97


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00BA B0D8      05021         BTFSC   STATUS, 0
00BC 2A00      05022         INCF    r0x05, F
               05023 ;       .line   152; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   width = pad = 0;
00BE 6A00      05024         CLRF    r0x0b
00C0 6A00      05025         CLRF    r0x0c
00C2 6A00      05026         CLRF    r0x0d
00C4 6A00      05027         CLRF    r0x0e
               05028 ;       .line   153; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == '\0')
00C6 C000 FFE9 05029         MOVFF   r0x03, FSR0L
00CA C000 FFF3 05030         MOVFF   r0x04, PRODL
00CE 5000      05031         MOVF    r0x05, W
00D0 EC00 F000 05032         CALL    __gptrget1
00D4 6E00      05033         MOVWF   r0x0f
00D6 5000      05034         MOVF    r0x0f, W
00D8 B4D8      05035         BTFSC   STATUS, 2
00DA EF00 F000 05036         GOTO    _00822_DS_
               05037 ;       .line   155; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == '%')
00DE 5000      05038         MOVF    r0x0f, W
00E0 0A25      05039         XORLW   0x25
00E2 E100      05040         BNZ     _00861_DS_
00E4 EF00 F000 05041         GOTO    _00815_DS_
00E8 05042 _00861_DS_:
               05043 ;       .line   157; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == '-')
00E8 5000      05044         MOVF    r0x0f, W
00EA 0A2D      05045         XORLW   0x2d
00EC E100      05046         BNZ     _00840_DS_
               05047 ;       .line   159; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   ++format;
00EE 2A00      05048         INCF    r0x03, F
00F0 B0D8      05049         BTFSC   STATUS, 0
00F2 2A00      05050         INCF    r0x04, F
00F4 B0D8      05051         BTFSC   STATUS, 0
00F6 2A00      05052         INCF    r0x05, F
               05053 ;       .line   160; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pad = PAD_RIGHT;
00F8 0E01      05054         MOVLW   0x01
00FA 6E00      05055         MOVWF   r0x0b
00FC 6A00      05056         CLRF    r0x0c
00FE 05057 _00840_DS_:
               05058 ;       .line   162; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   while (*format == '0')
00FE C000 F000 05059         MOVFF   r0x03, r0x0f
0102 C000 F000 05060         MOVFF   r0x04, r0x10
0106 C000 F000 05061         MOVFF   r0x05, r0x11
010A 05062 _00794_DS_:
010A C000 FFE9 05063         MOVFF   r0x0f, FSR0L
010E C000 FFF3 05064         MOVFF   r0x10, PRODL
0112 5000      05065         MOVF    r0x11, W
0114 EC00 F000 05066         CALL    __gptrget1
               05067 ; #     MOVWF   r0x12
               05068 ; #     MOVF    r0x12, W
0118 0A30      05069         XORLW   0x30
011A E100      05070         BNZ     _00826_DS_
               05071 ;       .line   164; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   ++format;
011C 2A00      05072         INCF    r0x0f, F
011E B0D8      05073         BTFSC   STATUS, 0
0120 2A00      05074         INCF    r0x10, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 98


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0122 B0D8      05075         BTFSC   STATUS, 0
0124 2A00      05076         INCF    r0x11, F
               05077 ;       .line   165; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pad |= PAD_ZERO;
0126 8200      05078         BSF     r0x0b, 1
0128 D000      05079         BRA     _00794_DS_
012A 05080 _00826_DS_:
               05081 ;       .line   167; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   for ( ; *format >= '0' && *format <= '9'; ++format)
012A C000 FFE9 05082         MOVFF   r0x0f, FSR0L
012E C000 FFF3 05083         MOVFF   r0x10, PRODL
0132 5000      05084         MOVF    r0x11, W
0134 EC00 F000 05085         CALL    __gptrget1
               05086 ; #     MOVWF   r0x12
               05087 ; #     MOVF    r0x12, W
0138 6E00      05088         MOVWF   r0x12
013A 0F80      05089         ADDLW   0x80
013C 0F50      05090         ADDLW   0x50
013E E300      05091         BNC     _00857_DS_
0140 5000      05092         MOVF    r0x12, W
0142 0F80      05093         ADDLW   0x80
0144 0F46      05094         ADDLW   0x46
0146 E200      05095         BC      _00857_DS_
               05096 ;       .line   169; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   width *= 10;
0148 5000      05097         MOVF    r0x0e, W
014A 6EE5      05098         MOVWF   POSTDEC1
014C 5000      05099         MOVF    r0x0d, W
014E 6EE5      05100         MOVWF   POSTDEC1
0150 6AE5      05101         CLRF    POSTDEC1
0152 0E0A      05102         MOVLW   0x0a
0154 6EE5      05103         MOVWF   POSTDEC1
0156 EC00 F000 05104         CALL    __mulint
015A 6E00      05105         MOVWF   r0x0d
015C CFF3 F000 05106         MOVFF   PRODL, r0x0e
0160 0E04      05107         MOVLW   0x04
0162 26E1      05108         ADDWF   FSR1L, F
               05109 ;       .line   170; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   width += *format - '0';
0164 6A00      05110         CLRF    r0x13
0166 BE00      05111         BTFSC   r0x12, 7
0168 6800      05112         SETF    r0x13
016A 0ED0      05113         MOVLW   0xd0
016C 2600      05114         ADDWF   r0x12, F
016E A0D8      05115         BTFSS   STATUS, 0
0170 0600      05116         DECF    r0x13, F
0172 5000      05117         MOVF    r0x12, W
0174 2600      05118         ADDWF   r0x0d, F
0176 5000      05119         MOVF    r0x13, W
0178 2200      05120         ADDWFC  r0x0e, F
               05121 ;       .line   167; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   for ( ; *format >= '0' && *format <= '9'; ++format)
017A 2A00      05122         INCF    r0x0f, F
017C B0D8      05123         BTFSC   STATUS, 0
017E 2A00      05124         INCF    r0x10, F
0180 B0D8      05125         BTFSC   STATUS, 0
0182 2A00      05126         INCF    r0x11, F
0184 D000      05127         BRA     _00826_DS_
0186 05128 _00857_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 99


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0186 C000 F000 05129         MOVFF   r0x0f, r0x03
018A C000 F000 05130         MOVFF   r0x10, r0x04
018E C000 F000 05131         MOVFF   r0x11, r0x05
               05132 ;       .line   172; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 's')
0192 C000 FFE9 05133         MOVFF   r0x0f, FSR0L
0196 C000 FFF3 05134         MOVFF   r0x10, PRODL
019A 5000      05135         MOVF    r0x11, W
019C EC00 F000 05136         CALL    __gptrget1
               05137 ; #     MOVWF   r0x0f
               05138 ; #     MOVF    r0x0f, W
01A0 6E00      05139         MOVWF   r0x0f
01A2 0A73      05140         XORLW   0x73
01A4 E000      05141         BZ      _00870_DS_
01A6 D000      05142         BRA     _00798_DS_
01A8 05143 _00870_DS_:
               05144 ;       .line   175; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   char *s = va_arg(args, char*);
01A8 5000      05145         MOVF    r0x06, W
01AA 0F03      05146         ADDLW   0x03
01AC 6E00      05147         MOVWF   r0x10
01AE 0E00      05148         MOVLW   0x00
01B0 2000      05149         ADDWFC  r0x07, W
01B2 6E00      05150         MOVWF   r0x11
01B4 0E00      05151         MOVLW   0x00
01B6 2000      05152         ADDWFC  r0x08, W
01B8 6E00      05153         MOVWF   r0x12
01BA C000 F000 05154         MOVFF   r0x10, r0x06
01BE C000 F000 05155         MOVFF   r0x11, r0x07
01C2 C000 F000 05156         MOVFF   r0x12, r0x08
01C6 0EFD      05157         MOVLW   0xfd
01C8 2600      05158         ADDWF   r0x10, F
01CA 0EFF      05159         MOVLW   0xff
01CC 2200      05160         ADDWFC  r0x11, F
01CE 2200      05161         ADDWFC  r0x12, F
01D0 C000 FFE9 05162         MOVFF   r0x10, FSR0L
01D4 C000 FFF3 05163         MOVFF   r0x11, PRODL
01D8 5000      05164         MOVF    r0x12, W
01DA EC00 F000 05165         CALL    __gptrget3
01DE 6E00      05166         MOVWF   r0x10
01E0 CFF3 F000 05167         MOVFF   PRODL, r0x11
01E4 CFF4 F000 05168         MOVFF   PRODH, r0x12
               05169 ;       .line   177; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprints(out, s?s:"(null)", width, pad);
01E8 1000      05170         IORWF   r0x11, W
               05171 ; #     IORWF   r0x12, W
               05172 ; #     BTFSC   STATUS, 2
               05173 ; #     GOTO    _00832_DS_
               05174 ; #     GOTO    _00833_DS_
               05175 ; #     MOVLW   LOW(__str_0)
01EA 1000      05176         IORWF   r0x12, W
01EC E100      05177         BNZ     _00833_DS_
01EE 0E00      05178         MOVLW   LOW(__str_0)
01F0 6E00      05179         MOVWF   r0x10
01F2 0E00      05180         MOVLW   HIGH(__str_0)
01F4 6E00      05181         MOVWF   r0x11
01F6 0E00      05182         MOVLW   UPPER(__str_0)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 100


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01F8 6E00      05183         MOVWF   r0x12
01FA 05184 _00833_DS_:
01FA 5000      05185         MOVF    r0x0c, W
01FC 6EE5      05186         MOVWF   POSTDEC1
01FE 5000      05187         MOVF    r0x0b, W
0200 6EE5      05188         MOVWF   POSTDEC1
0202 5000      05189         MOVF    r0x0e, W
0204 6EE5      05190         MOVWF   POSTDEC1
0206 5000      05191         MOVF    r0x0d, W
0208 6EE5      05192         MOVWF   POSTDEC1
020A 5000      05193         MOVF    r0x12, W
020C 6EE5      05194         MOVWF   POSTDEC1
020E 5000      05195         MOVF    r0x11, W
0210 6EE5      05196         MOVWF   POSTDEC1
0212 5000      05197         MOVF    r0x10, W
0214 6EE5      05198         MOVWF   POSTDEC1
0216 5000      05199         MOVF    r0x02, W
0218 6EE5      05200         MOVWF   POSTDEC1
021A 5000      05201         MOVF    r0x01, W
021C 6EE5      05202         MOVWF   POSTDEC1
021E 5000      05203         MOVF    r0x00, W
0220 6EE5      05204         MOVWF   POSTDEC1
0222 EC00 F000 05205         CALL    _pprints
0226 6E00      05206         MOVWF   r0x10
0228 CFF3 F000 05207         MOVFF   PRODL, r0x11
022C 0E0A      05208         MOVLW   0x0a
022E 26E1      05209         ADDWF   FSR1L, F
0230 5000      05210         MOVF    r0x10, W
0232 2600      05211         ADDWF   r0x09, F
0234 5000      05212         MOVF    r0x11, W
0236 2200      05213         ADDWFC  r0x0a, F
               05214 ;       .line   178; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
0238 EF00 F000 05215         GOTO    _00821_DS_
023C 05216 _00798_DS_:
               05217 ;       .line   180; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 'd')
023C 5000      05218         MOVF    r0x0f, W
023E 0A64      05219         XORLW   0x64
0240 E000      05220         BZ      _00872_DS_
0242 D000      05221         BRA     _00800_DS_
0244 05222 _00872_DS_:
               05223 ;       .line   182; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprinti(out, va_arg(args, int), 10, 1, width, pad, 'a');
0244 5000      05224         MOVF    r0x06, W
0246 0F02      05225         ADDLW   0x02
0248 6E00      05226         MOVWF   r0x10
024A 0E00      05227         MOVLW   0x00
024C 2000      05228         ADDWFC  r0x07, W
024E 6E00      05229         MOVWF   r0x11
0250 0E00      05230         MOVLW   0x00
0252 2000      05231         ADDWFC  r0x08, W
0254 6E00      05232         MOVWF   r0x12
0256 C000 F000 05233         MOVFF   r0x10, r0x06
025A C000 F000 05234         MOVFF   r0x11, r0x07
025E C000 F000 05235         MOVFF   r0x12, r0x08
0262 0EFE      05236         MOVLW   0xfe
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 101


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0264 2600      05237         ADDWF   r0x10, F
0266 0EFF      05238         MOVLW   0xff
0268 2200      05239         ADDWFC  r0x11, F
026A 2200      05240         ADDWFC  r0x12, F
026C C000 FFE9 05241         MOVFF   r0x10, FSR0L
0270 C000 FFF3 05242         MOVFF   r0x11, PRODL
0274 5000      05243         MOVF    r0x12, W
0276 EC00 F000 05244         CALL    __gptrget2
027A 6E00      05245         MOVWF   r0x10
027C CFF3 F000 05246         MOVFF   PRODL, r0x11
0280 6AE5      05247         CLRF    POSTDEC1
0282 0E61      05248         MOVLW   0x61
0284 6EE5      05249         MOVWF   POSTDEC1
0286 5000      05250         MOVF    r0x0c, W
0288 6EE5      05251         MOVWF   POSTDEC1
028A 5000      05252         MOVF    r0x0b, W
028C 6EE5      05253         MOVWF   POSTDEC1
028E 5000      05254         MOVF    r0x0e, W
0290 6EE5      05255         MOVWF   POSTDEC1
0292 5000      05256         MOVF    r0x0d, W
0294 6EE5      05257         MOVWF   POSTDEC1
0296 6AE5      05258         CLRF    POSTDEC1
0298 0E01      05259         MOVLW   0x01
029A 6EE5      05260         MOVWF   POSTDEC1
029C 6AE5      05261         CLRF    POSTDEC1
029E 0E0A      05262         MOVLW   0x0a
02A0 6EE5      05263         MOVWF   POSTDEC1
02A2 5000      05264         MOVF    r0x11, W
02A4 6EE5      05265         MOVWF   POSTDEC1
02A6 5000      05266         MOVF    r0x10, W
02A8 6EE5      05267         MOVWF   POSTDEC1
02AA 5000      05268         MOVF    r0x02, W
02AC 6EE5      05269         MOVWF   POSTDEC1
02AE 5000      05270         MOVF    r0x01, W
02B0 6EE5      05271         MOVWF   POSTDEC1
02B2 5000      05272         MOVF    r0x00, W
02B4 6EE5      05273         MOVWF   POSTDEC1
02B6 EC00 F000 05274         CALL    _pprinti
02BA 6E00      05275         MOVWF   r0x10
02BC CFF3 F000 05276         MOVFF   PRODL, r0x11
02C0 0E0F      05277         MOVLW   0x0f
02C2 26E1      05278         ADDWF   FSR1L, F
02C4 5000      05279         MOVF    r0x10, W
02C6 2600      05280         ADDWF   r0x09, F
02C8 5000      05281         MOVF    r0x11, W
02CA 2200      05282         ADDWFC  r0x0a, F
               05283 ;       .line   183; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
02CC D000      05284         BRA     _00821_DS_
02CE 05285 _00800_DS_:
               05286 ;       .line   185; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 'x')
02CE 5000      05287         MOVF    r0x0f, W
02D0 0A78      05288         XORLW   0x78
02D2 E000      05289         BZ      _00874_DS_
02D4 D000      05290         BRA     _00802_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 102


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02D6 05291 _00874_DS_:
               05292 ;       .line   187; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprinti(out, va_arg(args, int), 16, 0, width, pad, 'a');
02D6 5000      05293         MOVF    r0x06, W
02D8 0F02      05294         ADDLW   0x02
02DA 6E00      05295         MOVWF   r0x10
02DC 0E00      05296         MOVLW   0x00
02DE 2000      05297         ADDWFC  r0x07, W
02E0 6E00      05298         MOVWF   r0x11
02E2 0E00      05299         MOVLW   0x00
02E4 2000      05300         ADDWFC  r0x08, W
02E6 6E00      05301         MOVWF   r0x12
02E8 C000 F000 05302         MOVFF   r0x10, r0x06
02EC C000 F000 05303         MOVFF   r0x11, r0x07
02F0 C000 F000 05304         MOVFF   r0x12, r0x08
02F4 0EFE      05305         MOVLW   0xfe
02F6 2600      05306         ADDWF   r0x10, F
02F8 0EFF      05307         MOVLW   0xff
02FA 2200      05308         ADDWFC  r0x11, F
02FC 2200      05309         ADDWFC  r0x12, F
02FE C000 FFE9 05310         MOVFF   r0x10, FSR0L
0302 C000 FFF3 05311         MOVFF   r0x11, PRODL
0306 5000      05312         MOVF    r0x12, W
0308 EC00 F000 05313         CALL    __gptrget2
030C 6E00      05314         MOVWF   r0x10
030E CFF3 F000 05315         MOVFF   PRODL, r0x11
0312 6AE5      05316         CLRF    POSTDEC1
0314 0E61      05317         MOVLW   0x61
0316 6EE5      05318         MOVWF   POSTDEC1
0318 5000      05319         MOVF    r0x0c, W
031A 6EE5      05320         MOVWF   POSTDEC1
031C 5000      05321         MOVF    r0x0b, W
031E 6EE5      05322         MOVWF   POSTDEC1
0320 5000      05323         MOVF    r0x0e, W
0322 6EE5      05324         MOVWF   POSTDEC1
0324 5000      05325         MOVF    r0x0d, W
0326 6EE5      05326         MOVWF   POSTDEC1
0328 6AE5      05327         CLRF    POSTDEC1
032A 6AE5      05328         CLRF    POSTDEC1
032C 6AE5      05329         CLRF    POSTDEC1
032E 0E10      05330         MOVLW   0x10
0330 6EE5      05331         MOVWF   POSTDEC1
0332 5000      05332         MOVF    r0x11, W
0334 6EE5      05333         MOVWF   POSTDEC1
0336 5000      05334         MOVF    r0x10, W
0338 6EE5      05335         MOVWF   POSTDEC1
033A 5000      05336         MOVF    r0x02, W
033C 6EE5      05337         MOVWF   POSTDEC1
033E 5000      05338         MOVF    r0x01, W
0340 6EE5      05339         MOVWF   POSTDEC1
0342 5000      05340         MOVF    r0x00, W
0344 6EE5      05341         MOVWF   POSTDEC1
0346 EC00 F000 05342         CALL    _pprinti
034A 6E00      05343         MOVWF   r0x10
034C CFF3 F000 05344         MOVFF   PRODL, r0x11
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 103


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0350 0E0F      05345         MOVLW   0x0f
0352 26E1      05346         ADDWF   FSR1L, F
0354 5000      05347         MOVF    r0x10, W
0356 2600      05348         ADDWF   r0x09, F
0358 5000      05349         MOVF    r0x11, W
035A 2200      05350         ADDWFC  r0x0a, F
               05351 ;       .line   188; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
035C D000      05352         BRA     _00821_DS_
035E 05353 _00802_DS_:
               05354 ;       .line   190; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 'X')
035E 5000      05355         MOVF    r0x0f, W
0360 0A58      05356         XORLW   0x58
0362 E000      05357         BZ      _00876_DS_
0364 D000      05358         BRA     _00804_DS_
0366 05359 _00876_DS_:
               05360 ;       .line   192; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprinti(out, va_arg(args, int), 16, 0, width, pad, 'A');
0366 5000      05361         MOVF    r0x06, W
0368 0F02      05362         ADDLW   0x02
036A 6E00      05363         MOVWF   r0x10
036C 0E00      05364         MOVLW   0x00
036E 2000      05365         ADDWFC  r0x07, W
0370 6E00      05366         MOVWF   r0x11
0372 0E00      05367         MOVLW   0x00
0374 2000      05368         ADDWFC  r0x08, W
0376 6E00      05369         MOVWF   r0x12
0378 C000 F000 05370         MOVFF   r0x10, r0x06
037C C000 F000 05371         MOVFF   r0x11, r0x07
0380 C000 F000 05372         MOVFF   r0x12, r0x08
0384 0EFE      05373         MOVLW   0xfe
0386 2600      05374         ADDWF   r0x10, F
0388 0EFF      05375         MOVLW   0xff
038A 2200      05376         ADDWFC  r0x11, F
038C 2200      05377         ADDWFC  r0x12, F
038E C000 FFE9 05378         MOVFF   r0x10, FSR0L
0392 C000 FFF3 05379         MOVFF   r0x11, PRODL
0396 5000      05380         MOVF    r0x12, W
0398 EC00 F000 05381         CALL    __gptrget2
039C 6E00      05382         MOVWF   r0x10
039E CFF3 F000 05383         MOVFF   PRODL, r0x11
03A2 6AE5      05384         CLRF    POSTDEC1
03A4 0E41      05385         MOVLW   0x41
03A6 6EE5      05386         MOVWF   POSTDEC1
03A8 5000      05387         MOVF    r0x0c, W
03AA 6EE5      05388         MOVWF   POSTDEC1
03AC 5000      05389         MOVF    r0x0b, W
03AE 6EE5      05390         MOVWF   POSTDEC1
03B0 5000      05391         MOVF    r0x0e, W
03B2 6EE5      05392         MOVWF   POSTDEC1
03B4 5000      05393         MOVF    r0x0d, W
03B6 6EE5      05394         MOVWF   POSTDEC1
03B8 6AE5      05395         CLRF    POSTDEC1
03BA 6AE5      05396         CLRF    POSTDEC1
03BC 6AE5      05397         CLRF    POSTDEC1
03BE 0E10      05398         MOVLW   0x10
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 104


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
03C0 6EE5      05399         MOVWF   POSTDEC1
03C2 5000      05400         MOVF    r0x11, W
03C4 6EE5      05401         MOVWF   POSTDEC1
03C6 5000      05402         MOVF    r0x10, W
03C8 6EE5      05403         MOVWF   POSTDEC1
03CA 5000      05404         MOVF    r0x02, W
03CC 6EE5      05405         MOVWF   POSTDEC1
03CE 5000      05406         MOVF    r0x01, W
03D0 6EE5      05407         MOVWF   POSTDEC1
03D2 5000      05408         MOVF    r0x00, W
03D4 6EE5      05409         MOVWF   POSTDEC1
03D6 EC00 F000 05410         CALL    _pprinti
03DA 6E00      05411         MOVWF   r0x10
03DC CFF3 F000 05412         MOVFF   PRODL, r0x11
03E0 0E0F      05413         MOVLW   0x0f
03E2 26E1      05414         ADDWF   FSR1L, F
03E4 5000      05415         MOVF    r0x10, W
03E6 2600      05416         ADDWF   r0x09, F
03E8 5000      05417         MOVF    r0x11, W
03EA 2200      05418         ADDWFC  r0x0a, F
               05419 ;       .line   193; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
03EC D000      05420         BRA     _00821_DS_
03EE 05421 _00804_DS_:
               05422 ;       .line   195; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 'b')
03EE 5000      05423         MOVF    r0x0f, W
03F0 0A62      05424         XORLW   0x62
03F2 E000      05425         BZ      _00878_DS_
03F4 D000      05426         BRA     _00806_DS_
03F6 05427 _00878_DS_:
               05428 ;       .line   197; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprinti(out, va_arg(args, int), 2, 0, width, pad, 'a');
03F6 5000      05429         MOVF    r0x06, W
03F8 0F02      05430         ADDLW   0x02
03FA 6E00      05431         MOVWF   r0x10
03FC 0E00      05432         MOVLW   0x00
03FE 2000      05433         ADDWFC  r0x07, W
0400 6E00      05434         MOVWF   r0x11
0402 0E00      05435         MOVLW   0x00
0404 2000      05436         ADDWFC  r0x08, W
0406 6E00      05437         MOVWF   r0x12
0408 C000 F000 05438         MOVFF   r0x10, r0x06
040C C000 F000 05439         MOVFF   r0x11, r0x07
0410 C000 F000 05440         MOVFF   r0x12, r0x08
0414 0EFE      05441         MOVLW   0xfe
0416 2600      05442         ADDWF   r0x10, F
0418 0EFF      05443         MOVLW   0xff
041A 2200      05444         ADDWFC  r0x11, F
041C 2200      05445         ADDWFC  r0x12, F
041E C000 FFE9 05446         MOVFF   r0x10, FSR0L
0422 C000 FFF3 05447         MOVFF   r0x11, PRODL
0426 5000      05448         MOVF    r0x12, W
0428 EC00 F000 05449         CALL    __gptrget2
042C 6E00      05450         MOVWF   r0x10
042E CFF3 F000 05451         MOVFF   PRODL, r0x11
0432 6AE5      05452         CLRF    POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 105


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0434 0E61      05453         MOVLW   0x61
0436 6EE5      05454         MOVWF   POSTDEC1
0438 5000      05455         MOVF    r0x0c, W
043A 6EE5      05456         MOVWF   POSTDEC1
043C 5000      05457         MOVF    r0x0b, W
043E 6EE5      05458         MOVWF   POSTDEC1
0440 5000      05459         MOVF    r0x0e, W
0442 6EE5      05460         MOVWF   POSTDEC1
0444 5000      05461         MOVF    r0x0d, W
0446 6EE5      05462         MOVWF   POSTDEC1
0448 6AE5      05463         CLRF    POSTDEC1
044A 6AE5      05464         CLRF    POSTDEC1
044C 6AE5      05465         CLRF    POSTDEC1
044E 0E02      05466         MOVLW   0x02
0450 6EE5      05467         MOVWF   POSTDEC1
0452 5000      05468         MOVF    r0x11, W
0454 6EE5      05469         MOVWF   POSTDEC1
0456 5000      05470         MOVF    r0x10, W
0458 6EE5      05471         MOVWF   POSTDEC1
045A 5000      05472         MOVF    r0x02, W
045C 6EE5      05473         MOVWF   POSTDEC1
045E 5000      05474         MOVF    r0x01, W
0460 6EE5      05475         MOVWF   POSTDEC1
0462 5000      05476         MOVF    r0x00, W
0464 6EE5      05477         MOVWF   POSTDEC1
0466 EC00 F000 05478         CALL    _pprinti
046A 6E00      05479         MOVWF   r0x10
046C CFF3 F000 05480         MOVFF   PRODL, r0x11
0470 0E0F      05481         MOVLW   0x0f
0472 26E1      05482         ADDWF   FSR1L, F
0474 5000      05483         MOVF    r0x10, W
0476 2600      05484         ADDWF   r0x09, F
0478 5000      05485         MOVF    r0x11, W
047A 2200      05486         ADDWFC  r0x0a, F
               05487 ;       .line   198; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
047C D000      05488         BRA     _00821_DS_
047E 05489 _00806_DS_:
               05490 ;       .line   200; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 'o')
047E 5000      05491         MOVF    r0x0f, W
0480 0A6F      05492         XORLW   0x6f
0482 E000      05493         BZ      _00880_DS_
0484 D000      05494         BRA     _00808_DS_
0486 05495 _00880_DS_:
               05496 ;       .line   202; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprinti(out, va_arg(args, int), 8, 0, width, pad, 'a');
0486 5000      05497         MOVF    r0x06, W
0488 0F02      05498         ADDLW   0x02
048A 6E00      05499         MOVWF   r0x10
048C 0E00      05500         MOVLW   0x00
048E 2000      05501         ADDWFC  r0x07, W
0490 6E00      05502         MOVWF   r0x11
0492 0E00      05503         MOVLW   0x00
0494 2000      05504         ADDWFC  r0x08, W
0496 6E00      05505         MOVWF   r0x12
0498 C000 F000 05506         MOVFF   r0x10, r0x06
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 106


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
049C C000 F000 05507         MOVFF   r0x11, r0x07
04A0 C000 F000 05508         MOVFF   r0x12, r0x08
04A4 0EFE      05509         MOVLW   0xfe
04A6 2600      05510         ADDWF   r0x10, F
04A8 0EFF      05511         MOVLW   0xff
04AA 2200      05512         ADDWFC  r0x11, F
04AC 2200      05513         ADDWFC  r0x12, F
04AE C000 FFE9 05514         MOVFF   r0x10, FSR0L
04B2 C000 FFF3 05515         MOVFF   r0x11, PRODL
04B6 5000      05516         MOVF    r0x12, W
04B8 EC00 F000 05517         CALL    __gptrget2
04BC 6E00      05518         MOVWF   r0x10
04BE CFF3 F000 05519         MOVFF   PRODL, r0x11
04C2 6AE5      05520         CLRF    POSTDEC1
04C4 0E61      05521         MOVLW   0x61
04C6 6EE5      05522         MOVWF   POSTDEC1
04C8 5000      05523         MOVF    r0x0c, W
04CA 6EE5      05524         MOVWF   POSTDEC1
04CC 5000      05525         MOVF    r0x0b, W
04CE 6EE5      05526         MOVWF   POSTDEC1
04D0 5000      05527         MOVF    r0x0e, W
04D2 6EE5      05528         MOVWF   POSTDEC1
04D4 5000      05529         MOVF    r0x0d, W
04D6 6EE5      05530         MOVWF   POSTDEC1
04D8 6AE5      05531         CLRF    POSTDEC1
04DA 6AE5      05532         CLRF    POSTDEC1
04DC 6AE5      05533         CLRF    POSTDEC1
04DE 0E08      05534         MOVLW   0x08
04E0 6EE5      05535         MOVWF   POSTDEC1
04E2 5000      05536         MOVF    r0x11, W
04E4 6EE5      05537         MOVWF   POSTDEC1
04E6 5000      05538         MOVF    r0x10, W
04E8 6EE5      05539         MOVWF   POSTDEC1
04EA 5000      05540         MOVF    r0x02, W
04EC 6EE5      05541         MOVWF   POSTDEC1
04EE 5000      05542         MOVF    r0x01, W
04F0 6EE5      05543         MOVWF   POSTDEC1
04F2 5000      05544         MOVF    r0x00, W
04F4 6EE5      05545         MOVWF   POSTDEC1
04F6 EC00 F000 05546         CALL    _pprinti
04FA 6E00      05547         MOVWF   r0x10
04FC CFF3 F000 05548         MOVFF   PRODL, r0x11
0500 0E0F      05549         MOVLW   0x0f
0502 26E1      05550         ADDWF   FSR1L, F
0504 5000      05551         MOVF    r0x10, W
0506 2600      05552         ADDWF   r0x09, F
0508 5000      05553         MOVF    r0x11, W
050A 2200      05554         ADDWFC  r0x0a, F
               05555 ;       .line   203; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
050C D000      05556         BRA     _00821_DS_
050E 05557 _00808_DS_:
               05558 ;       .line   205; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 'u')
050E 5000      05559         MOVF    r0x0f, W
0510 0A75      05560         XORLW   0x75
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 107


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0512 E000      05561         BZ      _00882_DS_
0514 D000      05562         BRA     _00810_DS_
0516 05563 _00882_DS_:
               05564 ;       .line   207; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprinti(out, va_arg(args, int), 10, 0, width, pad, 'a');
0516 5000      05565         MOVF    r0x06, W
0518 0F02      05566         ADDLW   0x02
051A 6E00      05567         MOVWF   r0x10
051C 0E00      05568         MOVLW   0x00
051E 2000      05569         ADDWFC  r0x07, W
0520 6E00      05570         MOVWF   r0x11
0522 0E00      05571         MOVLW   0x00
0524 2000      05572         ADDWFC  r0x08, W
0526 6E00      05573         MOVWF   r0x12
0528 C000 F000 05574         MOVFF   r0x10, r0x06
052C C000 F000 05575         MOVFF   r0x11, r0x07
0530 C000 F000 05576         MOVFF   r0x12, r0x08
0534 0EFE      05577         MOVLW   0xfe
0536 2600      05578         ADDWF   r0x10, F
0538 0EFF      05579         MOVLW   0xff
053A 2200      05580         ADDWFC  r0x11, F
053C 2200      05581         ADDWFC  r0x12, F
053E C000 FFE9 05582         MOVFF   r0x10, FSR0L
0542 C000 FFF3 05583         MOVFF   r0x11, PRODL
0546 5000      05584         MOVF    r0x12, W
0548 EC00 F000 05585         CALL    __gptrget2
054C 6E00      05586         MOVWF   r0x10
054E CFF3 F000 05587         MOVFF   PRODL, r0x11
0552 6AE5      05588         CLRF    POSTDEC1
0554 0E61      05589         MOVLW   0x61
0556 6EE5      05590         MOVWF   POSTDEC1
0558 5000      05591         MOVF    r0x0c, W
055A 6EE5      05592         MOVWF   POSTDEC1
055C 5000      05593         MOVF    r0x0b, W
055E 6EE5      05594         MOVWF   POSTDEC1
0560 5000      05595         MOVF    r0x0e, W
0562 6EE5      05596         MOVWF   POSTDEC1
0564 5000      05597         MOVF    r0x0d, W
0566 6EE5      05598         MOVWF   POSTDEC1
0568 6AE5      05599         CLRF    POSTDEC1
056A 6AE5      05600         CLRF    POSTDEC1
056C 6AE5      05601         CLRF    POSTDEC1
056E 0E0A      05602         MOVLW   0x0a
0570 6EE5      05603         MOVWF   POSTDEC1
0572 5000      05604         MOVF    r0x11, W
0574 6EE5      05605         MOVWF   POSTDEC1
0576 5000      05606         MOVF    r0x10, W
0578 6EE5      05607         MOVWF   POSTDEC1
057A 5000      05608         MOVF    r0x02, W
057C 6EE5      05609         MOVWF   POSTDEC1
057E 5000      05610         MOVF    r0x01, W
0580 6EE5      05611         MOVWF   POSTDEC1
0582 5000      05612         MOVF    r0x00, W
0584 6EE5      05613         MOVWF   POSTDEC1
0586 EC00 F000 05614         CALL    _pprinti
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 108


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
058A 6E00      05615         MOVWF   r0x10
058C CFF3 F000 05616         MOVFF   PRODL, r0x11
0590 0E0F      05617         MOVLW   0x0f
0592 26E1      05618         ADDWF   FSR1L, F
0594 5000      05619         MOVF    r0x10, W
0596 2600      05620         ADDWF   r0x09, F
0598 5000      05621         MOVF    r0x11, W
059A 2200      05622         ADDWFC  r0x0a, F
               05623 ;       .line   208; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
059C D000      05624         BRA     _00821_DS_
059E 05625 _00810_DS_:
               05626 ;       .line   210; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 'c')
059E 5000      05627         MOVF    r0x0f, W
05A0 0A63      05628         XORLW   0x63
05A2 E000      05629         BZ      _00884_DS_
05A4 D000      05630         BRA     _00812_DS_
05A6 05631 _00884_DS_:
               05632 ;       .line   213; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   scr[0] = (char)va_arg(args, int);
05A6 5000      05633         MOVF    r0x06, W
05A8 0F02      05634         ADDLW   0x02
05AA 6E00      05635         MOVWF   r0x10
05AC 0E00      05636         MOVLW   0x00
05AE 2000      05637         ADDWFC  r0x07, W
05B0 6E00      05638         MOVWF   r0x11
05B2 0E00      05639         MOVLW   0x00
05B4 2000      05640         ADDWFC  r0x08, W
05B6 6E00      05641         MOVWF   r0x12
05B8 C000 F000 05642         MOVFF   r0x10, r0x06
05BC C000 F000 05643         MOVFF   r0x11, r0x07
05C0 C000 F000 05644         MOVFF   r0x12, r0x08
05C4 0EFE      05645         MOVLW   0xfe
05C6 2600      05646         ADDWF   r0x10, F
05C8 0EFF      05647         MOVLW   0xff
05CA 2200      05648         ADDWFC  r0x11, F
05CC 2200      05649         ADDWFC  r0x12, F
05CE C000 FFE9 05650         MOVFF   r0x10, FSR0L
05D2 C000 FFF3 05651         MOVFF   r0x11, PRODL
05D6 5000      05652         MOVF    r0x12, W
05D8 EC00 F000 05653         CALL    __gptrget2
05DC 0000      05654         BANKSEL _pprint_scr_1_1
05DE 6F00      05655         MOVWF   _pprint_scr_1_1, B
               05656 ; removed redundant BANKSEL
               05657 ;       .line   215; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   scr[1] = '\0';
05E0 6B00      05658         CLRF    (_pprint_scr_1_1 + 1), B
               05659 ;       .line   216; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprints(out, scr, width, pad);
05E2 5000      05660         MOVF    r0x0c, W
05E4 6EE5      05661         MOVWF   POSTDEC1
05E6 5000      05662         MOVF    r0x0b, W
05E8 6EE5      05663         MOVWF   POSTDEC1
05EA 5000      05664         MOVF    r0x0e, W
05EC 6EE5      05665         MOVWF   POSTDEC1
05EE 5000      05666         MOVF    r0x0d, W
05F0 6EE5      05667         MOVWF   POSTDEC1
05F2 0E80      05668         MOVLW   0x80
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 109


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
05F4 6EE5      05669         MOVWF   POSTDEC1
05F6 0E00      05670         MOVLW   HIGH(_pprint_scr_1_1)
05F8 6EE5      05671         MOVWF   POSTDEC1
05FA 0E00      05672         MOVLW   LOW(_pprint_scr_1_1)
05FC 6EE5      05673         MOVWF   POSTDEC1
05FE 5000      05674         MOVF    r0x02, W
0600 6EE5      05675         MOVWF   POSTDEC1
0602 5000      05676         MOVF    r0x01, W
0604 6EE5      05677         MOVWF   POSTDEC1
0606 5000      05678         MOVF    r0x00, W
0608 6EE5      05679         MOVWF   POSTDEC1
060A EC00 F000 05680         CALL    _pprints
060E 6E00      05681         MOVWF   r0x10
0610 CFF3 F000 05682         MOVFF   PRODL, r0x11
0614 0E0A      05683         MOVLW   0x0a
0616 26E1      05684         ADDWF   FSR1L, F
0618 5000      05685         MOVF    r0x10, W
061A 2600      05686         ADDWF   r0x09, F
061C 5000      05687         MOVF    r0x11, W
061E 2200      05688         ADDWFC  r0x0a, F
               05689 ;       .line   217; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
0620 D000      05690         BRA     _00821_DS_
0622 05691 _00812_DS_:
               05692 ;       .line   219; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (*format == 'f')
0622 5000      05693         MOVF    r0x0f, W
0624 0A66      05694         XORLW   0x66
0626 E100      05695         BNZ     _00821_DS_
               05696 ;       .line   221; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pc += pprints(out, "not yet implemented\0", width, pad);
0628 5000      05697         MOVF    r0x0c, W
062A 6EE5      05698         MOVWF   POSTDEC1
062C 5000      05699         MOVF    r0x0b, W
062E 6EE5      05700         MOVWF   POSTDEC1
0630 5000      05701         MOVF    r0x0e, W
0632 6EE5      05702         MOVWF   POSTDEC1
0634 5000      05703         MOVF    r0x0d, W
0636 6EE5      05704         MOVWF   POSTDEC1
0638 0E00      05705         MOVLW   UPPER(__str_1)
063A 6EE5      05706         MOVWF   POSTDEC1
063C 0E00      05707         MOVLW   HIGH(__str_1)
063E 6EE5      05708         MOVWF   POSTDEC1
0640 0E00      05709         MOVLW   LOW(__str_1)
0642 6EE5      05710         MOVWF   POSTDEC1
0644 5000      05711         MOVF    r0x02, W
0646 6EE5      05712         MOVWF   POSTDEC1
0648 5000      05713         MOVF    r0x01, W
064A 6EE5      05714         MOVWF   POSTDEC1
064C 5000      05715         MOVF    r0x00, W
064E 6EE5      05716         MOVWF   POSTDEC1
0650 EC00 F000 05717         CALL    _pprints
0654 6E00      05718         MOVWF   r0x0b
0656 CFF3 F000 05719         MOVFF   PRODL, r0x0c
065A 0E0A      05720         MOVLW   0x0a
065C 26E1      05721         ADDWF   FSR1L, F
065E 5000      05722         MOVF    r0x0b, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 110


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0660 2600      05723         ADDWF   r0x09, F
0662 5000      05724         MOVF    r0x0c, W
0664 2200      05725         ADDWFC  r0x0a, F
               05726 ;       .line   222; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   continue;
0666 D000      05727         BRA     _00821_DS_
0668 05728 _00815_DS_:
               05729 ;       .line   228; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pprintchar(out, *format);
0668 C000 FFE9 05730         MOVFF   r0x03, FSR0L
066C C000 FFF3 05731         MOVFF   r0x04, PRODL
0670 5000      05732         MOVF    r0x05, W
0672 EC00 F000 05733         CALL    __gptrget1
               05734 ; #     MOVWF   r0x0b
               05735 ; #     MOVF    r0x0b, W
0676 6EE5      05736         MOVWF   POSTDEC1
0678 5000      05737         MOVF    r0x02, W
067A 6EE5      05738         MOVWF   POSTDEC1
067C 5000      05739         MOVF    r0x01, W
067E 6EE5      05740         MOVWF   POSTDEC1
0680 5000      05741         MOVF    r0x00, W
0682 6EE5      05742         MOVWF   POSTDEC1
0684 EC00 F000 05743         CALL    _pprintchar
0688 0E04      05744         MOVLW   0x04
068A 26E1      05745         ADDWF   FSR1L, F
               05746 ;       .line   229; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   ++pc;
068C 2A00      05747         INCF    r0x09, F
068E B0D8      05748         BTFSC   STATUS, 0
0690 2A00      05749         INCF    r0x0a, F
0692 05750 _00821_DS_:
               05751 ;       .line   147; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   for (; *format != 0; ++format)
0692 2A00      05752         INCF    r0x03, F
0694 B0D8      05753         BTFSC   STATUS, 0
0696 2A00      05754         INCF    r0x04, F
0698 B0D8      05755         BTFSC   STATUS, 0
069A 2A00      05756         INCF    r0x05, F
069C EF00 F000 05757         GOTO    _00819_DS_
06A0 05758 _00822_DS_:
               05759 ;       .line   232; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (out) **out = '\0';
06A0 5000      05760         MOVF    r0x00, W
06A2 1000      05761         IORWF   r0x01, W
06A4 1000      05762         IORWF   r0x02, W
06A6 E000      05763         BZ      _00824_DS_
06A8 C000 FFE9 05764         MOVFF   r0x00, FSR0L
06AC C000 FFF3 05765         MOVFF   r0x01, PRODL
06B0 5000      05766         MOVF    r0x02, W
06B2 EC00 F000 05767         CALL    __gptrget3
06B6 6E00      05768         MOVWF   r0x00
06B8 CFF3 F000 05769         MOVFF   PRODL, r0x01
06BC CFF4 F000 05770         MOVFF   PRODH, r0x02
06C0 6AE5      05771         CLRF    POSTDEC1
06C2 C000 FFE9 05772         MOVFF   r0x00, FSR0L
06C6 C000 FFF3 05773         MOVFF   r0x01, PRODL
06CA 5000      05774         MOVF    r0x02, W
06CC EC00 F000 05775         CALL    __gptrput1
06D0 05776 _00824_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 111


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               05777 ;       .line   234; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   return pc;
06D0 C000 FFF3 05778         MOVFF   r0x0a, PRODL
06D4 5000      05779         MOVF    r0x09, W
06D6 CFE4 F000 05780         MOVFF   PREINC1, r0x13
06DA CFE4 F000 05781         MOVFF   PREINC1, r0x12
06DE CFE4 F000 05782         MOVFF   PREINC1, r0x11
06E2 CFE4 F000 05783         MOVFF   PREINC1, r0x10
06E6 CFE4 F000 05784         MOVFF   PREINC1, r0x0f
06EA CFE4 F000 05785         MOVFF   PREINC1, r0x0e
06EE CFE4 F000 05786         MOVFF   PREINC1, r0x0d
06F2 CFE4 F000 05787         MOVFF   PREINC1, r0x0c
06F6 CFE4 F000 05788         MOVFF   PREINC1, r0x0b
06FA CFE4 F000 05789         MOVFF   PREINC1, r0x0a
06FE CFE4 F000 05790         MOVFF   PREINC1, r0x09
0702 CFE4 F000 05791         MOVFF   PREINC1, r0x08
0706 CFE4 F000 05792         MOVFF   PREINC1, r0x07
070A CFE4 F000 05793         MOVFF   PREINC1, r0x06
070E CFE4 F000 05794         MOVFF   PREINC1, r0x05
0712 CFE4 F000 05795         MOVFF   PREINC1, r0x04
0716 CFE4 F000 05796         MOVFF   PREINC1, r0x03
071A CFE4 F000 05797         MOVFF   PREINC1, r0x02
071E CFE4 F000 05798         MOVFF   PREINC1, r0x01
0722 CFE4 F000 05799         MOVFF   PREINC1, r0x00
0726 CFE4 FFD9 05800         MOVFF   PREINC1, FSR2L
072A 0012      05801         RETURN  
               05802 
               05803 ; ; Starting pCode block
               05804 S_main__pprinti code
0000 05805 _pprinti:
               05806 ;       .line   92; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    static int pprinti(char **out, int i, int b, int sg, int width, int pad, int letbase)
0000 CFD9 FFE5 05807         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 05808         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 05809         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 05810         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 05811         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 05812         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 05813         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 05814         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 05815         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 05816         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 05817         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 05818         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 05819         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 05820         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 05821         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 05822         MOVFF   r0x0d, POSTDEC1
0040 C000 FFE5 05823         MOVFF   r0x0e, POSTDEC1
0044 C000 FFE5 05824         MOVFF   r0x0f, POSTDEC1
0048 C000 FFE5 05825         MOVFF   r0x10, POSTDEC1
004C C000 FFE5 05826         MOVFF   r0x11, POSTDEC1
0050 C000 FFE5 05827         MOVFF   r0x12, POSTDEC1
0054 C000 FFE5 05828         MOVFF   r0x13, POSTDEC1
0058 C000 FFE5 05829         MOVFF   r0x14, POSTDEC1
005C C000 FFE5 05830         MOVFF   r0x15, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 112


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0060 C000 FFE5 05831         MOVFF   r0x16, POSTDEC1
0064 C000 FFE5 05832         MOVFF   r0x17, POSTDEC1
0068 C000 FFE5 05833         MOVFF   r0x18, POSTDEC1
006C C000 FFE5 05834         MOVFF   r0x19, POSTDEC1
0070 C000 FFE5 05835         MOVFF   r0x1a, POSTDEC1
0074 0E02      05836         MOVLW   0x02
0076 CFDB F000 05837         MOVFF   PLUSW2, r0x00
007A 0E03      05838         MOVLW   0x03
007C CFDB F000 05839         MOVFF   PLUSW2, r0x01
0080 0E04      05840         MOVLW   0x04
0082 CFDB F000 05841         MOVFF   PLUSW2, r0x02
0086 0E05      05842         MOVLW   0x05
0088 CFDB F000 05843         MOVFF   PLUSW2, r0x03
008C 0E06      05844         MOVLW   0x06
008E CFDB F000 05845         MOVFF   PLUSW2, r0x04
0092 0E07      05846         MOVLW   0x07
0094 CFDB F000 05847         MOVFF   PLUSW2, r0x05
0098 0E08      05848         MOVLW   0x08
009A CFDB F000 05849         MOVFF   PLUSW2, r0x06
009E 0E09      05850         MOVLW   0x09
00A0 CFDB F000 05851         MOVFF   PLUSW2, r0x07
00A4 0E0A      05852         MOVLW   0x0a
00A6 CFDB F000 05853         MOVFF   PLUSW2, r0x08
00AA 0E0B      05854         MOVLW   0x0b
00AC CFDB F000 05855         MOVFF   PLUSW2, r0x09
00B0 0E0C      05856         MOVLW   0x0c
00B2 CFDB F000 05857         MOVFF   PLUSW2, r0x0a
00B6 0E0D      05858         MOVLW   0x0d
00B8 CFDB F000 05859         MOVFF   PLUSW2, r0x0b
00BC 0E0E      05860         MOVLW   0x0e
00BE CFDB F000 05861         MOVFF   PLUSW2, r0x0c
00C2 0E0F      05862         MOVLW   0x0f
00C4 CFDB F000 05863         MOVFF   PLUSW2, r0x0d
00C8 0E10      05864         MOVLW   0x10
00CA CFDB F000 05865         MOVFF   PLUSW2, r0x0e
               05866 ;       .line   96; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    int t, neg = 0, pc = 0;
00CE 6A00      05867         CLRF    r0x0f
00D0 6A00      05868         CLRF    r0x10
00D2 6A00      05869         CLRF    r0x11
00D4 6A00      05870         CLRF    r0x12
               05871 ;       .line   97; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    unsigned int u = i;
00D6 C000 F000 05872         MOVFF   r0x03, r0x13
00DA C000 F000 05873         MOVFF   r0x04, r0x14
               05874 ;       .line   99; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    if (i == 0)
00DE 5000      05875         MOVF    r0x03, W
00E0 1000      05876         IORWF   r0x04, W
00E2 E100      05877         BNZ     _00750_DS_
               05878 ;       .line   101; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   print_buf[0] = '0';
00E4 0E30      05879         MOVLW   0x30
00E6 0000      05880         BANKSEL _pprinti_print_buf_1_1
00E8 6F00      05881         MOVWF   _pprinti_print_buf_1_1, B
               05882 ; removed redundant BANKSEL
               05883 ;       .line   102; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   print_buf[1] = '\0';
00EA 6B00      05884         CLRF    (_pprinti_print_buf_1_1 + 1), B
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 113


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               05885 ;       .line   103; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   return pprints(out, print_buf, width, pad);
00EC 5000      05886         MOVF    r0x0c, W
00EE 6EE5      05887         MOVWF   POSTDEC1
00F0 5000      05888         MOVF    r0x0b, W
00F2 6EE5      05889         MOVWF   POSTDEC1
00F4 5000      05890         MOVF    r0x0a, W
00F6 6EE5      05891         MOVWF   POSTDEC1
00F8 5000      05892         MOVF    r0x09, W
00FA 6EE5      05893         MOVWF   POSTDEC1
00FC 0E80      05894         MOVLW   0x80
00FE 6EE5      05895         MOVWF   POSTDEC1
0100 0E00      05896         MOVLW   HIGH(_pprinti_print_buf_1_1)
0102 6EE5      05897         MOVWF   POSTDEC1
0104 0E00      05898         MOVLW   LOW(_pprinti_print_buf_1_1)
0106 6EE5      05899         MOVWF   POSTDEC1
0108 5000      05900         MOVF    r0x02, W
010A 6EE5      05901         MOVWF   POSTDEC1
010C 5000      05902         MOVF    r0x01, W
010E 6EE5      05903         MOVWF   POSTDEC1
0110 5000      05904         MOVF    r0x00, W
0112 6EE5      05905         MOVWF   POSTDEC1
0114 EC00 F000 05906         CALL    _pprints
0118 6E00      05907         MOVWF   r0x15
011A CFF3 F000 05908         MOVFF   PRODL, r0x16
011E 0E0A      05909         MOVLW   0x0a
0120 26E1      05910         ADDWF   FSR1L, F
0122 C000 FFF3 05911         MOVFF   r0x16, PRODL
0126 5000      05912         MOVF    r0x15, W
0128 D000      05913         BRA     _00766_DS_
012A 05914 _00750_DS_:
               05915 ;       .line   106; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (sg && b == 10 && i < 0)
012A 5000      05916         MOVF    r0x07, W
012C 1000      05917         IORWF   r0x08, W
012E E000      05918         BZ      _00752_DS_
0130 5000      05919         MOVF    r0x05, W
0132 0A0A      05920         XORLW   0x0a
0134 E100      05921         BNZ     _00779_DS_
0136 5000      05922         MOVF    r0x06, W
0138 E000      05923         BZ      _00780_DS_
013A 05924 _00779_DS_:
013A D000      05925         BRA     _00752_DS_
013C 05926 _00780_DS_:
013C 80D8      05927         BSF     STATUS, 0
013E AE00      05928         BTFSS   r0x04, 7
0140 90D8      05929         BCF     STATUS, 0
0142 E300      05930         BNC     _00752_DS_
               05931 ;       .line   108; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   neg = 1;
0144 0E01      05932         MOVLW   0x01
0146 6E00      05933         MOVWF   r0x0f
0148 6A00      05934         CLRF    r0x10
               05935 ;       .line   109; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   u = -i;
014A 1C00      05936         COMF    r0x04, W
014C 6E00      05937         MOVWF   r0x14
014E 1C00      05938         COMF    r0x03, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 114


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0150 6E00      05939         MOVWF   r0x13
0152 4A00      05940         INFSNZ  r0x13, F
0154 2A00      05941         INCF    r0x14, F
0156 05942 _00752_DS_:
               05943 ;       .line   112; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   s = print_buf + PRINT_BUF_LEN-1;
0156 0E00      05944         MOVLW   HIGH(_pprinti_print_buf_1_1 + 11)
0158 6E00      05945         MOVWF   r0x04
015A 0E00      05946         MOVLW   LOW(_pprinti_print_buf_1_1 + 11)
015C 6E00      05947         MOVWF   r0x03
015E 0E80      05948         MOVLW   0x80
0160 6E00      05949         MOVWF   r0x07
               05950 ;       .line   113; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   *s = '\0';
0162 6AE5      05951         CLRF    POSTDEC1
0164 C000 FFE9 05952         MOVFF   r0x03, FSR0L
0168 C000 FFF3 05953         MOVFF   r0x04, PRODL
016C EC00 F000 05954         CALL    __gptrput1
               05955 ;       .line   115; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   while (u)
0170 5000      05956         MOVF    r0x0d, W
0172 0FC6      05957         ADDLW   0xc6
0174 6E00      05958         MOVWF   r0x0d
0176 C000 F000 05959         MOVFF   r0x05, r0x0e
017A C000 F000 05960         MOVFF   r0x06, r0x15
017E C000 F000 05961         MOVFF   r0x03, r0x16
0182 C000 F000 05962         MOVFF   r0x04, r0x17
0186 C000 F000 05963         MOVFF   r0x07, r0x18
018A 05964 _00757_DS_:
018A 5000      05965         MOVF    r0x13, W
018C 1000      05966         IORWF   r0x14, W
018E E000      05967         BZ      _00778_DS_
               05968 ;       .line   117; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   t = u % b;
0190 5000      05969         MOVF    r0x15, W
0192 6EE5      05970         MOVWF   POSTDEC1
0194 5000      05971         MOVF    r0x0e, W
0196 6EE5      05972         MOVWF   POSTDEC1
0198 5000      05973         MOVF    r0x14, W
019A 6EE5      05974         MOVWF   POSTDEC1
019C 5000      05975         MOVF    r0x13, W
019E 6EE5      05976         MOVWF   POSTDEC1
01A0 EC00 F000 05977         CALL    __moduint
01A4 6E00      05978         MOVWF   r0x19
01A6 CFF3 F000 05979         MOVFF   PRODL, r0x1a
01AA 0E04      05980         MOVLW   0x04
01AC 26E1      05981         ADDWF   FSR1L, F
               05982 ;       .line   118; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if( t >= 10 )
01AE 5000      05983         MOVF    r0x1a, W
01B0 0F80      05984         ADDLW   0x80
01B2 0F80      05985         ADDLW   0x80
01B4 E100      05986         BNZ     _00782_DS_
01B6 0E0A      05987         MOVLW   0x0a
01B8 5C00      05988         SUBWF   r0x19, W
01BA 05989 _00782_DS_:
01BA E300      05990         BNC     _00756_DS_
               05991 ;       .line   119; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   t += letbase - '0' - 10;
01BC 5000      05992         MOVF    r0x0d, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 115


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01BE 2600      05993         ADDWF   r0x19, F
01C0 05994 _00756_DS_:
               05995 ;       .line   120; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   *--s = t + '0';
01C0 0EFF      05996         MOVLW   0xff
01C2 2600      05997         ADDWF   r0x16, F
01C4 2200      05998         ADDWFC  r0x17, F
01C6 2200      05999         ADDWFC  r0x18, F
01C8 0E30      06000         MOVLW   0x30
01CA 2600      06001         ADDWF   r0x19, F
01CC C000 FFE5 06002         MOVFF   r0x19, POSTDEC1
01D0 C000 FFE9 06003         MOVFF   r0x16, FSR0L
01D4 C000 FFF3 06004         MOVFF   r0x17, PRODL
01D8 5000      06005         MOVF    r0x18, W
01DA EC00 F000 06006         CALL    __gptrput1
               06007 ;       .line   121; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   u /= b;
01DE 5000      06008         MOVF    r0x06, W
01E0 6EE5      06009         MOVWF   POSTDEC1
01E2 5000      06010         MOVF    r0x05, W
01E4 6EE5      06011         MOVWF   POSTDEC1
01E6 5000      06012         MOVF    r0x14, W
01E8 6EE5      06013         MOVWF   POSTDEC1
01EA 5000      06014         MOVF    r0x13, W
01EC 6EE5      06015         MOVWF   POSTDEC1
01EE EC00 F000 06016         CALL    __divuint
01F2 6E00      06017         MOVWF   r0x13
01F4 CFF3 F000 06018         MOVFF   PRODL, r0x14
01F8 0E04      06019         MOVLW   0x04
01FA 26E1      06020         ADDWF   FSR1L, F
01FC D000      06021         BRA     _00757_DS_
01FE 06022 _00778_DS_:
01FE C000 F000 06023         MOVFF   r0x16, r0x03
0202 C000 F000 06024         MOVFF   r0x17, r0x04
0206 C000 F000 06025         MOVFF   r0x18, r0x07
               06026 ;       .line   124; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (neg)
020A 5000      06027         MOVF    r0x0f, W
020C 1000      06028         IORWF   r0x10, W
020E E000      06029         BZ      _00765_DS_
               06030 ;       .line   126; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   if (width && (pad & PAD_ZERO))
0210 5000      06031         MOVF    r0x09, W
0212 1000      06032         IORWF   r0x0a, W
0214 E000      06033         BZ      _00761_DS_
0216 A200      06034         BTFSS   r0x0b, 1
0218 D000      06035         BRA     _00761_DS_
               06036 ;       .line   128; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   pprintchar(out, '-');
021A 0E2D      06037         MOVLW   0x2d
021C 6EE5      06038         MOVWF   POSTDEC1
021E 5000      06039         MOVF    r0x02, W
0220 6EE5      06040         MOVWF   POSTDEC1
0222 5000      06041         MOVF    r0x01, W
0224 6EE5      06042         MOVWF   POSTDEC1
0226 5000      06043         MOVF    r0x00, W
0228 6EE5      06044         MOVWF   POSTDEC1
022A EC00 F000 06045         CALL    _pprintchar
022E 0E04      06046         MOVLW   0x04
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 116


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0230 26E1      06047         ADDWF   FSR1L, F
               06048 ;       .line   129; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   ++pc;
0232 0E01      06049         MOVLW   0x01
0234 6E00      06050         MOVWF   r0x11
0236 6A00      06051         CLRF    r0x12
               06052 ;       .line   130; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   --width;
0238 0EFF      06053         MOVLW   0xff
023A 2600      06054         ADDWF   r0x09, F
023C A0D8      06055         BTFSS   STATUS, 0
023E 0600      06056         DECF    r0x0a, F
0240 D000      06057         BRA     _00765_DS_
0242 06058 _00761_DS_:
               06059 ;       .line   134; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   *--s = '-';
0242 0EFF      06060         MOVLW   0xff
0244 2600      06061         ADDWF   r0x03, F
0246 2200      06062         ADDWFC  r0x04, F
0248 2200      06063         ADDWFC  r0x07, F
024A 0E2D      06064         MOVLW   0x2d
024C 6EE5      06065         MOVWF   POSTDEC1
024E C000 FFE9 06066         MOVFF   r0x03, FSR0L
0252 C000 FFF3 06067         MOVFF   r0x04, PRODL
0256 5000      06068         MOVF    r0x07, W
0258 EC00 F000 06069         CALL    __gptrput1
025C 06070 _00765_DS_:
               06071 ;       .line   138; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c   return pc + pprints(out, s, width, pad);
025C 5000      06072         MOVF    r0x0c, W
025E 6EE5      06073         MOVWF   POSTDEC1
0260 5000      06074         MOVF    r0x0b, W
0262 6EE5      06075         MOVWF   POSTDEC1
0264 5000      06076         MOVF    r0x0a, W
0266 6EE5      06077         MOVWF   POSTDEC1
0268 5000      06078         MOVF    r0x09, W
026A 6EE5      06079         MOVWF   POSTDEC1
026C 5000      06080         MOVF    r0x07, W
026E 6EE5      06081         MOVWF   POSTDEC1
0270 5000      06082         MOVF    r0x04, W
0272 6EE5      06083         MOVWF   POSTDEC1
0274 5000      06084         MOVF    r0x03, W
0276 6EE5      06085         MOVWF   POSTDEC1
0278 5000      06086         MOVF    r0x02, W
027A 6EE5      06087         MOVWF   POSTDEC1
027C 5000      06088         MOVF    r0x01, W
027E 6EE5      06089         MOVWF   POSTDEC1
0280 5000      06090         MOVF    r0x00, W
0282 6EE5      06091         MOVWF   POSTDEC1
0284 EC00 F000 06092         CALL    _pprints
0288 6E00      06093         MOVWF   r0x00
028A CFF3 F000 06094         MOVFF   PRODL, r0x01
028E 0E0A      06095         MOVLW   0x0a
0290 26E1      06096         ADDWF   FSR1L, F
0292 5000      06097         MOVF    r0x00, W
0294 2600      06098         ADDWF   r0x11, F
0296 5000      06099         MOVF    r0x01, W
0298 2200      06100         ADDWFC  r0x12, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 117


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
029A C000 FFF3 06101         MOVFF   r0x12, PRODL
029E 5000      06102         MOVF    r0x11, W
02A0 06103 _00766_DS_:
02A0 CFE4 F000 06104         MOVFF   PREINC1, r0x1a
02A4 CFE4 F000 06105         MOVFF   PREINC1, r0x19
02A8 CFE4 F000 06106         MOVFF   PREINC1, r0x18
02AC CFE4 F000 06107         MOVFF   PREINC1, r0x17
02B0 CFE4 F000 06108         MOVFF   PREINC1, r0x16
02B4 CFE4 F000 06109         MOVFF   PREINC1, r0x15
02B8 CFE4 F000 06110         MOVFF   PREINC1, r0x14
02BC CFE4 F000 06111         MOVFF   PREINC1, r0x13
02C0 CFE4 F000 06112         MOVFF   PREINC1, r0x12
02C4 CFE4 F000 06113         MOVFF   PREINC1, r0x11
02C8 CFE4 F000 06114         MOVFF   PREINC1, r0x10
02CC CFE4 F000 06115         MOVFF   PREINC1, r0x0f
02D0 CFE4 F000 06116         MOVFF   PREINC1, r0x0e
02D4 CFE4 F000 06117         MOVFF   PREINC1, r0x0d
02D8 CFE4 F000 06118         MOVFF   PREINC1, r0x0c
02DC CFE4 F000 06119         MOVFF   PREINC1, r0x0b
02E0 CFE4 F000 06120         MOVFF   PREINC1, r0x0a
02E4 CFE4 F000 06121         MOVFF   PREINC1, r0x09
02E8 CFE4 F000 06122         MOVFF   PREINC1, r0x08
02EC CFE4 F000 06123         MOVFF   PREINC1, r0x07
02F0 CFE4 F000 06124         MOVFF   PREINC1, r0x06
02F4 CFE4 F000 06125         MOVFF   PREINC1, r0x05
02F8 CFE4 F000 06126         MOVFF   PREINC1, r0x04
02FC CFE4 F000 06127         MOVFF   PREINC1, r0x03
0300 CFE4 F000 06128         MOVFF   PREINC1, r0x02
0304 CFE4 F000 06129         MOVFF   PREINC1, r0x01
0308 CFE4 F000 06130         MOVFF   PREINC1, r0x00
030C CFE4 FFD9 06131         MOVFF   PREINC1, FSR2L
0310 0012      06132         RETURN  
               06133 
               06134 ; ; Starting pCode block
               06135 S_main__pprints code
0000 06136 _pprints:
               06137 ;       .line   50; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    static int pprints(char **out, const char *string, int width, int pad)
0000 CFD9 FFE5 06138         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 06139         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 06140         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 06141         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 06142         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 06143         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 06144         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 06145         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 06146         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 06147         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 06148         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 06149         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 06150         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 06151         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 06152         MOVFF   r0x0c, POSTDEC1
003C C000 FFE5 06153         MOVFF   r0x0e, POSTDEC1
0040 C000 FFE5 06154         MOVFF   r0x0f, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 118


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0044 C000 FFE5 06155         MOVFF   r0x10, POSTDEC1
0048 C000 FFE5 06156         MOVFF   r0x11, POSTDEC1
004C C000 FFE5 06157         MOVFF   r0x12, POSTDEC1
0050 C000 FFE5 06158         MOVFF   r0x13, POSTDEC1
0054 0E02      06159         MOVLW   0x02
0056 CFDB F000 06160         MOVFF   PLUSW2, r0x00
005A 0E03      06161         MOVLW   0x03
005C CFDB F000 06162         MOVFF   PLUSW2, r0x01
0060 0E04      06163         MOVLW   0x04
0062 CFDB F000 06164         MOVFF   PLUSW2, r0x02
0066 0E05      06165         MOVLW   0x05
0068 CFDB F000 06166         MOVFF   PLUSW2, r0x03
006C 0E06      06167         MOVLW   0x06
006E CFDB F000 06168         MOVFF   PLUSW2, r0x04
0072 0E07      06169         MOVLW   0x07
0074 CFDB F000 06170         MOVFF   PLUSW2, r0x05
0078 0E08      06171         MOVLW   0x08
007A CFDB F000 06172         MOVFF   PLUSW2, r0x06
007E 0E09      06173         MOVLW   0x09
0080 CFDB F000 06174         MOVFF   PLUSW2, r0x07
0084 0E0A      06175         MOVLW   0x0a
0086 CFDB F000 06176         MOVFF   PLUSW2, r0x08
008A 0E0B      06177         MOVLW   0x0b
008C CFDB F000 06178         MOVFF   PLUSW2, r0x09
               06179 ;       .line   52; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    register int pc = 0;
0090 6A00      06180         CLRF    r0x0a
0092 6A00      06181         CLRF    r0x0b
               06182 ;       .line   53; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    int padchar = ' ';
0094 0E20      06183         MOVLW   0x20
0096 6E00      06184         MOVWF   r0x0c
               06185 ;       .line   57; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    if (width > 0)
0098 5000      06186         MOVF    r0x07, W
009A 0F80      06187         ADDLW   0x80
009C 0F80      06188         ADDLW   0x80
009E E100      06189         BNZ     _00739_DS_
00A0 0E01      06190         MOVLW   0x01
00A2 5C00      06191         SUBWF   r0x06, W
00A4 06192 _00739_DS_:
00A4 E300      06193         BNC     _00703_DS_
               06194 ;       .line   59; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    for (ptr = string; *ptr; ++ptr)
00A6 6A00      06195         CLRF    r0x0e
00A8 6A00      06196         CLRF    r0x0f
00AA C000 F000 06197         MOVFF   r0x03, r0x10
00AE C000 F000 06198         MOVFF   r0x04, r0x11
00B2 C000 F000 06199         MOVFF   r0x05, r0x12
00B6 06200 _00706_DS_:
00B6 C000 FFE9 06201         MOVFF   r0x10, FSR0L
00BA C000 FFF3 06202         MOVFF   r0x11, PRODL
00BE 5000      06203         MOVF    r0x12, W
00C0 EC00 F000 06204         CALL    __gptrget1
00C4 6E00      06205         MOVWF   r0x13
00C6 5000      06206         MOVF    r0x13, W
00C8 E000      06207         BZ      _00709_DS_
               06208 ;       .line   60; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    ++len;
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 119


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00CA 2A00      06209         INCF    r0x0e, F
00CC B0D8      06210         BTFSC   STATUS, 0
00CE 2A00      06211         INCF    r0x0f, F
               06212 ;       .line   59; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    for (ptr = string; *ptr; ++ptr)
00D0 2A00      06213         INCF    r0x10, F
00D2 B0D8      06214         BTFSC   STATUS, 0
00D4 2A00      06215         INCF    r0x11, F
00D6 B0D8      06216         BTFSC   STATUS, 0
00D8 2A00      06217         INCF    r0x12, F
00DA D000      06218         BRA     _00706_DS_
00DC 06219 _00709_DS_:
               06220 ;       .line   61; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    if (len >= width)
00DC 5000      06221         MOVF    r0x0f, W
00DE 0F80      06222         ADDLW   0x80
00E0 6EF3      06223         MOVWF   PRODL
00E2 5000      06224         MOVF    r0x07, W
00E4 0F80      06225         ADDLW   0x80
00E6 5CF3      06226         SUBWF   PRODL, W
00E8 E100      06227         BNZ     _00740_DS_
00EA 5000      06228         MOVF    r0x06, W
00EC 5C00      06229         SUBWF   r0x0e, W
00EE 06230 _00740_DS_:
00EE E300      06231         BNC     _00698_DS_
               06232 ;       .line   62; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    width = 0;
00F0 6A00      06233         CLRF    r0x06
00F2 6A00      06234         CLRF    r0x07
00F4 D000      06235         BRA     _00699_DS_
00F6 06236 _00698_DS_:
               06237 ;       .line   64; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    width -= len;
00F6 5000      06238         MOVF    r0x0e, W
00F8 5E00      06239         SUBWF   r0x06, F
00FA 5000      06240         MOVF    r0x0f, W
00FC 5A00      06241         SUBWFB  r0x07, F
00FE 06242 _00699_DS_:
               06243 ;       .line   65; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    if (pad & PAD_ZERO) padchar = '0';
00FE A200      06244         BTFSS   r0x08, 1
0100 D000      06245         BRA     _00703_DS_
0102 0E30      06246         MOVLW   0x30
0104 6E00      06247         MOVWF   r0x0c
0106 06248 _00703_DS_:
               06249 ;       .line   67; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    if (!(pad & PAD_RIGHT))
0106 B000      06250         BTFSC   r0x08, 0
0108 D000      06251         BRA     _00732_DS_
010A 6A00      06252         CLRF    r0x08
010C 6A00      06253         CLRF    r0x09
010E C000 F000 06254         MOVFF   r0x06, r0x0e
0112 C000 F000 06255         MOVFF   r0x07, r0x0f
0116 06256 _00710_DS_:
               06257 ;       .line   69; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    for ( ; width > 0; --width)
0116 5000      06258         MOVF    r0x0f, W
0118 0F80      06259         ADDLW   0x80
011A 0F80      06260         ADDLW   0x80
011C E100      06261         BNZ     _00743_DS_
011E 0E01      06262         MOVLW   0x01
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 120


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0120 5C00      06263         SUBWF   r0x0e, W
0122 06264 _00743_DS_:
0122 E300      06265         BNC     _00736_DS_
               06266 ; #     MOVF    r0x0c, W
               06267 ; #     MOVWF   r0x10
               06268 ; #     MOVF    r0x10, W
               06269 ;       .line   71; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    pprintchar(out, padchar);
0124 5000      06270         MOVF    r0x0c, W
0126 6EE5      06271         MOVWF   POSTDEC1
0128 5000      06272         MOVF    r0x02, W
012A 6EE5      06273         MOVWF   POSTDEC1
012C 5000      06274         MOVF    r0x01, W
012E 6EE5      06275         MOVWF   POSTDEC1
0130 5000      06276         MOVF    r0x00, W
0132 6EE5      06277         MOVWF   POSTDEC1
0134 EC00 F000 06278         CALL    _pprintchar
0138 0E04      06279         MOVLW   0x04
013A 26E1      06280         ADDWF   FSR1L, F
               06281 ;       .line   72; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    ++pc;
013C 2A00      06282         INCF    r0x08, F
013E B0D8      06283         BTFSC   STATUS, 0
0140 2A00      06284         INCF    r0x09, F
               06285 ;       .line   69; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    for ( ; width > 0; --width)
0142 0EFF      06286         MOVLW   0xff
0144 2600      06287         ADDWF   r0x0e, F
0146 A0D8      06288         BTFSS   STATUS, 0
0148 0600      06289         DECF    r0x0f, F
014A D000      06290         BRA     _00710_DS_
014C 06291 _00736_DS_:
014C C000 F000 06292         MOVFF   r0x08, r0x0a
0150 C000 F000 06293         MOVFF   r0x09, r0x0b
0154 C000 F000 06294         MOVFF   r0x0e, r0x06
0158 C000 F000 06295         MOVFF   r0x0f, r0x07
015C 06296 _00732_DS_:
015C C000 F000 06297         MOVFF   r0x0a, r0x08
0160 C000 F000 06298         MOVFF   r0x0b, r0x09
0164 06299 _00714_DS_:
               06300 ;       .line   75; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    for ( ; *string ; ++string)
0164 C000 FFE9 06301         MOVFF   r0x03, FSR0L
0168 C000 FFF3 06302         MOVFF   r0x04, PRODL
016C 5000      06303         MOVF    r0x05, W
016E EC00 F000 06304         CALL    __gptrget1
0172 6E00      06305         MOVWF   r0x0a
0174 5000      06306         MOVF    r0x0a, W
0176 E000      06307         BZ      _00734_DS_
               06308 ;       .line   77; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    pprintchar(out, *string);
0178 5000      06309         MOVF    r0x0a, W
017A 6EE5      06310         MOVWF   POSTDEC1
017C 5000      06311         MOVF    r0x02, W
017E 6EE5      06312         MOVWF   POSTDEC1
0180 5000      06313         MOVF    r0x01, W
0182 6EE5      06314         MOVWF   POSTDEC1
0184 5000      06315         MOVF    r0x00, W
0186 6EE5      06316         MOVWF   POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 121


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0188 EC00 F000 06317         CALL    _pprintchar
018C 0E04      06318         MOVLW   0x04
018E 26E1      06319         ADDWF   FSR1L, F
               06320 ;       .line   78; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    ++pc;
0190 2A00      06321         INCF    r0x08, F
0192 B0D8      06322         BTFSC   STATUS, 0
0194 2A00      06323         INCF    r0x09, F
               06324 ;       .line   75; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    for ( ; *string ; ++string)
0196 2A00      06325         INCF    r0x03, F
0198 B0D8      06326         BTFSC   STATUS, 0
019A 2A00      06327         INCF    r0x04, F
019C B0D8      06328         BTFSC   STATUS, 0
019E 2A00      06329         INCF    r0x05, F
01A0 D000      06330         BRA     _00714_DS_
01A2 06331 _00734_DS_:
01A2 C000 F000 06332         MOVFF   r0x08, r0x03
01A6 C000 F000 06333         MOVFF   r0x09, r0x04
01AA C000 F000 06334         MOVFF   r0x06, r0x05
01AE C000 F000 06335         MOVFF   r0x07, r0x06
01B2 06336 _00718_DS_:
               06337 ;       .line   80; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    for ( ; width > 0; --width)
01B2 5000      06338         MOVF    r0x06, W
01B4 0F80      06339         ADDLW   0x80
01B6 0F80      06340         ADDLW   0x80
01B8 E100      06341         BNZ     _00744_DS_
01BA 0E01      06342         MOVLW   0x01
01BC 5C00      06343         SUBWF   r0x05, W
01BE 06344 _00744_DS_:
01BE E300      06345         BNC     _00721_DS_
               06346 ; #     MOVF    r0x0c, W
               06347 ; #     MOVWF   r0x07
               06348 ; #     MOVF    r0x07, W
               06349 ;       .line   82; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    pprintchar(out, padchar);
01C0 5000      06350         MOVF    r0x0c, W
01C2 6EE5      06351         MOVWF   POSTDEC1
01C4 5000      06352         MOVF    r0x02, W
01C6 6EE5      06353         MOVWF   POSTDEC1
01C8 5000      06354         MOVF    r0x01, W
01CA 6EE5      06355         MOVWF   POSTDEC1
01CC 5000      06356         MOVF    r0x00, W
01CE 6EE5      06357         MOVWF   POSTDEC1
01D0 EC00 F000 06358         CALL    _pprintchar
01D4 0E04      06359         MOVLW   0x04
01D6 26E1      06360         ADDWF   FSR1L, F
               06361 ;       .line   83; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    ++pc;
01D8 2A00      06362         INCF    r0x03, F
01DA B0D8      06363         BTFSC   STATUS, 0
01DC 2A00      06364         INCF    r0x04, F
               06365 ;       .line   80; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    for ( ; width > 0; --width)
01DE 0EFF      06366         MOVLW   0xff
01E0 2600      06367         ADDWF   r0x05, F
01E2 A0D8      06368         BTFSS   STATUS, 0
01E4 0600      06369         DECF    r0x06, F
01E6 D000      06370         BRA     _00718_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 122


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01E8 06371 _00721_DS_:
               06372 ;       .line   86; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    return pc;
01E8 C000 FFF3 06373         MOVFF   r0x04, PRODL
01EC 5000      06374         MOVF    r0x03, W
01EE CFE4 F000 06375         MOVFF   PREINC1, r0x13
01F2 CFE4 F000 06376         MOVFF   PREINC1, r0x12
01F6 CFE4 F000 06377         MOVFF   PREINC1, r0x11
01FA CFE4 F000 06378         MOVFF   PREINC1, r0x10
01FE CFE4 F000 06379         MOVFF   PREINC1, r0x0f
0202 CFE4 F000 06380         MOVFF   PREINC1, r0x0e
0206 CFE4 F000 06381         MOVFF   PREINC1, r0x0c
020A CFE4 F000 06382         MOVFF   PREINC1, r0x0b
020E CFE4 F000 06383         MOVFF   PREINC1, r0x0a
0212 CFE4 F000 06384         MOVFF   PREINC1, r0x09
0216 CFE4 F000 06385         MOVFF   PREINC1, r0x08
021A CFE4 F000 06386         MOVFF   PREINC1, r0x07
021E CFE4 F000 06387         MOVFF   PREINC1, r0x06
0222 CFE4 F000 06388         MOVFF   PREINC1, r0x05
0226 CFE4 F000 06389         MOVFF   PREINC1, r0x04
022A CFE4 F000 06390         MOVFF   PREINC1, r0x03
022E CFE4 F000 06391         MOVFF   PREINC1, r0x02
0232 CFE4 F000 06392         MOVFF   PREINC1, r0x01
0236 CFE4 F000 06393         MOVFF   PREINC1, r0x00
023A CFE4 FFD9 06394         MOVFF   PREINC1, FSR2L
023E 0012      06395         RETURN  
               06396 
               06397 ; ; Starting pCode block
               06398 S_main__pprintchar      code
0000 06399 _pprintchar:
               06400 ;       .line   34; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    static void pprintchar(char **str, char c)
0000 CFD9 FFE5 06401         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 06402         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 06403         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 06404         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 06405         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 06406         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 06407         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 06408         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 06409         MOVFF   r0x06, POSTDEC1
0024 0E02      06410         MOVLW   0x02
0026 CFDB F000 06411         MOVFF   PLUSW2, r0x00
002A 0E03      06412         MOVLW   0x03
002C CFDB F000 06413         MOVFF   PLUSW2, r0x01
0030 0E04      06414         MOVLW   0x04
0032 CFDB F000 06415         MOVFF   PLUSW2, r0x02
0036 0E05      06416         MOVLW   0x05
0038 CFDB F000 06417         MOVFF   PLUSW2, r0x03
               06418 ;       .line   36; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    if (str)
003C 5000      06419         MOVF    r0x00, W
003E 1000      06420         IORWF   r0x01, W
0040 1000      06421         IORWF   r0x02, W
0042 E000      06422         BZ      _00687_DS_
               06423 ;       .line   38; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    **str = c;
0044 C000 FFE9 06424         MOVFF   r0x00, FSR0L
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 123


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0048 C000 FFF3 06425         MOVFF   r0x01, PRODL
004C 5000      06426         MOVF    r0x02, W
004E EC00 F000 06427         CALL    __gptrget3
0052 6E00      06428         MOVWF   r0x04
0054 CFF3 F000 06429         MOVFF   PRODL, r0x05
0058 CFF4 F000 06430         MOVFF   PRODH, r0x06
005C C000 FFE5 06431         MOVFF   r0x03, POSTDEC1
0060 C000 FFE9 06432         MOVFF   r0x04, FSR0L
0064 C000 FFF3 06433         MOVFF   r0x05, PRODL
0068 5000      06434         MOVF    r0x06, W
006A EC00 F000 06435         CALL    __gptrput1
               06436 ;       .line   39; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    ++(*str);
006E 2A00      06437         INCF    r0x04, F
0070 B0D8      06438         BTFSC   STATUS, 0
0072 2A00      06439         INCF    r0x05, F
0074 B0D8      06440         BTFSC   STATUS, 0
0076 2A00      06441         INCF    r0x06, F
0078 C000 FFE5 06442         MOVFF   r0x04, POSTDEC1
007C C000 FFF4 06443         MOVFF   r0x05, PRODH
0080 C000 FFF6 06444         MOVFF   r0x06, TBLPTRL
0084 C000 FFE9 06445         MOVFF   r0x00, FSR0L
0088 C000 FFF3 06446         MOVFF   r0x01, PRODL
008C 5000      06447         MOVF    r0x02, W
008E EC00 F000 06448         CALL    __gptrput3
0092 D000      06449         BRA     _00689_DS_
0094 06450 _00687_DS_:
               06451 ;       .line   43; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/p8/share/sdcc/include/pic16/stdio.c    pputchar(c);
0094 5000      06452         MOVF    r0x03, W
0096 6EE5      06453         MOVWF   POSTDEC1
0098 CFF2 FFE5 06454         MOVFF   INTCON, POSTDEC1
009C 9EF2      06455         BCF     INTCON, 7
009E 0005      06456         PUSH    
00A0 0E00      06457         MOVLW   LOW(_00692_DS_)
00A2 6EFD      06458         MOVWF   TOSL
00A4 0E00      06459         MOVLW   HIGH(_00692_DS_)
00A6 6EFE      06460         MOVWF   TOSH
00A8 0E00      06461         MOVLW   UPPER(_00692_DS_)
00AA 6EFF      06462         MOVWF   TOSU
00AC 50E4      06463         MOVF    PREINC1, W
00AE 6EF2      06464         MOVWF   INTCON
00B0 C000 FFFB 06465         MOVFF   (_pputchar + 2), PCLATU
00B4 C000 FFFA 06466         MOVFF   (_pputchar + 1), PCLATH
00B8 0000      06467         BANKSEL _pputchar
00BA 5100      06468         MOVF    _pputchar, W, B
00BC 6EF9      06469         MOVWF   PCL
00BE 06470 _00692_DS_:
00BE 0E01      06471         MOVLW   0x01
00C0 26E1      06472         ADDWF   FSR1L, F
00C2 06473 _00689_DS_:
00C2 CFE4 F000 06474         MOVFF   PREINC1, r0x06
00C6 CFE4 F000 06475         MOVFF   PREINC1, r0x05
00CA CFE4 F000 06476         MOVFF   PREINC1, r0x04
00CE CFE4 F000 06477         MOVFF   PREINC1, r0x03
00D2 CFE4 F000 06478         MOVFF   PREINC1, r0x02
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 124


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00D6 CFE4 F000 06479         MOVFF   PREINC1, r0x01
00DA CFE4 F000 06480         MOVFF   PREINC1, r0x00
00DE CFE4 FFD9 06481         MOVFF   PREINC1, FSR2L
00E2 0012      06482         RETURN  
               06483 
               06484 ; ; Starting pCode block
               06485 S_main__val_southwest   code
0000 06486 _val_southwest:
               06487 ;       .line   449; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_southwest(LOC from,BOOL piececolour,BOOL depth)
0000 CFD9 FFE5 06488         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 06489         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 06490         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 06491         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 06492         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 06493         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 06494         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 06495         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 06496         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 06497         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 06498         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 06499         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 06500         MOVFF   r0x0a, POSTDEC1
0034 0E02      06501         MOVLW   0x02
0036 CFDB F000 06502         MOVFF   PLUSW2, r0x00
003A 0E03      06503         MOVLW   0x03
003C CFDB F000 06504         MOVFF   PLUSW2, r0x01
0040 0E04      06505         MOVLW   0x04
0042 CFDB F000 06506         MOVFF   PLUSW2, r0x02
0046 0E05      06507         MOVLW   0x05
0048 CFDB F000 06508         MOVFF   PLUSW2, r0x03
004C 0E06      06509         MOVLW   0x06
004E CFDB F000 06510         MOVFF   PLUSW2, r0x04
               06511 ;       .line   452; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      COORD row = from[0], col = from[1];
0052 C000 FFE9 06512         MOVFF   r0x00, FSR0L
0056 C000 FFF3 06513         MOVFF   r0x01, PRODL
005A 5000      06514         MOVF    r0x02, W
005C EC00 F000 06515         CALL    __gptrget1
0060 6E00      06516         MOVWF   r0x05
0062 2A00      06517         INCF    r0x00, F
0064 B0D8      06518         BTFSC   STATUS, 0
0066 2A00      06519         INCF    r0x01, F
0068 B0D8      06520         BTFSC   STATUS, 0
006A 2A00      06521         INCF    r0x02, F
006C C000 FFE9 06522         MOVFF   r0x00, FSR0L
0070 C000 FFF3 06523         MOVFF   r0x01, PRODL
0074 5000      06524         MOVF    r0x02, W
0076 EC00 F000 06525         CALL    __gptrget1
007A 6E00      06526         MOVWF   r0x00
               06527 ;       .line   453; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      BOOL piecefound = FALSE;
007C 6A00      06528         CLRF    r0x01
               06529 ;       .line   454; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      while ((col-- > MIN_COL) && (row-- > MIN_ROW) && (!piecefound) && (depth--))
007E C000 F000 06530         MOVFF   r0x05, r0x02
               06531 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x05
               06532 ; ;Unrolled 8 X 8 multiplication
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 125


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               06533 ; ;FIXME: the function does not support result==WREG
0082 5000      06534         MOVF    r0x05, W
0084 0D08      06535         MULLW   0x08
0086 CFF3 F000 06536         MOVFF   PRODL, r0x05
008A 06537 _00658_DS_:
008A C000 F000 06538         MOVFF   r0x00, r0x06
008E 0600      06539         DECF    r0x00, F
0090 5000      06540         MOVF    r0x06, W
0092 B4D8      06541         BTFSC   STATUS, 2
0094 D000      06542         BRA     _00661_DS_
0096 C000 F000 06543         MOVFF   r0x02, r0x06
009A 0EF8      06544         MOVLW   0xf8
009C 2600      06545         ADDWF   r0x05, F
009E 0600      06546         DECF    r0x02, F
00A0 5000      06547         MOVF    r0x06, W
00A2 B4D8      06548         BTFSC   STATUS, 2
00A4 D000      06549         BRA     _00661_DS_
00A6 5000      06550         MOVF    r0x01, W
00A8 A4D8      06551         BTFSS   STATUS, 2
00AA D000      06552         BRA     _00661_DS_
00AC C000 F000 06553         MOVFF   r0x04, r0x06
00B0 0600      06554         DECF    r0x04, F
00B2 5000      06555         MOVF    r0x06, W
00B4 B4D8      06556         BTFSC   STATUS, 2
00B6 D000      06557         BRA     _00661_DS_
               06558 ;       .line   456; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (board[row][col] == EMPTY)
Error [113] : Symbol not previously defined (_board).
00B8 0E00      06559         MOVLW   LOW(_board)
00BA 2400      06560         ADDWF   r0x05, W
00BC 6E00      06561         MOVWF   r0x06
00BE 6A00      06562         CLRF    r0x07
Error [113] : Symbol not previously defined (_board).
00C0 0E00      06563         MOVLW   HIGH(_board)
00C2 2200      06564         ADDWFC  r0x07, F
00C4 5000      06565         MOVF    r0x00, W
00C6 2600      06566         ADDWF   r0x06, F
00C8 6AE8      06567         CLRF    WREG
00CA 2200      06568         ADDWFC  r0x07, F
00CC C000 FFE9 06569         MOVFF   r0x06, FSR0L
00D0 C000 FFEA 06570         MOVFF   r0x07, FSR0H
00D4 CFEF F000 06571         MOVFF   INDF0, r0x06
00D8 5000      06572         MOVF    r0x06, W
00DA E100      06573         BNZ     _00653_DS_
               06574 ;       .line   458; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
00DC 0E00      06575         MOVLW   LOW(_validmovemask)
00DE 2400      06576         ADDWF   r0x02, W
00E0 6E00      06577         MOVWF   r0x07
00E2 6A00      06578         CLRF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
00E4 0E00      06579         MOVLW   HIGH(_validmovemask)
00E6 2200      06580         ADDWFC  r0x08, F
00E8 C000 FFE9 06581         MOVFF   r0x07, FSR0L
00EC C000 FFEA 06582         MOVFF   r0x08, FSR0H
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 126


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00F0 CFEF F000 06583         MOVFF   INDF0, r0x09
00F4 0E01      06584         MOVLW   0x01
00F6 6E00      06585         MOVWF   r0x0a
00F8 5000      06586         MOVF    r0x00, W
00FA E000      06587         BZ      _00672_DS_
00FC 6CE8      06588         NEGF    WREG
00FE 90D8      06589         BCF     STATUS, 0
0100 06590 _00673_DS_:
0100 3600      06591         RLCF    r0x0a, F
0102 0F01      06592         ADDLW   0x01
0104 E300      06593         BNC     _00673_DS_
0106 06594 _00672_DS_:
0106 5000      06595         MOVF    r0x0a, W
0108 1200      06596         IORWF   r0x09, F
010A C000 FFE9 06597         MOVFF   r0x07, FSR0L
010E C000 FFEA 06598         MOVFF   r0x08, FSR0H
0112 C000 FFEF 06599         MOVFF   r0x09, INDF0
0116 D000      06600         BRA     _00658_DS_
0118 06601 _00653_DS_:
               06602 ;       .line   460; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if ((board[row][col] & 0x08) ^ piececolour)
0118 0E08      06603         MOVLW   0x08
011A 1600      06604         ANDWF   r0x06, F
011C 5000      06605         MOVF    r0x03, W
011E 1A00      06606         XORWF   r0x06, F
0120 5000      06607         MOVF    r0x06, W
0122 B4D8      06608         BTFSC   STATUS, 2
0124 D000      06609         BRA     _00650_DS_
               06610 ;       .line   462; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
0126 0E00      06611         MOVLW   LOW(_validmovemask)
0128 2400      06612         ADDWF   r0x02, W
012A 6E00      06613         MOVWF   r0x06
012C 6A00      06614         CLRF    r0x07
Error [113] : Symbol not previously defined (_validmovemask).
012E 0E00      06615         MOVLW   HIGH(_validmovemask)
0130 2200      06616         ADDWFC  r0x07, F
0132 C000 FFE9 06617         MOVFF   r0x06, FSR0L
0136 C000 FFEA 06618         MOVFF   r0x07, FSR0H
013A CFEF F000 06619         MOVFF   INDF0, r0x08
013E 0E01      06620         MOVLW   0x01
0140 6E00      06621         MOVWF   r0x09
0142 5000      06622         MOVF    r0x00, W
0144 E000      06623         BZ      _00676_DS_
0146 6CE8      06624         NEGF    WREG
0148 90D8      06625         BCF     STATUS, 0
014A 06626 _00677_DS_:
014A 3600      06627         RLCF    r0x09, F
014C 0F01      06628         ADDLW   0x01
014E E300      06629         BNC     _00677_DS_
0150 06630 _00676_DS_:
0150 5000      06631         MOVF    r0x09, W
0152 1200      06632         IORWF   r0x08, F
0154 C000 FFE9 06633         MOVFF   r0x06, FSR0L
0158 C000 FFEA 06634         MOVFF   r0x07, FSR0H
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 127


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
015C C000 FFEF 06635         MOVFF   r0x08, INDF0
               06636 ;       .line   463; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
Error [113] : Symbol not previously defined (_capturemask).
0160 0E00      06637         MOVLW   LOW(_capturemask)
0162 2400      06638         ADDWF   r0x02, W
0164 6E00      06639         MOVWF   r0x06
0166 6A00      06640         CLRF    r0x07
Error [113] : Symbol not previously defined (_capturemask).
0168 0E00      06641         MOVLW   HIGH(_capturemask)
016A 2200      06642         ADDWFC  r0x07, F
016C C000 FFE9 06643         MOVFF   r0x06, FSR0L
0170 C000 FFEA 06644         MOVFF   r0x07, FSR0H
0174 CFEF F000 06645         MOVFF   INDF0, r0x08
0178 5000      06646         MOVF    r0x08, W
017A 1200      06647         IORWF   r0x09, F
017C C000 FFE9 06648         MOVFF   r0x06, FSR0L
0180 C000 FFEA 06649         MOVFF   r0x07, FSR0H
0184 C000 FFEF 06650         MOVFF   r0x09, INDF0
               06651 ;       .line   464; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
0188 0E00      06652         MOVLW   LOW(_capturemask)
018A 0000      06653         BANKSEL _opp_king_pos
018C 2500      06654         ADDWF   _opp_king_pos, W, B
018E 6E00      06655         MOVWF   r0x06
0190 6A00      06656         CLRF    r0x07
Error [113] : Symbol not previously defined (_capturemask).
0192 0E00      06657         MOVLW   HIGH(_capturemask)
0194 2200      06658         ADDWFC  r0x07, F
0196 C000 FFE9 06659         MOVFF   r0x06, FSR0L
019A C000 FFEA 06660         MOVFF   r0x07, FSR0H
019E CFEF F000 06661         MOVFF   INDF0, r0x06
01A2 0E01      06662         MOVLW   0x01
01A4 6E00      06663         MOVWF   r0x07
01A6 6A00      06664         CLRF    r0x08
               06665 ; removed redundant BANKSEL
01A8 5100      06666         MOVF    (_opp_king_pos + 1), W, B
01AA E000      06667         BZ      _00680_DS_
01AC 6CE8      06668         NEGF    WREG
01AE 90D8      06669         BCF     STATUS, 0
01B0 06670 _00681_DS_:
01B0 3600      06671         RLCF    r0x07, F
01B2 3600      06672         RLCF    r0x08, F
01B4 0F01      06673         ADDLW   0x01
01B6 E300      06674         BNC     _00681_DS_
01B8 06675 _00680_DS_:
01B8 6A00      06676         CLRF    r0x09
01BA 5000      06677         MOVF    r0x06, W
01BC 1600      06678         ANDWF   r0x07, F
01BE 5000      06679         MOVF    r0x09, W
01C0 1600      06680         ANDWF   r0x08, F
01C2 5000      06681         MOVF    r0x07, W
01C4 1000      06682         IORWF   r0x08, W
01C6 E000      06683         BZ      _00648_DS_
01C8 0E01      06684         MOVLW   0x01
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 128


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_kingcapture).
01CA 0100      06685         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01CC 6F00      06686         MOVWF   _kingcapture, B
01CE 06687 _00648_DS_:
               06688 ;       .line   465; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01CE 0E01      06689         MOVLW   0x01
01D0 6E00      06690         MOVWF   r0x01
01D2 D000      06691         BRA     _00658_DS_
01D4 06692 _00650_DS_:
               06693 ;       .line   469; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01D4 0E01      06694         MOVLW   0x01
01D6 6E00      06695         MOVWF   r0x01
01D8 D000      06696         BRA     _00658_DS_
01DA 06697 _00661_DS_:
01DA CFE4 F000 06698         MOVFF   PREINC1, r0x0a
01DE CFE4 F000 06699         MOVFF   PREINC1, r0x09
01E2 CFE4 F000 06700         MOVFF   PREINC1, r0x08
01E6 CFE4 F000 06701         MOVFF   PREINC1, r0x07
01EA CFE4 F000 06702         MOVFF   PREINC1, r0x06
01EE CFE4 F000 06703         MOVFF   PREINC1, r0x05
01F2 CFE4 F000 06704         MOVFF   PREINC1, r0x04
01F6 CFE4 F000 06705         MOVFF   PREINC1, r0x03
01FA CFE4 F000 06706         MOVFF   PREINC1, r0x02
01FE CFE4 F000 06707         MOVFF   PREINC1, r0x01
0202 CFE4 F000 06708         MOVFF   PREINC1, r0x00
0206 CFE4 FFD9 06709         MOVFF   PREINC1, FSR2L
020A 0012      06710         RETURN  
               06711 
               06712 ; ; Starting pCode block
               06713 S_main__val_southeast   code
0000 06714 _val_southeast:
               06715 ;       .line   424; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_southeast (LOC from,BOOL piececolour,BOOL depth)
0000 CFD9 FFE5 06716         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 06717         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 06718         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 06719         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 06720         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 06721         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 06722         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 06723         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 06724         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 06725         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 06726         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 06727         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 06728         MOVFF   r0x0a, POSTDEC1
0034 0E02      06729         MOVLW   0x02
0036 CFDB F000 06730         MOVFF   PLUSW2, r0x00
003A 0E03      06731         MOVLW   0x03
003C CFDB F000 06732         MOVFF   PLUSW2, r0x01
0040 0E04      06733         MOVLW   0x04
0042 CFDB F000 06734         MOVFF   PLUSW2, r0x02
0046 0E05      06735         MOVLW   0x05
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 129


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0048 CFDB F000 06736         MOVFF   PLUSW2, r0x03
004C 0E06      06737         MOVLW   0x06
004E CFDB F000 06738         MOVFF   PLUSW2, r0x04
               06739 ;       .line   427; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      COORD row = from[0], col = from[1];
0052 C000 FFE9 06740         MOVFF   r0x00, FSR0L
0056 C000 FFF3 06741         MOVFF   r0x01, PRODL
005A 5000      06742         MOVF    r0x02, W
005C EC00 F000 06743         CALL    __gptrget1
0060 6E00      06744         MOVWF   r0x05
0062 2A00      06745         INCF    r0x00, F
0064 B0D8      06746         BTFSC   STATUS, 0
0066 2A00      06747         INCF    r0x01, F
0068 B0D8      06748         BTFSC   STATUS, 0
006A 2A00      06749         INCF    r0x02, F
006C C000 FFE9 06750         MOVFF   r0x00, FSR0L
0070 C000 FFF3 06751         MOVFF   r0x01, PRODL
0074 5000      06752         MOVF    r0x02, W
0076 EC00 F000 06753         CALL    __gptrget1
007A 6E00      06754         MOVWF   r0x00
               06755 ;       .line   428; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      BOOL piecefound = FALSE;
007C 6A00      06756         CLRF    r0x01
               06757 ;       .line   429; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      while ((col++ < MAX_COL) && (row-- > MIN_ROW) && (!piecefound) && (depth--))
007E C000 F000 06758         MOVFF   r0x05, r0x02
               06759 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x05
               06760 ; ;Unrolled 8 X 8 multiplication
               06761 ; ;FIXME: the function does not support result==WREG
0082 5000      06762         MOVF    r0x05, W
0084 0D08      06763         MULLW   0x08
0086 CFF3 F000 06764         MOVFF   PRODL, r0x05
008A 06765 _00618_DS_:
008A C000 F000 06766         MOVFF   r0x00, r0x06
008E 2A00      06767         INCF    r0x00, F
0090 0E07      06768         MOVLW   0x07
0092 5C00      06769         SUBWF   r0x06, W
0094 B0D8      06770         BTFSC   STATUS, 0
0096 D000      06771         BRA     _00621_DS_
0098 C000 F000 06772         MOVFF   r0x02, r0x06
009C 0EF8      06773         MOVLW   0xf8
009E 2600      06774         ADDWF   r0x05, F
00A0 0600      06775         DECF    r0x02, F
00A2 5000      06776         MOVF    r0x06, W
00A4 B4D8      06777         BTFSC   STATUS, 2
00A6 D000      06778         BRA     _00621_DS_
00A8 5000      06779         MOVF    r0x01, W
00AA A4D8      06780         BTFSS   STATUS, 2
00AC D000      06781         BRA     _00621_DS_
00AE C000 F000 06782         MOVFF   r0x04, r0x06
00B2 0600      06783         DECF    r0x04, F
00B4 5000      06784         MOVF    r0x06, W
00B6 B4D8      06785         BTFSC   STATUS, 2
00B8 D000      06786         BRA     _00621_DS_
               06787 ;       .line   431; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (board[row][col] == EMPTY)
Error [113] : Symbol not previously defined (_board).
00BA 0E00      06788         MOVLW   LOW(_board)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 130


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00BC 2400      06789         ADDWF   r0x05, W
00BE 6E00      06790         MOVWF   r0x06
00C0 6A00      06791         CLRF    r0x07
Error [113] : Symbol not previously defined (_board).
00C2 0E00      06792         MOVLW   HIGH(_board)
00C4 2200      06793         ADDWFC  r0x07, F
00C6 5000      06794         MOVF    r0x00, W
00C8 2600      06795         ADDWF   r0x06, F
00CA 6AE8      06796         CLRF    WREG
00CC 2200      06797         ADDWFC  r0x07, F
00CE C000 FFE9 06798         MOVFF   r0x06, FSR0L
00D2 C000 FFEA 06799         MOVFF   r0x07, FSR0H
00D6 CFEF F000 06800         MOVFF   INDF0, r0x06
00DA 5000      06801         MOVF    r0x06, W
00DC E100      06802         BNZ     _00613_DS_
               06803 ;       .line   433; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
00DE 0E00      06804         MOVLW   LOW(_validmovemask)
00E0 2400      06805         ADDWF   r0x02, W
00E2 6E00      06806         MOVWF   r0x07
00E4 6A00      06807         CLRF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
00E6 0E00      06808         MOVLW   HIGH(_validmovemask)
00E8 2200      06809         ADDWFC  r0x08, F
00EA C000 FFE9 06810         MOVFF   r0x07, FSR0L
00EE C000 FFEA 06811         MOVFF   r0x08, FSR0H
00F2 CFEF F000 06812         MOVFF   INDF0, r0x09
00F6 0E01      06813         MOVLW   0x01
00F8 6E00      06814         MOVWF   r0x0a
00FA 5000      06815         MOVF    r0x00, W
00FC E000      06816         BZ      _00633_DS_
00FE 6CE8      06817         NEGF    WREG
0100 90D8      06818         BCF     STATUS, 0
0102 06819 _00634_DS_:
0102 3600      06820         RLCF    r0x0a, F
0104 0F01      06821         ADDLW   0x01
0106 E300      06822         BNC     _00634_DS_
0108 06823 _00633_DS_:
0108 5000      06824         MOVF    r0x0a, W
010A 1200      06825         IORWF   r0x09, F
010C C000 FFE9 06826         MOVFF   r0x07, FSR0L
0110 C000 FFEA 06827         MOVFF   r0x08, FSR0H
0114 C000 FFEF 06828         MOVFF   r0x09, INDF0
0118 D000      06829         BRA     _00618_DS_
011A 06830 _00613_DS_:
               06831 ;       .line   435; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if ((board[row][col] & 0x08) ^ piececolour)
011A 0E08      06832         MOVLW   0x08
011C 1600      06833         ANDWF   r0x06, F
011E 5000      06834         MOVF    r0x03, W
0120 1A00      06835         XORWF   r0x06, F
0122 5000      06836         MOVF    r0x06, W
0124 B4D8      06837         BTFSC   STATUS, 2
0126 D000      06838         BRA     _00610_DS_
               06839 ;       .line   437; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 131


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_validmovemask).
0128 0E00      06840         MOVLW   LOW(_validmovemask)
012A 2400      06841         ADDWF   r0x02, W
012C 6E00      06842         MOVWF   r0x06
012E 6A00      06843         CLRF    r0x07
Error [113] : Symbol not previously defined (_validmovemask).
0130 0E00      06844         MOVLW   HIGH(_validmovemask)
0132 2200      06845         ADDWFC  r0x07, F
0134 C000 FFE9 06846         MOVFF   r0x06, FSR0L
0138 C000 FFEA 06847         MOVFF   r0x07, FSR0H
013C CFEF F000 06848         MOVFF   INDF0, r0x08
0140 0E01      06849         MOVLW   0x01
0142 6E00      06850         MOVWF   r0x09
0144 5000      06851         MOVF    r0x00, W
0146 E000      06852         BZ      _00637_DS_
0148 6CE8      06853         NEGF    WREG
014A 90D8      06854         BCF     STATUS, 0
014C 06855 _00638_DS_:
014C 3600      06856         RLCF    r0x09, F
014E 0F01      06857         ADDLW   0x01
0150 E300      06858         BNC     _00638_DS_
0152 06859 _00637_DS_:
0152 5000      06860         MOVF    r0x09, W
0154 1200      06861         IORWF   r0x08, F
0156 C000 FFE9 06862         MOVFF   r0x06, FSR0L
015A C000 FFEA 06863         MOVFF   r0x07, FSR0H
015E C000 FFEF 06864         MOVFF   r0x08, INDF0
               06865 ;       .line   438; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
Error [113] : Symbol not previously defined (_capturemask).
0162 0E00      06866         MOVLW   LOW(_capturemask)
0164 2400      06867         ADDWF   r0x02, W
0166 6E00      06868         MOVWF   r0x06
0168 6A00      06869         CLRF    r0x07
Error [113] : Symbol not previously defined (_capturemask).
016A 0E00      06870         MOVLW   HIGH(_capturemask)
016C 2200      06871         ADDWFC  r0x07, F
016E C000 FFE9 06872         MOVFF   r0x06, FSR0L
0172 C000 FFEA 06873         MOVFF   r0x07, FSR0H
0176 CFEF F000 06874         MOVFF   INDF0, r0x08
017A 5000      06875         MOVF    r0x08, W
017C 1200      06876         IORWF   r0x09, F
017E C000 FFE9 06877         MOVFF   r0x06, FSR0L
0182 C000 FFEA 06878         MOVFF   r0x07, FSR0H
0186 C000 FFEF 06879         MOVFF   r0x09, INDF0
               06880 ;       .line   439; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
018A 0E00      06881         MOVLW   LOW(_capturemask)
018C 0000      06882         BANKSEL _opp_king_pos
018E 2500      06883         ADDWF   _opp_king_pos, W, B
0190 6E00      06884         MOVWF   r0x06
0192 6A00      06885         CLRF    r0x07
Error [113] : Symbol not previously defined (_capturemask).
0194 0E00      06886         MOVLW   HIGH(_capturemask)
0196 2200      06887         ADDWFC  r0x07, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 132


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0198 C000 FFE9 06888         MOVFF   r0x06, FSR0L
019C C000 FFEA 06889         MOVFF   r0x07, FSR0H
01A0 CFEF F000 06890         MOVFF   INDF0, r0x06
01A4 0E01      06891         MOVLW   0x01
01A6 6E00      06892         MOVWF   r0x07
01A8 6A00      06893         CLRF    r0x08
               06894 ; removed redundant BANKSEL
01AA 5100      06895         MOVF    (_opp_king_pos + 1), W, B
01AC E000      06896         BZ      _00641_DS_
01AE 6CE8      06897         NEGF    WREG
01B0 90D8      06898         BCF     STATUS, 0
01B2 06899 _00642_DS_:
01B2 3600      06900         RLCF    r0x07, F
01B4 3600      06901         RLCF    r0x08, F
01B6 0F01      06902         ADDLW   0x01
01B8 E300      06903         BNC     _00642_DS_
01BA 06904 _00641_DS_:
01BA 6A00      06905         CLRF    r0x09
01BC 5000      06906         MOVF    r0x06, W
01BE 1600      06907         ANDWF   r0x07, F
01C0 5000      06908         MOVF    r0x09, W
01C2 1600      06909         ANDWF   r0x08, F
01C4 5000      06910         MOVF    r0x07, W
01C6 1000      06911         IORWF   r0x08, W
01C8 E000      06912         BZ      _00608_DS_
01CA 0E01      06913         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
01CC 0100      06914         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01CE 6F00      06915         MOVWF   _kingcapture, B
01D0 06916 _00608_DS_:
               06917 ;       .line   440; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01D0 0E01      06918         MOVLW   0x01
01D2 6E00      06919         MOVWF   r0x01
01D4 D000      06920         BRA     _00618_DS_
01D6 06921 _00610_DS_:
               06922 ;       .line   444; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01D6 0E01      06923         MOVLW   0x01
01D8 6E00      06924         MOVWF   r0x01
01DA D000      06925         BRA     _00618_DS_
01DC 06926 _00621_DS_:
01DC CFE4 F000 06927         MOVFF   PREINC1, r0x0a
01E0 CFE4 F000 06928         MOVFF   PREINC1, r0x09
01E4 CFE4 F000 06929         MOVFF   PREINC1, r0x08
01E8 CFE4 F000 06930         MOVFF   PREINC1, r0x07
01EC CFE4 F000 06931         MOVFF   PREINC1, r0x06
01F0 CFE4 F000 06932         MOVFF   PREINC1, r0x05
01F4 CFE4 F000 06933         MOVFF   PREINC1, r0x04
01F8 CFE4 F000 06934         MOVFF   PREINC1, r0x03
01FC CFE4 F000 06935         MOVFF   PREINC1, r0x02
0200 CFE4 F000 06936         MOVFF   PREINC1, r0x01
0204 CFE4 F000 06937         MOVFF   PREINC1, r0x00
0208 CFE4 FFD9 06938         MOVFF   PREINC1, FSR2L
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 133


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
020C 0012      06939         RETURN  
               06940 
               06941 ; ; Starting pCode block
               06942 S_main__val_northeast   code
0000 06943 _val_northeast:
               06944 ;       .line   399; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_northeast(LOC from,BOOL piececolour,BOOL depth)
0000 CFD9 FFE5 06945         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 06946         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 06947         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 06948         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 06949         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 06950         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 06951         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 06952         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 06953         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 06954         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 06955         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 06956         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 06957         MOVFF   r0x0a, POSTDEC1
0034 0E02      06958         MOVLW   0x02
0036 CFDB F000 06959         MOVFF   PLUSW2, r0x00
003A 0E03      06960         MOVLW   0x03
003C CFDB F000 06961         MOVFF   PLUSW2, r0x01
0040 0E04      06962         MOVLW   0x04
0042 CFDB F000 06963         MOVFF   PLUSW2, r0x02
0046 0E05      06964         MOVLW   0x05
0048 CFDB F000 06965         MOVFF   PLUSW2, r0x03
004C 0E06      06966         MOVLW   0x06
004E CFDB F000 06967         MOVFF   PLUSW2, r0x04
               06968 ;       .line   402; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      COORD row = from[0], col = from[1];
0052 C000 FFE9 06969         MOVFF   r0x00, FSR0L
0056 C000 FFF3 06970         MOVFF   r0x01, PRODL
005A 5000      06971         MOVF    r0x02, W
005C EC00 F000 06972         CALL    __gptrget1
0060 6E00      06973         MOVWF   r0x05
0062 2A00      06974         INCF    r0x00, F
0064 B0D8      06975         BTFSC   STATUS, 0
0066 2A00      06976         INCF    r0x01, F
0068 B0D8      06977         BTFSC   STATUS, 0
006A 2A00      06978         INCF    r0x02, F
006C C000 FFE9 06979         MOVFF   r0x00, FSR0L
0070 C000 FFF3 06980         MOVFF   r0x01, PRODL
0074 5000      06981         MOVF    r0x02, W
0076 EC00 F000 06982         CALL    __gptrget1
007A 6E00      06983         MOVWF   r0x00
               06984 ;       .line   403; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      BOOL piecefound = FALSE;
007C 6A00      06985         CLRF    r0x01
               06986 ;       .line   404; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      while ((col++ < MAX_COL) && (row++ < MAX_ROW) && (!piecefound) && (depth--))
007E C000 F000 06987         MOVFF   r0x05, r0x02
               06988 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x05
               06989 ; ;Unrolled 8 X 8 multiplication
               06990 ; ;FIXME: the function does not support result==WREG
0082 5000      06991         MOVF    r0x05, W
0084 0D08      06992         MULLW   0x08
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 134


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0086 CFF3 F000 06993         MOVFF   PRODL, r0x05
008A 06994 _00577_DS_:
008A C000 F000 06995         MOVFF   r0x00, r0x06
008E 2A00      06996         INCF    r0x00, F
0090 0E07      06997         MOVLW   0x07
0092 5C00      06998         SUBWF   r0x06, W
0094 B0D8      06999         BTFSC   STATUS, 0
0096 D000      07000         BRA     _00580_DS_
0098 C000 F000 07001         MOVFF   r0x02, r0x06
009C 0E08      07002         MOVLW   0x08
009E 2600      07003         ADDWF   r0x05, F
00A0 2A00      07004         INCF    r0x02, F
00A2 0E07      07005         MOVLW   0x07
00A4 5C00      07006         SUBWF   r0x06, W
00A6 B0D8      07007         BTFSC   STATUS, 0
00A8 D000      07008         BRA     _00580_DS_
00AA 5000      07009         MOVF    r0x01, W
00AC A4D8      07010         BTFSS   STATUS, 2
00AE D000      07011         BRA     _00580_DS_
00B0 C000 F000 07012         MOVFF   r0x04, r0x06
00B4 0600      07013         DECF    r0x04, F
00B6 5000      07014         MOVF    r0x06, W
00B8 B4D8      07015         BTFSC   STATUS, 2
00BA D000      07016         BRA     _00580_DS_
               07017 ;       .line   406; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (board[row][col] == EMPTY)
Error [113] : Symbol not previously defined (_board).
00BC 0E00      07018         MOVLW   LOW(_board)
00BE 2400      07019         ADDWF   r0x05, W
00C0 6E00      07020         MOVWF   r0x06
00C2 6A00      07021         CLRF    r0x07
Error [113] : Symbol not previously defined (_board).
00C4 0E00      07022         MOVLW   HIGH(_board)
00C6 2200      07023         ADDWFC  r0x07, F
00C8 5000      07024         MOVF    r0x00, W
00CA 2600      07025         ADDWF   r0x06, F
00CC 6AE8      07026         CLRF    WREG
00CE 2200      07027         ADDWFC  r0x07, F
00D0 C000 FFE9 07028         MOVFF   r0x06, FSR0L
00D4 C000 FFEA 07029         MOVFF   r0x07, FSR0H
00D8 CFEF F000 07030         MOVFF   INDF0, r0x06
00DC 5000      07031         MOVF    r0x06, W
00DE E100      07032         BNZ     _00572_DS_
               07033 ;       .line   408; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
00E0 0E00      07034         MOVLW   LOW(_validmovemask)
00E2 2400      07035         ADDWF   r0x02, W
00E4 6E00      07036         MOVWF   r0x07
00E6 6A00      07037         CLRF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
00E8 0E00      07038         MOVLW   HIGH(_validmovemask)
00EA 2200      07039         ADDWFC  r0x08, F
00EC C000 FFE9 07040         MOVFF   r0x07, FSR0L
00F0 C000 FFEA 07041         MOVFF   r0x08, FSR0H
00F4 CFEF F000 07042         MOVFF   INDF0, r0x09
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 135


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00F8 0E01      07043         MOVLW   0x01
00FA 6E00      07044         MOVWF   r0x0a
00FC 5000      07045         MOVF    r0x00, W
00FE E000      07046         BZ      _00593_DS_
0100 6CE8      07047         NEGF    WREG
0102 90D8      07048         BCF     STATUS, 0
0104 07049 _00594_DS_:
0104 3600      07050         RLCF    r0x0a, F
0106 0F01      07051         ADDLW   0x01
0108 E300      07052         BNC     _00594_DS_
010A 07053 _00593_DS_:
010A 5000      07054         MOVF    r0x0a, W
010C 1200      07055         IORWF   r0x09, F
010E C000 FFE9 07056         MOVFF   r0x07, FSR0L
0112 C000 FFEA 07057         MOVFF   r0x08, FSR0H
0116 C000 FFEF 07058         MOVFF   r0x09, INDF0
011A D000      07059         BRA     _00577_DS_
011C 07060 _00572_DS_:
               07061 ;       .line   410; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if ((board[row][col] & 0x08) ^ piececolour)
011C 0E08      07062         MOVLW   0x08
011E 1600      07063         ANDWF   r0x06, F
0120 5000      07064         MOVF    r0x03, W
0122 1A00      07065         XORWF   r0x06, F
0124 5000      07066         MOVF    r0x06, W
0126 B4D8      07067         BTFSC   STATUS, 2
0128 D000      07068         BRA     _00569_DS_
               07069 ;       .line   412; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
012A 0E00      07070         MOVLW   LOW(_validmovemask)
012C 2400      07071         ADDWF   r0x02, W
012E 6E00      07072         MOVWF   r0x06
0130 6A00      07073         CLRF    r0x07
Error [113] : Symbol not previously defined (_validmovemask).
0132 0E00      07074         MOVLW   HIGH(_validmovemask)
0134 2200      07075         ADDWFC  r0x07, F
0136 C000 FFE9 07076         MOVFF   r0x06, FSR0L
013A C000 FFEA 07077         MOVFF   r0x07, FSR0H
013E CFEF F000 07078         MOVFF   INDF0, r0x08
0142 0E01      07079         MOVLW   0x01
0144 6E00      07080         MOVWF   r0x09
0146 5000      07081         MOVF    r0x00, W
0148 E000      07082         BZ      _00597_DS_
014A 6CE8      07083         NEGF    WREG
014C 90D8      07084         BCF     STATUS, 0
014E 07085 _00598_DS_:
014E 3600      07086         RLCF    r0x09, F
0150 0F01      07087         ADDLW   0x01
0152 E300      07088         BNC     _00598_DS_
0154 07089 _00597_DS_:
0154 5000      07090         MOVF    r0x09, W
0156 1200      07091         IORWF   r0x08, F
0158 C000 FFE9 07092         MOVFF   r0x06, FSR0L
015C C000 FFEA 07093         MOVFF   r0x07, FSR0H
0160 C000 FFEF 07094         MOVFF   r0x08, INDF0
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 136


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               07095 ;       .line   413; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
Error [113] : Symbol not previously defined (_capturemask).
0164 0E00      07096         MOVLW   LOW(_capturemask)
0166 2400      07097         ADDWF   r0x02, W
0168 6E00      07098         MOVWF   r0x06
016A 6A00      07099         CLRF    r0x07
Error [113] : Symbol not previously defined (_capturemask).
016C 0E00      07100         MOVLW   HIGH(_capturemask)
016E 2200      07101         ADDWFC  r0x07, F
0170 C000 FFE9 07102         MOVFF   r0x06, FSR0L
0174 C000 FFEA 07103         MOVFF   r0x07, FSR0H
0178 CFEF F000 07104         MOVFF   INDF0, r0x08
017C 5000      07105         MOVF    r0x08, W
017E 1200      07106         IORWF   r0x09, F
0180 C000 FFE9 07107         MOVFF   r0x06, FSR0L
0184 C000 FFEA 07108         MOVFF   r0x07, FSR0H
0188 C000 FFEF 07109         MOVFF   r0x09, INDF0
               07110 ;       .line   414; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
018C 0E00      07111         MOVLW   LOW(_capturemask)
018E 0000      07112         BANKSEL _opp_king_pos
0190 2500      07113         ADDWF   _opp_king_pos, W, B
0192 6E00      07114         MOVWF   r0x06
0194 6A00      07115         CLRF    r0x07
Error [113] : Symbol not previously defined (_capturemask).
0196 0E00      07116         MOVLW   HIGH(_capturemask)
0198 2200      07117         ADDWFC  r0x07, F
019A C000 FFE9 07118         MOVFF   r0x06, FSR0L
019E C000 FFEA 07119         MOVFF   r0x07, FSR0H
01A2 CFEF F000 07120         MOVFF   INDF0, r0x06
01A6 0E01      07121         MOVLW   0x01
01A8 6E00      07122         MOVWF   r0x07
01AA 6A00      07123         CLRF    r0x08
               07124 ; removed redundant BANKSEL
01AC 5100      07125         MOVF    (_opp_king_pos + 1), W, B
01AE E000      07126         BZ      _00601_DS_
01B0 6CE8      07127         NEGF    WREG
01B2 90D8      07128         BCF     STATUS, 0
01B4 07129 _00602_DS_:
01B4 3600      07130         RLCF    r0x07, F
01B6 3600      07131         RLCF    r0x08, F
01B8 0F01      07132         ADDLW   0x01
01BA E300      07133         BNC     _00602_DS_
01BC 07134 _00601_DS_:
01BC 6A00      07135         CLRF    r0x09
01BE 5000      07136         MOVF    r0x06, W
01C0 1600      07137         ANDWF   r0x07, F
01C2 5000      07138         MOVF    r0x09, W
01C4 1600      07139         ANDWF   r0x08, F
01C6 5000      07140         MOVF    r0x07, W
01C8 1000      07141         IORWF   r0x08, W
01CA E000      07142         BZ      _00567_DS_
01CC 0E01      07143         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 137


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01CE 0100      07144         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01D0 6F00      07145         MOVWF   _kingcapture, B
01D2 07146 _00567_DS_:
               07147 ;       .line   415; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01D2 0E01      07148         MOVLW   0x01
01D4 6E00      07149         MOVWF   r0x01
01D6 D000      07150         BRA     _00577_DS_
01D8 07151 _00569_DS_:
               07152 ;       .line   419; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01D8 0E01      07153         MOVLW   0x01
01DA 6E00      07154         MOVWF   r0x01
01DC D000      07155         BRA     _00577_DS_
01DE 07156 _00580_DS_:
01DE CFE4 F000 07157         MOVFF   PREINC1, r0x0a
01E2 CFE4 F000 07158         MOVFF   PREINC1, r0x09
01E6 CFE4 F000 07159         MOVFF   PREINC1, r0x08
01EA CFE4 F000 07160         MOVFF   PREINC1, r0x07
01EE CFE4 F000 07161         MOVFF   PREINC1, r0x06
01F2 CFE4 F000 07162         MOVFF   PREINC1, r0x05
01F6 CFE4 F000 07163         MOVFF   PREINC1, r0x04
01FA CFE4 F000 07164         MOVFF   PREINC1, r0x03
01FE CFE4 F000 07165         MOVFF   PREINC1, r0x02
0202 CFE4 F000 07166         MOVFF   PREINC1, r0x01
0206 CFE4 F000 07167         MOVFF   PREINC1, r0x00
020A CFE4 FFD9 07168         MOVFF   PREINC1, FSR2L
020E 0012      07169         RETURN  
               07170 
               07171 ; ; Starting pCode block
               07172 S_main__val_northwest   code
0000 07173 _val_northwest:
               07174 ;       .line   374; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_northwest (LOC from,BOOL piececolour,BOOL depth)
0000 CFD9 FFE5 07175         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 07176         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 07177         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 07178         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 07179         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 07180         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 07181         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 07182         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 07183         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 07184         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 07185         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 07186         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 07187         MOVFF   r0x0a, POSTDEC1
0034 0E02      07188         MOVLW   0x02
0036 CFDB F000 07189         MOVFF   PLUSW2, r0x00
003A 0E03      07190         MOVLW   0x03
003C CFDB F000 07191         MOVFF   PLUSW2, r0x01
0040 0E04      07192         MOVLW   0x04
0042 CFDB F000 07193         MOVFF   PLUSW2, r0x02
0046 0E05      07194         MOVLW   0x05
0048 CFDB F000 07195         MOVFF   PLUSW2, r0x03
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 138


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
004C 0E06      07196         MOVLW   0x06
004E CFDB F000 07197         MOVFF   PLUSW2, r0x04
               07198 ;       .line   377; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      COORD row = from[0], col = from[1];
0052 C000 FFE9 07199         MOVFF   r0x00, FSR0L
0056 C000 FFF3 07200         MOVFF   r0x01, PRODL
005A 5000      07201         MOVF    r0x02, W
005C EC00 F000 07202         CALL    __gptrget1
0060 6E00      07203         MOVWF   r0x05
0062 2A00      07204         INCF    r0x00, F
0064 B0D8      07205         BTFSC   STATUS, 0
0066 2A00      07206         INCF    r0x01, F
0068 B0D8      07207         BTFSC   STATUS, 0
006A 2A00      07208         INCF    r0x02, F
006C C000 FFE9 07209         MOVFF   r0x00, FSR0L
0070 C000 FFF3 07210         MOVFF   r0x01, PRODL
0074 5000      07211         MOVF    r0x02, W
0076 EC00 F000 07212         CALL    __gptrget1
007A 6E00      07213         MOVWF   r0x00
               07214 ;       .line   378; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      BOOL piecefound = FALSE;
007C 6A00      07215         CLRF    r0x01
               07216 ;       .line   379; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      while ((col-- > MIN_COL) && (row++ < MAX_ROW) && (!piecefound) &&  (depth--))
007E C000 F000 07217         MOVFF   r0x05, r0x02
               07218 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x05
               07219 ; ;Unrolled 8 X 8 multiplication
               07220 ; ;FIXME: the function does not support result==WREG
0082 5000      07221         MOVF    r0x05, W
0084 0D08      07222         MULLW   0x08
0086 CFF3 F000 07223         MOVFF   PRODL, r0x05
008A 07224 _00537_DS_:
008A C000 F000 07225         MOVFF   r0x00, r0x06
008E 0600      07226         DECF    r0x00, F
0090 5000      07227         MOVF    r0x06, W
0092 B4D8      07228         BTFSC   STATUS, 2
0094 D000      07229         BRA     _00540_DS_
0096 C000 F000 07230         MOVFF   r0x02, r0x06
009A 0E08      07231         MOVLW   0x08
009C 2600      07232         ADDWF   r0x05, F
009E 2A00      07233         INCF    r0x02, F
00A0 0E07      07234         MOVLW   0x07
00A2 5C00      07235         SUBWF   r0x06, W
00A4 B0D8      07236         BTFSC   STATUS, 0
00A6 D000      07237         BRA     _00540_DS_
00A8 5000      07238         MOVF    r0x01, W
00AA A4D8      07239         BTFSS   STATUS, 2
00AC D000      07240         BRA     _00540_DS_
00AE C000 F000 07241         MOVFF   r0x04, r0x06
00B2 0600      07242         DECF    r0x04, F
00B4 5000      07243         MOVF    r0x06, W
00B6 B4D8      07244         BTFSC   STATUS, 2
00B8 D000      07245         BRA     _00540_DS_
               07246 ;       .line   381; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (board[row][col] == EMPTY)
Error [113] : Symbol not previously defined (_board).
00BA 0E00      07247         MOVLW   LOW(_board)
00BC 2400      07248         ADDWF   r0x05, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 139


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00BE 6E00      07249         MOVWF   r0x06
00C0 6A00      07250         CLRF    r0x07
Error [113] : Symbol not previously defined (_board).
00C2 0E00      07251         MOVLW   HIGH(_board)
00C4 2200      07252         ADDWFC  r0x07, F
00C6 5000      07253         MOVF    r0x00, W
00C8 2600      07254         ADDWF   r0x06, F
00CA 6AE8      07255         CLRF    WREG
00CC 2200      07256         ADDWFC  r0x07, F
00CE C000 FFE9 07257         MOVFF   r0x06, FSR0L
00D2 C000 FFEA 07258         MOVFF   r0x07, FSR0H
00D6 CFEF F000 07259         MOVFF   INDF0, r0x06
00DA 5000      07260         MOVF    r0x06, W
00DC E100      07261         BNZ     _00532_DS_
               07262 ;       .line   383; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
00DE 0E00      07263         MOVLW   LOW(_validmovemask)
00E0 2400      07264         ADDWF   r0x02, W
00E2 6E00      07265         MOVWF   r0x07
00E4 6A00      07266         CLRF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
00E6 0E00      07267         MOVLW   HIGH(_validmovemask)
00E8 2200      07268         ADDWFC  r0x08, F
00EA C000 FFE9 07269         MOVFF   r0x07, FSR0L
00EE C000 FFEA 07270         MOVFF   r0x08, FSR0H
00F2 CFEF F000 07271         MOVFF   INDF0, r0x09
00F6 0E01      07272         MOVLW   0x01
00F8 6E00      07273         MOVWF   r0x0a
00FA 5000      07274         MOVF    r0x00, W
00FC E000      07275         BZ      _00552_DS_
00FE 6CE8      07276         NEGF    WREG
0100 90D8      07277         BCF     STATUS, 0
0102 07278 _00553_DS_:
0102 3600      07279         RLCF    r0x0a, F
0104 0F01      07280         ADDLW   0x01
0106 E300      07281         BNC     _00553_DS_
0108 07282 _00552_DS_:
0108 5000      07283         MOVF    r0x0a, W
010A 1200      07284         IORWF   r0x09, F
010C C000 FFE9 07285         MOVFF   r0x07, FSR0L
0110 C000 FFEA 07286         MOVFF   r0x08, FSR0H
0114 C000 FFEF 07287         MOVFF   r0x09, INDF0
0118 D000      07288         BRA     _00537_DS_
011A 07289 _00532_DS_:
               07290 ;       .line   385; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if ((board[row][col] & 0x08) ^ piececolour)
011A 0E08      07291         MOVLW   0x08
011C 1600      07292         ANDWF   r0x06, F
011E 5000      07293         MOVF    r0x03, W
0120 1A00      07294         XORWF   r0x06, F
0122 5000      07295         MOVF    r0x06, W
0124 B4D8      07296         BTFSC   STATUS, 2
0126 D000      07297         BRA     _00529_DS_
               07298 ;       .line   387; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 140


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0128 0E00      07299         MOVLW   LOW(_validmovemask)
012A 2400      07300         ADDWF   r0x02, W
012C 6E00      07301         MOVWF   r0x06
012E 6A00      07302         CLRF    r0x07
Error [113] : Symbol not previously defined (_validmovemask).
0130 0E00      07303         MOVLW   HIGH(_validmovemask)
0132 2200      07304         ADDWFC  r0x07, F
0134 C000 FFE9 07305         MOVFF   r0x06, FSR0L
0138 C000 FFEA 07306         MOVFF   r0x07, FSR0H
013C CFEF F000 07307         MOVFF   INDF0, r0x08
0140 0E01      07308         MOVLW   0x01
0142 6E00      07309         MOVWF   r0x09
0144 5000      07310         MOVF    r0x00, W
0146 E000      07311         BZ      _00556_DS_
0148 6CE8      07312         NEGF    WREG
014A 90D8      07313         BCF     STATUS, 0
014C 07314 _00557_DS_:
014C 3600      07315         RLCF    r0x09, F
014E 0F01      07316         ADDLW   0x01
0150 E300      07317         BNC     _00557_DS_
0152 07318 _00556_DS_:
0152 5000      07319         MOVF    r0x09, W
0154 1200      07320         IORWF   r0x08, F
0156 C000 FFE9 07321         MOVFF   r0x06, FSR0L
015A C000 FFEA 07322         MOVFF   r0x07, FSR0H
015E C000 FFEF 07323         MOVFF   r0x08, INDF0
               07324 ;       .line   388; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
Error [113] : Symbol not previously defined (_capturemask).
0162 0E00      07325         MOVLW   LOW(_capturemask)
0164 2400      07326         ADDWF   r0x02, W
0166 6E00      07327         MOVWF   r0x06
0168 6A00      07328         CLRF    r0x07
Error [113] : Symbol not previously defined (_capturemask).
016A 0E00      07329         MOVLW   HIGH(_capturemask)
016C 2200      07330         ADDWFC  r0x07, F
016E C000 FFE9 07331         MOVFF   r0x06, FSR0L
0172 C000 FFEA 07332         MOVFF   r0x07, FSR0H
0176 CFEF F000 07333         MOVFF   INDF0, r0x08
017A 5000      07334         MOVF    r0x08, W
017C 1200      07335         IORWF   r0x09, F
017E C000 FFE9 07336         MOVFF   r0x06, FSR0L
0182 C000 FFEA 07337         MOVFF   r0x07, FSR0H
0186 C000 FFEF 07338         MOVFF   r0x09, INDF0
               07339 ;       .line   389; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
018A 0E00      07340         MOVLW   LOW(_capturemask)
018C 0000      07341         BANKSEL _opp_king_pos
018E 2500      07342         ADDWF   _opp_king_pos, W, B
0190 6E00      07343         MOVWF   r0x06
0192 6A00      07344         CLRF    r0x07
Error [113] : Symbol not previously defined (_capturemask).
0194 0E00      07345         MOVLW   HIGH(_capturemask)
0196 2200      07346         ADDWFC  r0x07, F
0198 C000 FFE9 07347         MOVFF   r0x06, FSR0L
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 141


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
019C C000 FFEA 07348         MOVFF   r0x07, FSR0H
01A0 CFEF F000 07349         MOVFF   INDF0, r0x06
01A4 0E01      07350         MOVLW   0x01
01A6 6E00      07351         MOVWF   r0x07
01A8 6A00      07352         CLRF    r0x08
               07353 ; removed redundant BANKSEL
01AA 5100      07354         MOVF    (_opp_king_pos + 1), W, B
01AC E000      07355         BZ      _00560_DS_
01AE 6CE8      07356         NEGF    WREG
01B0 90D8      07357         BCF     STATUS, 0
01B2 07358 _00561_DS_:
01B2 3600      07359         RLCF    r0x07, F
01B4 3600      07360         RLCF    r0x08, F
01B6 0F01      07361         ADDLW   0x01
01B8 E300      07362         BNC     _00561_DS_
01BA 07363 _00560_DS_:
01BA 6A00      07364         CLRF    r0x09
01BC 5000      07365         MOVF    r0x06, W
01BE 1600      07366         ANDWF   r0x07, F
01C0 5000      07367         MOVF    r0x09, W
01C2 1600      07368         ANDWF   r0x08, F
01C4 5000      07369         MOVF    r0x07, W
01C6 1000      07370         IORWF   r0x08, W
01C8 E000      07371         BZ      _00527_DS_
01CA 0E01      07372         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
01CC 0100      07373         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01CE 6F00      07374         MOVWF   _kingcapture, B
01D0 07375 _00527_DS_:
               07376 ;       .line   390; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01D0 0E01      07377         MOVLW   0x01
01D2 6E00      07378         MOVWF   r0x01
01D4 D000      07379         BRA     _00537_DS_
01D6 07380 _00529_DS_:
               07381 ;       .line   394; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01D6 0E01      07382         MOVLW   0x01
01D8 6E00      07383         MOVWF   r0x01
01DA D000      07384         BRA     _00537_DS_
01DC 07385 _00540_DS_:
01DC CFE4 F000 07386         MOVFF   PREINC1, r0x0a
01E0 CFE4 F000 07387         MOVFF   PREINC1, r0x09
01E4 CFE4 F000 07388         MOVFF   PREINC1, r0x08
01E8 CFE4 F000 07389         MOVFF   PREINC1, r0x07
01EC CFE4 F000 07390         MOVFF   PREINC1, r0x06
01F0 CFE4 F000 07391         MOVFF   PREINC1, r0x05
01F4 CFE4 F000 07392         MOVFF   PREINC1, r0x04
01F8 CFE4 F000 07393         MOVFF   PREINC1, r0x03
01FC CFE4 F000 07394         MOVFF   PREINC1, r0x02
0200 CFE4 F000 07395         MOVFF   PREINC1, r0x01
0204 CFE4 F000 07396         MOVFF   PREINC1, r0x00
0208 CFE4 FFD9 07397         MOVFF   PREINC1, FSR2L
020C 0012      07398         RETURN  
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 142


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               07399 
               07400 ; ; Starting pCode block
               07401 S_main__val_west        code
0000 07402 _val_west:
               07403 ;       .line   351; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_west (LOC from,BOOL piececolour,BOOL depth)
0000 CFD9 FFE5 07404         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 07405         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 07406         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 07407         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 07408         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 07409         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 07410         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 07411         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 07412         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 07413         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 07414         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 07415         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 07416         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 07417         MOVFF   r0x0b, POSTDEC1
0038 0E02      07418         MOVLW   0x02
003A CFDB F000 07419         MOVFF   PLUSW2, r0x00
003E 0E03      07420         MOVLW   0x03
0040 CFDB F000 07421         MOVFF   PLUSW2, r0x01
0044 0E04      07422         MOVLW   0x04
0046 CFDB F000 07423         MOVFF   PLUSW2, r0x02
004A 0E05      07424         MOVLW   0x05
004C CFDB F000 07425         MOVFF   PLUSW2, r0x03
0050 0E06      07426         MOVLW   0x06
0052 CFDB F000 07427         MOVFF   PLUSW2, r0x04
               07428 ;       .line   353; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      char row = from[0],col = from[1];
0056 C000 FFE9 07429         MOVFF   r0x00, FSR0L
005A C000 FFF3 07430         MOVFF   r0x01, PRODL
005E 5000      07431         MOVF    r0x02, W
0060 EC00 F000 07432         CALL    __gptrget1
0064 6E00      07433         MOVWF   r0x05
0066 2A00      07434         INCF    r0x00, F
0068 B0D8      07435         BTFSC   STATUS, 0
006A 2A00      07436         INCF    r0x01, F
006C B0D8      07437         BTFSC   STATUS, 0
006E 2A00      07438         INCF    r0x02, F
0070 C000 FFE9 07439         MOVFF   r0x00, FSR0L
0074 C000 FFF3 07440         MOVFF   r0x01, PRODL
0078 5000      07441         MOVF    r0x02, W
007A EC00 F000 07442         CALL    __gptrget1
007E 6E00      07443         MOVWF   r0x00
               07444 ;       .line   354; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      BOOL piecefound = FALSE;
0080 6A00      07445         CLRF    r0x01
               07446 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x02
               07447 ; ;Unrolled 8 X 8 multiplication
               07448 ; ;FIXME: the function does not support result==WREG
               07449 ;       .line   355; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      while ((col-- > MIN_COL) && (!piecefound) && (depth--))
0082 5000      07450         MOVF    r0x05, W
0084 0D08      07451         MULLW   0x08
0086 CFF3 F000 07452         MOVFF   PRODL, r0x02
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 143


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
008A 6A00      07453         CLRF    r0x06
008C BE00      07454         BTFSC   r0x02, 7
008E 6800      07455         SETF    r0x06
Error [113] : Symbol not previously defined (_board).
0090 0E00      07456         MOVLW   LOW(_board)
0092 2600      07457         ADDWF   r0x02, F
Error [113] : Symbol not previously defined (_board).
0094 0E00      07458         MOVLW   HIGH(_board)
0096 2200      07459         ADDWFC  r0x06, F
0098 0E08      07460         MOVLW   0x08
009A 1600      07461         ANDWF   r0x03, F
009C 3800      07462         SWAPF   r0x03, W
009E 44E8      07463         RLNCF   WREG, W
00A0 0B1F      07464         ANDLW   0x1f
00A2 6E00      07465         MOVWF   r0x03
00A4 07466 _00492_DS_:
00A4 C000 F000 07467         MOVFF   r0x00, r0x07
00A8 0600      07468         DECF    r0x00, F
00AA 5000      07469         MOVF    r0x07, W
00AC 0F80      07470         ADDLW   0x80
00AE 0F7F      07471         ADDLW   0x7f
00B0 A0D8      07472         BTFSS   STATUS, 0
00B2 D000      07473         BRA     _00495_DS_
00B4 5000      07474         MOVF    r0x01, W
00B6 A4D8      07475         BTFSS   STATUS, 2
00B8 D000      07476         BRA     _00495_DS_
00BA C000 F000 07477         MOVFF   r0x04, r0x07
00BE 0600      07478         DECF    r0x04, F
00C0 5000      07479         MOVF    r0x07, W
00C2 B4D8      07480         BTFSC   STATUS, 2
00C4 D000      07481         BRA     _00495_DS_
               07482 ;       .line   356; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { if (board[row][col] == EMPTY)
00C6 5000      07483         MOVF    r0x00, W
00C8 2400      07484         ADDWF   r0x02, W
00CA 6E00      07485         MOVWF   r0x07
00CC 6AE8      07486         CLRF    WREG
00CE BE00      07487         BTFSC   r0x00, 7
00D0 68E8      07488         SETF    WREG
00D2 2000      07489         ADDWFC  r0x06, W
00D4 6E00      07490         MOVWF   r0x08
00D6 C000 FFE9 07491         MOVFF   r0x07, FSR0L
00DA C000 FFEA 07492         MOVFF   r0x08, FSR0H
00DE CFEF F000 07493         MOVFF   INDF0, r0x07
00E2 5000      07494         MOVF    r0x07, W
00E4 E100      07495         BNZ     _00488_DS_
               07496 ;       .line   358; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
00E6 0E00      07497         MOVLW   LOW(_validmovemask)
00E8 2400      07498         ADDWF   r0x05, W
00EA 6E00      07499         MOVWF   r0x08
00EC 6A00      07500         CLRF    r0x09
00EE BE00      07501         BTFSC   r0x05, 7
00F0 6800      07502         SETF    r0x09
Error [113] : Symbol not previously defined (_validmovemask).
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 144


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00F2 0E00      07503         MOVLW   HIGH(_validmovemask)
00F4 2200      07504         ADDWFC  r0x09, F
00F6 C000 FFE9 07505         MOVFF   r0x08, FSR0L
00FA C000 FFEA 07506         MOVFF   r0x09, FSR0H
00FE CFEF F000 07507         MOVFF   INDF0, r0x0a
0102 0E01      07508         MOVLW   0x01
0104 6E00      07509         MOVWF   r0x0b
0106 5000      07510         MOVF    r0x00, W
0108 E000      07511         BZ      _00508_DS_
010A E600      07512         BN      _00511_DS_
010C 6CE8      07513         NEGF    WREG
010E 90D8      07514         BCF     STATUS, 0
0110 07515 _00509_DS_:
0110 3600      07516         RLCF    r0x0b, F
0112 0F01      07517         ADDLW   0x01
0114 E300      07518         BNC     _00509_DS_
0116 D000      07519         BRA     _00508_DS_
0118 07520 _00511_DS_:
0118 90D8      07521         BCF     STATUS, 0
011A 07522 _00510_DS_:
011A 3200      07523         RRCF    r0x0b, F
011C 0F01      07524         ADDLW   0x01
011E E300      07525         BNC     _00510_DS_
0120 07526 _00508_DS_:
0120 5000      07527         MOVF    r0x0b, W
0122 1200      07528         IORWF   r0x0a, F
0124 C000 FFE9 07529         MOVFF   r0x08, FSR0L
0128 C000 FFEA 07530         MOVFF   r0x09, FSR0H
012C C000 FFEF 07531         MOVFF   r0x0a, INDF0
0130 D000      07532         BRA     _00492_DS_
0132 07533 _00488_DS_:
               07534 ;       .line   360; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if (is_opp_piece(row,col,piececolour))
0132 0E08      07535         MOVLW   0x08
0134 1400      07536         ANDWF   r0x07, W
0136 6E00      07537         MOVWF   r0x08
0138 3800      07538         SWAPF   r0x08, W
013A 44E8      07539         RLNCF   WREG, W
013C 0B1F      07540         ANDLW   0x1f
013E 6E00      07541         MOVWF   r0x08
0140 5000      07542         MOVF    r0x03, W
0142 1A00      07543         XORWF   r0x08, F
0144 5000      07544         MOVF    r0x08, W
0146 B4D8      07545         BTFSC   STATUS, 2
0148 D000      07546         BRA     _00484_DS_
014A 5000      07547         MOVF    r0x07, W
014C B4D8      07548         BTFSC   STATUS, 2
014E D000      07549         BRA     _00484_DS_
               07550 ;       .line   362; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
0150 0E00      07551         MOVLW   LOW(_validmovemask)
0152 2400      07552         ADDWF   r0x05, W
0154 6E00      07553         MOVWF   r0x07
0156 6A00      07554         CLRF    r0x08
0158 BE00      07555         BTFSC   r0x05, 7
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 145


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
015A 6800      07556         SETF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
015C 0E00      07557         MOVLW   HIGH(_validmovemask)
015E 2200      07558         ADDWFC  r0x08, F
0160 C000 FFE9 07559         MOVFF   r0x07, FSR0L
0164 C000 FFEA 07560         MOVFF   r0x08, FSR0H
0168 CFEF F000 07561         MOVFF   INDF0, r0x09
016C 0E01      07562         MOVLW   0x01
016E 6E00      07563         MOVWF   r0x0a
0170 5000      07564         MOVF    r0x00, W
0172 E000      07565         BZ      _00514_DS_
0174 E600      07566         BN      _00517_DS_
0176 6CE8      07567         NEGF    WREG
0178 90D8      07568         BCF     STATUS, 0
017A 07569 _00515_DS_:
017A 3600      07570         RLCF    r0x0a, F
017C 0F01      07571         ADDLW   0x01
017E E300      07572         BNC     _00515_DS_
0180 D000      07573         BRA     _00514_DS_
0182 07574 _00517_DS_:
0182 90D8      07575         BCF     STATUS, 0
0184 07576 _00516_DS_:
0184 3200      07577         RRCF    r0x0a, F
0186 0F01      07578         ADDLW   0x01
0188 E300      07579         BNC     _00516_DS_
018A 07580 _00514_DS_:
018A 5000      07581         MOVF    r0x0a, W
018C 1200      07582         IORWF   r0x09, F
018E C000 FFE9 07583         MOVFF   r0x07, FSR0L
0192 C000 FFEA 07584         MOVFF   r0x08, FSR0H
0196 C000 FFEF 07585         MOVFF   r0x09, INDF0
               07586 ;       .line   363; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
Error [113] : Symbol not previously defined (_capturemask).
019A 0E00      07587         MOVLW   LOW(_capturemask)
019C 2400      07588         ADDWF   r0x05, W
019E 6E00      07589         MOVWF   r0x07
01A0 6A00      07590         CLRF    r0x08
01A2 BE00      07591         BTFSC   r0x05, 7
01A4 6800      07592         SETF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
01A6 0E00      07593         MOVLW   HIGH(_capturemask)
01A8 2200      07594         ADDWFC  r0x08, F
01AA C000 FFE9 07595         MOVFF   r0x07, FSR0L
01AE C000 FFEA 07596         MOVFF   r0x08, FSR0H
01B2 CFEF F000 07597         MOVFF   INDF0, r0x09
01B6 5000      07598         MOVF    r0x09, W
01B8 1200      07599         IORWF   r0x0a, F
01BA C000 FFE9 07600         MOVFF   r0x07, FSR0L
01BE C000 FFEA 07601         MOVFF   r0x08, FSR0H
01C2 C000 FFEF 07602         MOVFF   r0x0a, INDF0
               07603 ;       .line   364; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
01C6 0E00      07604         MOVLW   LOW(_capturemask)
01C8 0000      07605         BANKSEL _opp_king_pos
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 146


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01CA 2500      07606         ADDWF   _opp_king_pos, W, B
01CC 6E00      07607         MOVWF   r0x07
01CE 6A00      07608         CLRF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
01D0 0E00      07609         MOVLW   HIGH(_capturemask)
01D2 2200      07610         ADDWFC  r0x08, F
01D4 C000 FFE9 07611         MOVFF   r0x07, FSR0L
01D8 C000 FFEA 07612         MOVFF   r0x08, FSR0H
01DC CFEF F000 07613         MOVFF   INDF0, r0x07
01E0 0E01      07614         MOVLW   0x01
01E2 6E00      07615         MOVWF   r0x08
01E4 6A00      07616         CLRF    r0x09
               07617 ; removed redundant BANKSEL
01E6 5100      07618         MOVF    (_opp_king_pos + 1), W, B
01E8 E000      07619         BZ      _00520_DS_
01EA 6CE8      07620         NEGF    WREG
01EC 90D8      07621         BCF     STATUS, 0
01EE 07622 _00521_DS_:
01EE 3600      07623         RLCF    r0x08, F
01F0 3600      07624         RLCF    r0x09, F
01F2 0F01      07625         ADDLW   0x01
01F4 E300      07626         BNC     _00521_DS_
01F6 07627 _00520_DS_:
01F6 6A00      07628         CLRF    r0x0a
01F8 5000      07629         MOVF    r0x07, W
01FA 1600      07630         ANDWF   r0x08, F
01FC 5000      07631         MOVF    r0x0a, W
01FE 1600      07632         ANDWF   r0x09, F
0200 5000      07633         MOVF    r0x08, W
0202 1000      07634         IORWF   r0x09, W
0204 E000      07635         BZ      _00482_DS_
0206 0E01      07636         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
0208 0100      07637         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
020A 6F00      07638         MOVWF   _kingcapture, B
020C 07639 _00482_DS_:
               07640 ;       .line   365; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
020C 0E01      07641         MOVLW   0x01
020E 6E00      07642         MOVWF   r0x01
0210 D000      07643         BRA     _00492_DS_
0212 07644 _00484_DS_:
               07645 ;       .line   369; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
0212 0E01      07646         MOVLW   0x01
0214 6E00      07647         MOVWF   r0x01
0216 D000      07648         BRA     _00492_DS_
0218 07649 _00495_DS_:
0218 CFE4 F000 07650         MOVFF   PREINC1, r0x0b
021C CFE4 F000 07651         MOVFF   PREINC1, r0x0a
0220 CFE4 F000 07652         MOVFF   PREINC1, r0x09
0224 CFE4 F000 07653         MOVFF   PREINC1, r0x08
0228 CFE4 F000 07654         MOVFF   PREINC1, r0x07
022C CFE4 F000 07655         MOVFF   PREINC1, r0x06
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 147


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0230 CFE4 F000 07656         MOVFF   PREINC1, r0x05
0234 CFE4 F000 07657         MOVFF   PREINC1, r0x04
0238 CFE4 F000 07658         MOVFF   PREINC1, r0x03
023C CFE4 F000 07659         MOVFF   PREINC1, r0x02
0240 CFE4 F000 07660         MOVFF   PREINC1, r0x01
0244 CFE4 F000 07661         MOVFF   PREINC1, r0x00
0248 CFE4 FFD9 07662         MOVFF   PREINC1, FSR2L
024C 0012      07663         RETURN  
               07664 
               07665 ; ; Starting pCode block
               07666 S_main__val_east        code
0000 07667 _val_east:
               07668 ;       .line   328; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_east (LOC from,BOOL piececolour,BOOL depth)
0000 CFD9 FFE5 07669         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 07670         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 07671         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 07672         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 07673         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 07674         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 07675         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 07676         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 07677         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 07678         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 07679         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 07680         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 07681         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 07682         MOVFF   r0x0b, POSTDEC1
0038 0E02      07683         MOVLW   0x02
003A CFDB F000 07684         MOVFF   PLUSW2, r0x00
003E 0E03      07685         MOVLW   0x03
0040 CFDB F000 07686         MOVFF   PLUSW2, r0x01
0044 0E04      07687         MOVLW   0x04
0046 CFDB F000 07688         MOVFF   PLUSW2, r0x02
004A 0E05      07689         MOVLW   0x05
004C CFDB F000 07690         MOVFF   PLUSW2, r0x03
0050 0E06      07691         MOVLW   0x06
0052 CFDB F000 07692         MOVFF   PLUSW2, r0x04
               07693 ;       .line   330; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      COORD row = from[0],col = from[1];
0056 C000 FFE9 07694         MOVFF   r0x00, FSR0L
005A C000 FFF3 07695         MOVFF   r0x01, PRODL
005E 5000      07696         MOVF    r0x02, W
0060 EC00 F000 07697         CALL    __gptrget1
0064 6E00      07698         MOVWF   r0x05
0066 2A00      07699         INCF    r0x00, F
0068 B0D8      07700         BTFSC   STATUS, 0
006A 2A00      07701         INCF    r0x01, F
006C B0D8      07702         BTFSC   STATUS, 0
006E 2A00      07703         INCF    r0x02, F
0070 C000 FFE9 07704         MOVFF   r0x00, FSR0L
0074 C000 FFF3 07705         MOVFF   r0x01, PRODL
0078 5000      07706         MOVF    r0x02, W
007A EC00 F000 07707         CALL    __gptrget1
007E 6E00      07708         MOVWF   r0x00
               07709 ;       .line   331; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      BOOL piecefound = FALSE;
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 148


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0080 6A00      07710         CLRF    r0x01
               07711 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x02
               07712 ; ;Unrolled 8 X 8 multiplication
               07713 ; ;FIXME: the function does not support result==WREG
               07714 ;       .line   332; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      while ((col++ < MAX_COL) && (!piecefound) && (depth--))
0082 5000      07715         MOVF    r0x05, W
0084 0D08      07716         MULLW   0x08
0086 CFF3 F000 07717         MOVFF   PRODL, r0x02
008A 6A00      07718         CLRF    r0x06
Error [113] : Symbol not previously defined (_board).
008C 0E00      07719         MOVLW   LOW(_board)
008E 2600      07720         ADDWF   r0x02, F
Error [113] : Symbol not previously defined (_board).
0090 0E00      07721         MOVLW   HIGH(_board)
0092 2200      07722         ADDWFC  r0x06, F
0094 0E08      07723         MOVLW   0x08
0096 1600      07724         ANDWF   r0x03, F
0098 3800      07725         SWAPF   r0x03, W
009A 44E8      07726         RLNCF   WREG, W
009C 0B1F      07727         ANDLW   0x1f
009E 6E00      07728         MOVWF   r0x03
00A0 07729 _00451_DS_:
00A0 C000 F000 07730         MOVFF   r0x00, r0x07
00A4 2A00      07731         INCF    r0x00, F
00A6 0E07      07732         MOVLW   0x07
00A8 5C00      07733         SUBWF   r0x07, W
00AA B0D8      07734         BTFSC   STATUS, 0
00AC D000      07735         BRA     _00454_DS_
00AE 5000      07736         MOVF    r0x01, W
00B0 A4D8      07737         BTFSS   STATUS, 2
00B2 D000      07738         BRA     _00454_DS_
00B4 C000 F000 07739         MOVFF   r0x04, r0x07
00B8 0600      07740         DECF    r0x04, F
00BA 5000      07741         MOVF    r0x07, W
00BC B4D8      07742         BTFSC   STATUS, 2
00BE D000      07743         BRA     _00454_DS_
               07744 ;       .line   333; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { if (board[row][col] == EMPTY)
00C0 5000      07745         MOVF    r0x00, W
00C2 2400      07746         ADDWF   r0x02, W
00C4 6E00      07747         MOVWF   r0x07
00C6 6AE8      07748         CLRF    WREG
00C8 2000      07749         ADDWFC  r0x06, W
00CA 6E00      07750         MOVWF   r0x08
00CC C000 FFE9 07751         MOVFF   r0x07, FSR0L
00D0 C000 FFEA 07752         MOVFF   r0x08, FSR0H
00D4 CFEF F000 07753         MOVFF   INDF0, r0x07
00D8 5000      07754         MOVF    r0x07, W
00DA E100      07755         BNZ     _00447_DS_
               07756 ;       .line   335; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
00DC 0E00      07757         MOVLW   LOW(_validmovemask)
00DE 2400      07758         ADDWF   r0x05, W
00E0 6E00      07759         MOVWF   r0x08
00E2 6A00      07760         CLRF    r0x09
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 149


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_validmovemask).
00E4 0E00      07761         MOVLW   HIGH(_validmovemask)
00E6 2200      07762         ADDWFC  r0x09, F
00E8 C000 FFE9 07763         MOVFF   r0x08, FSR0L
00EC C000 FFEA 07764         MOVFF   r0x09, FSR0H
00F0 CFEF F000 07765         MOVFF   INDF0, r0x0a
00F4 0E01      07766         MOVLW   0x01
00F6 6E00      07767         MOVWF   r0x0b
00F8 5000      07768         MOVF    r0x00, W
00FA E000      07769         BZ      _00467_DS_
00FC 6CE8      07770         NEGF    WREG
00FE 90D8      07771         BCF     STATUS, 0
0100 07772 _00468_DS_:
0100 3600      07773         RLCF    r0x0b, F
0102 0F01      07774         ADDLW   0x01
0104 E300      07775         BNC     _00468_DS_
0106 07776 _00467_DS_:
0106 5000      07777         MOVF    r0x0b, W
0108 1200      07778         IORWF   r0x0a, F
010A C000 FFE9 07779         MOVFF   r0x08, FSR0L
010E C000 FFEA 07780         MOVFF   r0x09, FSR0H
0112 C000 FFEF 07781         MOVFF   r0x0a, INDF0
0116 D000      07782         BRA     _00451_DS_
0118 07783 _00447_DS_:
               07784 ;       .line   337; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if (is_opp_piece(row,col,piececolour))
0118 0E08      07785         MOVLW   0x08
011A 1400      07786         ANDWF   r0x07, W
011C 6E00      07787         MOVWF   r0x08
011E 3800      07788         SWAPF   r0x08, W
0120 44E8      07789         RLNCF   WREG, W
0122 0B1F      07790         ANDLW   0x1f
0124 6E00      07791         MOVWF   r0x08
0126 5000      07792         MOVF    r0x03, W
0128 1A00      07793         XORWF   r0x08, F
012A 5000      07794         MOVF    r0x08, W
012C B4D8      07795         BTFSC   STATUS, 2
012E D000      07796         BRA     _00443_DS_
0130 5000      07797         MOVF    r0x07, W
0132 B4D8      07798         BTFSC   STATUS, 2
0134 D000      07799         BRA     _00443_DS_
               07800 ;       .line   339; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
0136 0E00      07801         MOVLW   LOW(_validmovemask)
0138 2400      07802         ADDWF   r0x05, W
013A 6E00      07803         MOVWF   r0x07
013C 6A00      07804         CLRF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
013E 0E00      07805         MOVLW   HIGH(_validmovemask)
0140 2200      07806         ADDWFC  r0x08, F
0142 C000 FFE9 07807         MOVFF   r0x07, FSR0L
0146 C000 FFEA 07808         MOVFF   r0x08, FSR0H
014A CFEF F000 07809         MOVFF   INDF0, r0x09
014E 0E01      07810         MOVLW   0x01
0150 6E00      07811         MOVWF   r0x0a
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 150


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0152 5000      07812         MOVF    r0x00, W
0154 E000      07813         BZ      _00471_DS_
0156 6CE8      07814         NEGF    WREG
0158 90D8      07815         BCF     STATUS, 0
015A 07816 _00472_DS_:
015A 3600      07817         RLCF    r0x0a, F
015C 0F01      07818         ADDLW   0x01
015E E300      07819         BNC     _00472_DS_
0160 07820 _00471_DS_:
0160 5000      07821         MOVF    r0x0a, W
0162 1200      07822         IORWF   r0x09, F
0164 C000 FFE9 07823         MOVFF   r0x07, FSR0L
0168 C000 FFEA 07824         MOVFF   r0x08, FSR0H
016C C000 FFEF 07825         MOVFF   r0x09, INDF0
               07826 ;       .line   340; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
Error [113] : Symbol not previously defined (_capturemask).
0170 0E00      07827         MOVLW   LOW(_capturemask)
0172 2400      07828         ADDWF   r0x05, W
0174 6E00      07829         MOVWF   r0x07
0176 6A00      07830         CLRF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
0178 0E00      07831         MOVLW   HIGH(_capturemask)
017A 2200      07832         ADDWFC  r0x08, F
017C C000 FFE9 07833         MOVFF   r0x07, FSR0L
0180 C000 FFEA 07834         MOVFF   r0x08, FSR0H
0184 CFEF F000 07835         MOVFF   INDF0, r0x09
0188 5000      07836         MOVF    r0x09, W
018A 1200      07837         IORWF   r0x0a, F
018C C000 FFE9 07838         MOVFF   r0x07, FSR0L
0190 C000 FFEA 07839         MOVFF   r0x08, FSR0H
0194 C000 FFEF 07840         MOVFF   r0x0a, INDF0
               07841 ;       .line   341; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
0198 0E00      07842         MOVLW   LOW(_capturemask)
019A 0000      07843         BANKSEL _opp_king_pos
019C 2500      07844         ADDWF   _opp_king_pos, W, B
019E 6E00      07845         MOVWF   r0x07
01A0 6A00      07846         CLRF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
01A2 0E00      07847         MOVLW   HIGH(_capturemask)
01A4 2200      07848         ADDWFC  r0x08, F
01A6 C000 FFE9 07849         MOVFF   r0x07, FSR0L
01AA C000 FFEA 07850         MOVFF   r0x08, FSR0H
01AE CFEF F000 07851         MOVFF   INDF0, r0x07
01B2 0E01      07852         MOVLW   0x01
01B4 6E00      07853         MOVWF   r0x08
01B6 6A00      07854         CLRF    r0x09
               07855 ; removed redundant BANKSEL
01B8 5100      07856         MOVF    (_opp_king_pos + 1), W, B
01BA E000      07857         BZ      _00475_DS_
01BC 6CE8      07858         NEGF    WREG
01BE 90D8      07859         BCF     STATUS, 0
01C0 07860 _00476_DS_:
01C0 3600      07861         RLCF    r0x08, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 151


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01C2 3600      07862         RLCF    r0x09, F
01C4 0F01      07863         ADDLW   0x01
01C6 E300      07864         BNC     _00476_DS_
01C8 07865 _00475_DS_:
01C8 6A00      07866         CLRF    r0x0a
01CA 5000      07867         MOVF    r0x07, W
01CC 1600      07868         ANDWF   r0x08, F
01CE 5000      07869         MOVF    r0x0a, W
01D0 1600      07870         ANDWF   r0x09, F
01D2 5000      07871         MOVF    r0x08, W
01D4 1000      07872         IORWF   r0x09, W
01D6 E000      07873         BZ      _00441_DS_
01D8 0E01      07874         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
01DA 0100      07875         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01DC 6F00      07876         MOVWF   _kingcapture, B
01DE 07877 _00441_DS_:
               07878 ;       .line   342; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01DE 0E01      07879         MOVLW   0x01
01E0 6E00      07880         MOVWF   r0x01
01E2 D000      07881         BRA     _00451_DS_
01E4 07882 _00443_DS_:
               07883 ;       .line   346; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01E4 0E01      07884         MOVLW   0x01
01E6 6E00      07885         MOVWF   r0x01
01E8 D000      07886         BRA     _00451_DS_
01EA 07887 _00454_DS_:
01EA CFE4 F000 07888         MOVFF   PREINC1, r0x0b
01EE CFE4 F000 07889         MOVFF   PREINC1, r0x0a
01F2 CFE4 F000 07890         MOVFF   PREINC1, r0x09
01F6 CFE4 F000 07891         MOVFF   PREINC1, r0x08
01FA CFE4 F000 07892         MOVFF   PREINC1, r0x07
01FE CFE4 F000 07893         MOVFF   PREINC1, r0x06
0202 CFE4 F000 07894         MOVFF   PREINC1, r0x05
0206 CFE4 F000 07895         MOVFF   PREINC1, r0x04
020A CFE4 F000 07896         MOVFF   PREINC1, r0x03
020E CFE4 F000 07897         MOVFF   PREINC1, r0x02
0212 CFE4 F000 07898         MOVFF   PREINC1, r0x01
0216 CFE4 F000 07899         MOVFF   PREINC1, r0x00
021A CFE4 FFD9 07900         MOVFF   PREINC1, FSR2L
021E 0012      07901         RETURN  
               07902 
               07903 ; ; Starting pCode block
               07904 S_main__val_south       code
0000 07905 _val_south:
               07906 ;       .line   305; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_south (LOC from,BOOL piececolour,BOOL depth)
0000 CFD9 FFE5 07907         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 07908         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 07909         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 07910         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 07911         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 07912         MOVFF   r0x03, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 152


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0018 C000 FFE5 07913         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 07914         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 07915         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 07916         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 07917         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 07918         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 07919         MOVFF   r0x0a, POSTDEC1
0034 0E02      07920         MOVLW   0x02
0036 CFDB F000 07921         MOVFF   PLUSW2, r0x00
003A 0E03      07922         MOVLW   0x03
003C CFDB F000 07923         MOVFF   PLUSW2, r0x01
0040 0E04      07924         MOVLW   0x04
0042 CFDB F000 07925         MOVFF   PLUSW2, r0x02
0046 0E05      07926         MOVLW   0x05
0048 CFDB F000 07927         MOVFF   PLUSW2, r0x03
004C 0E06      07928         MOVLW   0x06
004E CFDB F000 07929         MOVFF   PLUSW2, r0x04
               07930 ;       .line   307; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      char row = from[0], col = from[1];
0052 C000 FFE9 07931         MOVFF   r0x00, FSR0L
0056 C000 FFF3 07932         MOVFF   r0x01, PRODL
005A 5000      07933         MOVF    r0x02, W
005C EC00 F000 07934         CALL    __gptrget1
0060 6E00      07935         MOVWF   r0x05
0062 2A00      07936         INCF    r0x00, F
0064 B0D8      07937         BTFSC   STATUS, 0
0066 2A00      07938         INCF    r0x01, F
0068 B0D8      07939         BTFSC   STATUS, 0
006A 2A00      07940         INCF    r0x02, F
006C C000 FFE9 07941         MOVFF   r0x00, FSR0L
0070 C000 FFF3 07942         MOVFF   r0x01, PRODL
0074 5000      07943         MOVF    r0x02, W
0076 EC00 F000 07944         CALL    __gptrget1
007A 6E00      07945         MOVWF   r0x00
               07946 ;       .line   308; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      BOOL piecefound = FALSE;
007C 6A00      07947         CLRF    r0x01
               07948 ;       .line   309; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      while ((row-- > MIN_ROW) && (!piecefound) && (depth--))
007E 0E01      07949         MOVLW   0x01
0080 6E00      07950         MOVWF   r0x02
0082 5000      07951         MOVF    r0x00, W
0084 E000      07952         BZ      _00424_DS_
0086 E600      07953         BN      _00427_DS_
0088 6CE8      07954         NEGF    WREG
008A 90D8      07955         BCF     STATUS, 0
008C 07956 _00425_DS_:
008C 3600      07957         RLCF    r0x02, F
008E 0F01      07958         ADDLW   0x01
0090 E300      07959         BNC     _00425_DS_
0092 D000      07960         BRA     _00424_DS_
0094 07961 _00427_DS_:
0094 90D8      07962         BCF     STATUS, 0
0096 07963 _00426_DS_:
0096 3200      07964         RRCF    r0x02, F
0098 0F01      07965         ADDLW   0x01
009A E300      07966         BNC     _00426_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 153


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
009C 07967 _00424_DS_:
009C 0E08      07968         MOVLW   0x08
009E 1600      07969         ANDWF   r0x03, F
00A0 3800      07970         SWAPF   r0x03, W
00A2 44E8      07971         RLNCF   WREG, W
00A4 0B1F      07972         ANDLW   0x1f
00A6 6E00      07973         MOVWF   r0x03
00A8 C000 F000 07974         MOVFF   r0x05, r0x06
               07975 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x05
               07976 ; ;Unrolled 8 X 8 multiplication
               07977 ; ;FIXME: the function does not support result==WREG
00AC 5000      07978         MOVF    r0x05, W
00AE 0D08      07979         MULLW   0x08
00B0 CFF3 F000 07980         MOVFF   PRODL, r0x05
00B4 07981 _00410_DS_:
00B4 C000 F000 07982         MOVFF   r0x06, r0x07
00B8 0EF8      07983         MOVLW   0xf8
00BA 2600      07984         ADDWF   r0x05, F
00BC 0600      07985         DECF    r0x06, F
00BE 5000      07986         MOVF    r0x07, W
00C0 0F80      07987         ADDLW   0x80
00C2 0F7F      07988         ADDLW   0x7f
00C4 A0D8      07989         BTFSS   STATUS, 0
00C6 D000      07990         BRA     _00413_DS_
00C8 5000      07991         MOVF    r0x01, W
00CA A4D8      07992         BTFSS   STATUS, 2
00CC D000      07993         BRA     _00413_DS_
00CE C000 F000 07994         MOVFF   r0x04, r0x07
00D2 0600      07995         DECF    r0x04, F
00D4 5000      07996         MOVF    r0x07, W
00D6 B4D8      07997         BTFSC   STATUS, 2
00D8 D000      07998         BRA     _00413_DS_
               07999 ;       .line   310; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { if (board[row][col] == EMPTY)
Error [113] : Symbol not previously defined (_board).
00DA 0E00      08000         MOVLW   LOW(_board)
00DC 2400      08001         ADDWF   r0x05, W
00DE 6E00      08002         MOVWF   r0x07
00E0 6A00      08003         CLRF    r0x08
00E2 BE00      08004         BTFSC   r0x05, 7
00E4 6800      08005         SETF    r0x08
Error [113] : Symbol not previously defined (_board).
00E6 0E00      08006         MOVLW   HIGH(_board)
00E8 2200      08007         ADDWFC  r0x08, F
00EA 5000      08008         MOVF    r0x00, W
00EC 2600      08009         ADDWF   r0x07, F
00EE 6AE8      08010         CLRF    WREG
00F0 BE00      08011         BTFSC   r0x00, 7
00F2 68E8      08012         SETF    WREG
00F4 2200      08013         ADDWFC  r0x08, F
00F6 C000 FFE9 08014         MOVFF   r0x07, FSR0L
00FA C000 FFEA 08015         MOVFF   r0x08, FSR0H
00FE CFEF F000 08016         MOVFF   INDF0, r0x07
0102 5000      08017         MOVF    r0x07, W
0104 E100      08018         BNZ     _00406_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 154


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               08019 ;       .line   312; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
0106 0E00      08020         MOVLW   LOW(_validmovemask)
0108 2400      08021         ADDWF   r0x06, W
010A 6E00      08022         MOVWF   r0x08
010C 6A00      08023         CLRF    r0x09
010E BE00      08024         BTFSC   r0x06, 7
0110 6800      08025         SETF    r0x09
Error [113] : Symbol not previously defined (_validmovemask).
0112 0E00      08026         MOVLW   HIGH(_validmovemask)
0114 2200      08027         ADDWFC  r0x09, F
0116 C000 FFE9 08028         MOVFF   r0x08, FSR0L
011A C000 FFEA 08029         MOVFF   r0x09, FSR0H
011E CFEF F000 08030         MOVFF   INDF0, r0x0a
0122 5000      08031         MOVF    r0x02, W
0124 1200      08032         IORWF   r0x0a, F
0126 C000 FFE9 08033         MOVFF   r0x08, FSR0L
012A C000 FFEA 08034         MOVFF   r0x09, FSR0H
012E C000 FFEF 08035         MOVFF   r0x0a, INDF0
0132 D000      08036         BRA     _00410_DS_
0134 08037 _00406_DS_:
               08038 ;       .line   314; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if (is_opp_piece(row,col,piececolour))
0134 0E08      08039         MOVLW   0x08
0136 1400      08040         ANDWF   r0x07, W
0138 6E00      08041         MOVWF   r0x08
013A 3800      08042         SWAPF   r0x08, W
013C 44E8      08043         RLNCF   WREG, W
013E 0B1F      08044         ANDLW   0x1f
0140 6E00      08045         MOVWF   r0x08
0142 5000      08046         MOVF    r0x03, W
0144 1A00      08047         XORWF   r0x08, F
0146 5000      08048         MOVF    r0x08, W
0148 B4D8      08049         BTFSC   STATUS, 2
014A D000      08050         BRA     _00402_DS_
014C 5000      08051         MOVF    r0x07, W
014E B4D8      08052         BTFSC   STATUS, 2
0150 D000      08053         BRA     _00402_DS_
               08054 ;       .line   316; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
0152 0E00      08055         MOVLW   LOW(_validmovemask)
0154 2400      08056         ADDWF   r0x06, W
0156 6E00      08057         MOVWF   r0x07
0158 6A00      08058         CLRF    r0x08
015A BE00      08059         BTFSC   r0x06, 7
015C 6800      08060         SETF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
015E 0E00      08061         MOVLW   HIGH(_validmovemask)
0160 2200      08062         ADDWFC  r0x08, F
0162 C000 FFE9 08063         MOVFF   r0x07, FSR0L
0166 C000 FFEA 08064         MOVFF   r0x08, FSR0H
016A CFEF F000 08065         MOVFF   INDF0, r0x09
016E 5000      08066         MOVF    r0x02, W
0170 1200      08067         IORWF   r0x09, F
0172 C000 FFE9 08068         MOVFF   r0x07, FSR0L
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 155


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0176 C000 FFEA 08069         MOVFF   r0x08, FSR0H
017A C000 FFEF 08070         MOVFF   r0x09, INDF0
               08071 ;       .line   317; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
Error [113] : Symbol not previously defined (_capturemask).
017E 0E00      08072         MOVLW   LOW(_capturemask)
0180 2400      08073         ADDWF   r0x06, W
0182 6E00      08074         MOVWF   r0x07
0184 6A00      08075         CLRF    r0x08
0186 BE00      08076         BTFSC   r0x06, 7
0188 6800      08077         SETF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
018A 0E00      08078         MOVLW   HIGH(_capturemask)
018C 2200      08079         ADDWFC  r0x08, F
018E C000 FFE9 08080         MOVFF   r0x07, FSR0L
0192 C000 FFEA 08081         MOVFF   r0x08, FSR0H
0196 CFEF F000 08082         MOVFF   INDF0, r0x09
019A 5000      08083         MOVF    r0x02, W
019C 1200      08084         IORWF   r0x09, F
019E C000 FFE9 08085         MOVFF   r0x07, FSR0L
01A2 C000 FFEA 08086         MOVFF   r0x08, FSR0H
01A6 C000 FFEF 08087         MOVFF   r0x09, INDF0
               08088 ;       .line   318; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
01AA 0E00      08089         MOVLW   LOW(_capturemask)
01AC 0000      08090         BANKSEL _opp_king_pos
01AE 2500      08091         ADDWF   _opp_king_pos, W, B
01B0 6E00      08092         MOVWF   r0x07
01B2 6A00      08093         CLRF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
01B4 0E00      08094         MOVLW   HIGH(_capturemask)
01B6 2200      08095         ADDWFC  r0x08, F
01B8 C000 FFE9 08096         MOVFF   r0x07, FSR0L
01BC C000 FFEA 08097         MOVFF   r0x08, FSR0H
01C0 CFEF F000 08098         MOVFF   INDF0, r0x07
01C4 0E01      08099         MOVLW   0x01
01C6 6E00      08100         MOVWF   r0x08
01C8 6A00      08101         CLRF    r0x09
               08102 ; removed redundant BANKSEL
01CA 5100      08103         MOVF    (_opp_king_pos + 1), W, B
01CC E000      08104         BZ      _00434_DS_
01CE 6CE8      08105         NEGF    WREG
01D0 90D8      08106         BCF     STATUS, 0
01D2 08107 _00435_DS_:
01D2 3600      08108         RLCF    r0x08, F
01D4 3600      08109         RLCF    r0x09, F
01D6 0F01      08110         ADDLW   0x01
01D8 E300      08111         BNC     _00435_DS_
01DA 08112 _00434_DS_:
01DA 6A00      08113         CLRF    r0x0a
01DC 5000      08114         MOVF    r0x07, W
01DE 1600      08115         ANDWF   r0x08, F
01E0 5000      08116         MOVF    r0x0a, W
01E2 1600      08117         ANDWF   r0x09, F
01E4 5000      08118         MOVF    r0x08, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 156


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01E6 1000      08119         IORWF   r0x09, W
01E8 E000      08120         BZ      _00400_DS_
01EA 0E01      08121         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
01EC 0100      08122         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01EE 6F00      08123         MOVWF   _kingcapture, B
01F0 08124 _00400_DS_:
               08125 ;       .line   319; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01F0 0E01      08126         MOVLW   0x01
01F2 6E00      08127         MOVWF   r0x01
01F4 D000      08128         BRA     _00410_DS_
01F6 08129 _00402_DS_:
               08130 ;       .line   323; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01F6 0E01      08131         MOVLW   0x01
01F8 6E00      08132         MOVWF   r0x01
01FA D000      08133         BRA     _00410_DS_
01FC 08134 _00413_DS_:
01FC CFE4 F000 08135         MOVFF   PREINC1, r0x0a
0200 CFE4 F000 08136         MOVFF   PREINC1, r0x09
0204 CFE4 F000 08137         MOVFF   PREINC1, r0x08
0208 CFE4 F000 08138         MOVFF   PREINC1, r0x07
020C CFE4 F000 08139         MOVFF   PREINC1, r0x06
0210 CFE4 F000 08140         MOVFF   PREINC1, r0x05
0214 CFE4 F000 08141         MOVFF   PREINC1, r0x04
0218 CFE4 F000 08142         MOVFF   PREINC1, r0x03
021C CFE4 F000 08143         MOVFF   PREINC1, r0x02
0220 CFE4 F000 08144         MOVFF   PREINC1, r0x01
0224 CFE4 F000 08145         MOVFF   PREINC1, r0x00
0228 CFE4 FFD9 08146         MOVFF   PREINC1, FSR2L
022C 0012      08147         RETURN  
               08148 
               08149 ; ; Starting pCode block
               08150 S_main__val_north       code
0000 08151 _val_north:
               08152 ;       .line   282; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_north (LOC from,BOOL piececolour,BOOL depth)
0000 CFD9 FFE5 08153         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 08154         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 08155         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 08156         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 08157         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 08158         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 08159         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 08160         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 08161         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 08162         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 08163         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 08164         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 08165         MOVFF   r0x0a, POSTDEC1
0034 0E02      08166         MOVLW   0x02
0036 CFDB F000 08167         MOVFF   PLUSW2, r0x00
003A 0E03      08168         MOVLW   0x03
003C CFDB F000 08169         MOVFF   PLUSW2, r0x01
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 157


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0040 0E04      08170         MOVLW   0x04
0042 CFDB F000 08171         MOVFF   PLUSW2, r0x02
0046 0E05      08172         MOVLW   0x05
0048 CFDB F000 08173         MOVFF   PLUSW2, r0x03
004C 0E06      08174         MOVLW   0x06
004E CFDB F000 08175         MOVFF   PLUSW2, r0x04
               08176 ;       .line   284; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { COORD row = from[0],col = from[1];
0052 C000 FFE9 08177         MOVFF   r0x00, FSR0L
0056 C000 FFF3 08178         MOVFF   r0x01, PRODL
005A 5000      08179         MOVF    r0x02, W
005C EC00 F000 08180         CALL    __gptrget1
0060 6E00      08181         MOVWF   r0x05
0062 2A00      08182         INCF    r0x00, F
0064 B0D8      08183         BTFSC   STATUS, 0
0066 2A00      08184         INCF    r0x01, F
0068 B0D8      08185         BTFSC   STATUS, 0
006A 2A00      08186         INCF    r0x02, F
006C C000 FFE9 08187         MOVFF   r0x00, FSR0L
0070 C000 FFF3 08188         MOVFF   r0x01, PRODL
0074 5000      08189         MOVF    r0x02, W
0076 EC00 F000 08190         CALL    __gptrget1
007A 6E00      08191         MOVWF   r0x00
               08192 ;       .line   285; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      BOOL piecefound = FALSE;
007C 6A00      08193         CLRF    r0x01
               08194 ;       .line   286; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      while ((row++ < MAX_ROW) && (!piecefound) && (depth--))
007E 0E01      08195         MOVLW   0x01
0080 6E00      08196         MOVWF   r0x02
0082 5000      08197         MOVF    r0x00, W
0084 E000      08198         BZ      _00385_DS_
0086 6CE8      08199         NEGF    WREG
0088 90D8      08200         BCF     STATUS, 0
008A 08201 _00386_DS_:
008A 3600      08202         RLCF    r0x02, F
008C 0F01      08203         ADDLW   0x01
008E E300      08204         BNC     _00386_DS_
0090 08205 _00385_DS_:
0090 0E08      08206         MOVLW   0x08
0092 1600      08207         ANDWF   r0x03, F
0094 3800      08208         SWAPF   r0x03, W
0096 44E8      08209         RLNCF   WREG, W
0098 0B1F      08210         ANDLW   0x1f
009A 6E00      08211         MOVWF   r0x03
009C C000 F000 08212         MOVFF   r0x05, r0x06
               08213 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x05
               08214 ; ;Unrolled 8 X 8 multiplication
               08215 ; ;FIXME: the function does not support result==WREG
00A0 5000      08216         MOVF    r0x05, W
00A2 0D08      08217         MULLW   0x08
00A4 CFF3 F000 08218         MOVFF   PRODL, r0x05
00A8 08219 _00371_DS_:
00A8 C000 F000 08220         MOVFF   r0x06, r0x07
00AC 0E08      08221         MOVLW   0x08
00AE 2600      08222         ADDWF   r0x05, F
00B0 2A00      08223         INCF    r0x06, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 158


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00B2 0E07      08224         MOVLW   0x07
00B4 5C00      08225         SUBWF   r0x07, W
00B6 B0D8      08226         BTFSC   STATUS, 0
00B8 D000      08227         BRA     _00374_DS_
00BA 5000      08228         MOVF    r0x01, W
00BC A4D8      08229         BTFSS   STATUS, 2
00BE D000      08230         BRA     _00374_DS_
00C0 C000 F000 08231         MOVFF   r0x04, r0x07
00C4 0600      08232         DECF    r0x04, F
00C6 5000      08233         MOVF    r0x07, W
00C8 B4D8      08234         BTFSC   STATUS, 2
00CA D000      08235         BRA     _00374_DS_
               08236 ;       .line   287; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { if (board[row][col] == EMPTY)
Error [113] : Symbol not previously defined (_board).
00CC 0E00      08237         MOVLW   LOW(_board)
00CE 2400      08238         ADDWF   r0x05, W
00D0 6E00      08239         MOVWF   r0x07
00D2 6A00      08240         CLRF    r0x08
Error [113] : Symbol not previously defined (_board).
00D4 0E00      08241         MOVLW   HIGH(_board)
00D6 2200      08242         ADDWFC  r0x08, F
00D8 5000      08243         MOVF    r0x00, W
00DA 2600      08244         ADDWF   r0x07, F
00DC 6AE8      08245         CLRF    WREG
00DE 2200      08246         ADDWFC  r0x08, F
00E0 C000 FFE9 08247         MOVFF   r0x07, FSR0L
00E4 C000 FFEA 08248         MOVFF   r0x08, FSR0H
00E8 CFEF F000 08249         MOVFF   INDF0, r0x07
00EC 5000      08250         MOVF    r0x07, W
00EE E100      08251         BNZ     _00367_DS_
               08252 ;       .line   289; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
00F0 0E00      08253         MOVLW   LOW(_validmovemask)
00F2 2400      08254         ADDWF   r0x06, W
00F4 6E00      08255         MOVWF   r0x08
00F6 6A00      08256         CLRF    r0x09
Error [113] : Symbol not previously defined (_validmovemask).
00F8 0E00      08257         MOVLW   HIGH(_validmovemask)
00FA 2200      08258         ADDWFC  r0x09, F
00FC C000 FFE9 08259         MOVFF   r0x08, FSR0L
0100 C000 FFEA 08260         MOVFF   r0x09, FSR0H
0104 CFEF F000 08261         MOVFF   INDF0, r0x0a
0108 5000      08262         MOVF    r0x02, W
010A 1200      08263         IORWF   r0x0a, F
010C C000 FFE9 08264         MOVFF   r0x08, FSR0L
0110 C000 FFEA 08265         MOVFF   r0x09, FSR0H
0114 C000 FFEF 08266         MOVFF   r0x0a, INDF0
0118 D000      08267         BRA     _00371_DS_
011A 08268 _00367_DS_:
               08269 ;       .line   291; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if (is_opp_piece(row,col,piececolour))
011A 0E08      08270         MOVLW   0x08
011C 1400      08271         ANDWF   r0x07, W
011E 6E00      08272         MOVWF   r0x08
0120 3800      08273         SWAPF   r0x08, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 159


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0122 44E8      08274         RLNCF   WREG, W
0124 0B1F      08275         ANDLW   0x1f
0126 6E00      08276         MOVWF   r0x08
0128 5000      08277         MOVF    r0x03, W
012A 1A00      08278         XORWF   r0x08, F
012C 5000      08279         MOVF    r0x08, W
012E B4D8      08280         BTFSC   STATUS, 2
0130 D000      08281         BRA     _00363_DS_
0132 5000      08282         MOVF    r0x07, W
0134 B4D8      08283         BTFSC   STATUS, 2
0136 D000      08284         BRA     _00363_DS_
               08285 ;       .line   293; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
0138 0E00      08286         MOVLW   LOW(_validmovemask)
013A 2400      08287         ADDWF   r0x06, W
013C 6E00      08288         MOVWF   r0x07
013E 6A00      08289         CLRF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
0140 0E00      08290         MOVLW   HIGH(_validmovemask)
0142 2200      08291         ADDWFC  r0x08, F
0144 C000 FFE9 08292         MOVFF   r0x07, FSR0L
0148 C000 FFEA 08293         MOVFF   r0x08, FSR0H
014C CFEF F000 08294         MOVFF   INDF0, r0x09
0150 5000      08295         MOVF    r0x02, W
0152 1200      08296         IORWF   r0x09, F
0154 C000 FFE9 08297         MOVFF   r0x07, FSR0L
0158 C000 FFEA 08298         MOVFF   r0x08, FSR0H
015C C000 FFEF 08299         MOVFF   r0x09, INDF0
               08300 ;       .line   294; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
Error [113] : Symbol not previously defined (_capturemask).
0160 0E00      08301         MOVLW   LOW(_capturemask)
0162 2400      08302         ADDWF   r0x06, W
0164 6E00      08303         MOVWF   r0x07
0166 6A00      08304         CLRF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
0168 0E00      08305         MOVLW   HIGH(_capturemask)
016A 2200      08306         ADDWFC  r0x08, F
016C C000 FFE9 08307         MOVFF   r0x07, FSR0L
0170 C000 FFEA 08308         MOVFF   r0x08, FSR0H
0174 CFEF F000 08309         MOVFF   INDF0, r0x09
0178 5000      08310         MOVF    r0x02, W
017A 1200      08311         IORWF   r0x09, F
017C C000 FFE9 08312         MOVFF   r0x07, FSR0L
0180 C000 FFEA 08313         MOVFF   r0x08, FSR0H
0184 C000 FFEF 08314         MOVFF   r0x09, INDF0
               08315 ;       .line   295; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
0188 0E00      08316         MOVLW   LOW(_capturemask)
018A 0000      08317         BANKSEL _opp_king_pos
018C 2500      08318         ADDWF   _opp_king_pos, W, B
018E 6E00      08319         MOVWF   r0x07
0190 6A00      08320         CLRF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
0192 0E00      08321         MOVLW   HIGH(_capturemask)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 160


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0194 2200      08322         ADDWFC  r0x08, F
0196 C000 FFE9 08323         MOVFF   r0x07, FSR0L
019A C000 FFEA 08324         MOVFF   r0x08, FSR0H
019E CFEF F000 08325         MOVFF   INDF0, r0x07
01A2 0E01      08326         MOVLW   0x01
01A4 6E00      08327         MOVWF   r0x08
01A6 6A00      08328         CLRF    r0x09
               08329 ; removed redundant BANKSEL
01A8 5100      08330         MOVF    (_opp_king_pos + 1), W, B
01AA E000      08331         BZ      _00393_DS_
01AC 6CE8      08332         NEGF    WREG
01AE 90D8      08333         BCF     STATUS, 0
01B0 08334 _00394_DS_:
01B0 3600      08335         RLCF    r0x08, F
01B2 3600      08336         RLCF    r0x09, F
01B4 0F01      08337         ADDLW   0x01
01B6 E300      08338         BNC     _00394_DS_
01B8 08339 _00393_DS_:
01B8 6A00      08340         CLRF    r0x0a
01BA 5000      08341         MOVF    r0x07, W
01BC 1600      08342         ANDWF   r0x08, F
01BE 5000      08343         MOVF    r0x0a, W
01C0 1600      08344         ANDWF   r0x09, F
01C2 5000      08345         MOVF    r0x08, W
01C4 1000      08346         IORWF   r0x09, W
01C6 E000      08347         BZ      _00361_DS_
01C8 0E01      08348         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
01CA 0100      08349         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
01CC 6F00      08350         MOVWF   _kingcapture, B
01CE 08351 _00361_DS_:
               08352 ;       .line   296; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01CE 0E01      08353         MOVLW   0x01
01D0 6E00      08354         MOVWF   r0x01
01D2 D000      08355         BRA     _00371_DS_
01D4 08356 _00363_DS_:
               08357 ;       .line   300; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      piecefound = TRUE;
01D4 0E01      08358         MOVLW   0x01
01D6 6E00      08359         MOVWF   r0x01
01D8 D000      08360         BRA     _00371_DS_
01DA 08361 _00374_DS_:
01DA CFE4 F000 08362         MOVFF   PREINC1, r0x0a
01DE CFE4 F000 08363         MOVFF   PREINC1, r0x09
01E2 CFE4 F000 08364         MOVFF   PREINC1, r0x08
01E6 CFE4 F000 08365         MOVFF   PREINC1, r0x07
01EA CFE4 F000 08366         MOVFF   PREINC1, r0x06
01EE CFE4 F000 08367         MOVFF   PREINC1, r0x05
01F2 CFE4 F000 08368         MOVFF   PREINC1, r0x04
01F6 CFE4 F000 08369         MOVFF   PREINC1, r0x03
01FA CFE4 F000 08370         MOVFF   PREINC1, r0x02
01FE CFE4 F000 08371         MOVFF   PREINC1, r0x01
0202 CFE4 F000 08372         MOVFF   PREINC1, r0x00
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 161


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0206 CFE4 FFD9 08373         MOVFF   PREINC1, FSR2L
020A 0012      08374         RETURN  
               08375 
               08376 ; ; Starting pCode block
               08377 S_main__val_king        code
0000 08378 _val_king:
               08379 ;       .line   231; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_king(LOC from,BOOL piececolour)
0000 CFD9 FFE5 08380         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 08381         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 08382         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 08383         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 08384         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 08385         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 08386         MOVFF   r0x04, POSTDEC1
001C 0E02      08387         MOVLW   0x02
001E CFDB F000 08388         MOVFF   PLUSW2, r0x00
0022 0E03      08389         MOVLW   0x03
0024 CFDB F000 08390         MOVFF   PLUSW2, r0x01
0028 0E04      08391         MOVLW   0x04
002A CFDB F000 08392         MOVFF   PLUSW2, r0x02
002E 0E05      08393         MOVLW   0x05
0030 CFDB F000 08394         MOVFF   PLUSW2, r0x03
               08395 ;       .line   236; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (piececolour == WHITE)
0034 5000      08396         MOVF    r0x03, W
0036 E100      08397         BNZ     _00333_DS_
Error [113] : Symbol not previously defined (_bl_king_pos).
0038 0100      08398         BANKSEL _bl_king_pos
               08399 ;       .line   237; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { opp_king_pos[0] = bl_king_pos[0];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
003A 5100      08400         MOVF    _bl_king_pos, W, B
003C 0000      08401         BANKSEL _opp_king_pos
003E 6F00      08402         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_bl_king_pos).
0040 0100      08403         BANKSEL (_bl_king_pos + 1)
               08404 ;       .line   238; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      opp_king_pos[1] = bl_king_pos[1];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
0042 5100      08405         MOVF    (_bl_king_pos + 1), W, B
0044 0000      08406         BANKSEL (_opp_king_pos + 1)
0046 6F00      08407         MOVWF   (_opp_king_pos + 1), B
0048 D000      08408         BRA     _00334_DS_
004A 08409 _00333_DS_:
Error [113] : Symbol not previously defined (_wh_king_pos).
004A 0100      08410         BANKSEL _wh_king_pos
               08411 ;       .line   241; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { opp_king_pos[0] = wh_king_pos[0];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
004C 5100      08412         MOVF    _wh_king_pos, W, B
004E 0000      08413         BANKSEL _opp_king_pos
0050 6F00      08414         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_wh_king_pos).
0052 0100      08415         BANKSEL (_wh_king_pos + 1)
               08416 ;       .line   242; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      opp_king_pos[1] = wh_king_pos[1];
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 162


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0054 5100      08417         MOVF    (_wh_king_pos + 1), W, B
0056 0000      08418         BANKSEL (_opp_king_pos + 1)
0058 6F00      08419         MOVWF   (_opp_king_pos + 1), B
005A 08420 _00334_DS_:
               08421 ;       .line   247; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_north      (from,piececolour,1);
005A 0E01      08422         MOVLW   0x01
005C 6EE5      08423         MOVWF   POSTDEC1
005E 5000      08424         MOVF    r0x03, W
0060 6EE5      08425         MOVWF   POSTDEC1
0062 5000      08426         MOVF    r0x02, W
0064 6EE5      08427         MOVWF   POSTDEC1
0066 5000      08428         MOVF    r0x01, W
0068 6EE5      08429         MOVWF   POSTDEC1
006A 5000      08430         MOVF    r0x00, W
006C 6EE5      08431         MOVWF   POSTDEC1
006E EC00 F000 08432         CALL    _val_north
0072 0E05      08433         MOVLW   0x05
0074 26E1      08434         ADDWF   FSR1L, F
               08435 ;       .line   248; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_south      (from,piececolour,1);
0076 0E01      08436         MOVLW   0x01
0078 6EE5      08437         MOVWF   POSTDEC1
007A 5000      08438         MOVF    r0x03, W
007C 6EE5      08439         MOVWF   POSTDEC1
007E 5000      08440         MOVF    r0x02, W
0080 6EE5      08441         MOVWF   POSTDEC1
0082 5000      08442         MOVF    r0x01, W
0084 6EE5      08443         MOVWF   POSTDEC1
0086 5000      08444         MOVF    r0x00, W
0088 6EE5      08445         MOVWF   POSTDEC1
008A EC00 F000 08446         CALL    _val_south
008E 0E05      08447         MOVLW   0x05
0090 26E1      08448         ADDWF   FSR1L, F
               08449 ;       .line   249; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_east       (from,piececolour,1);
0092 0E01      08450         MOVLW   0x01
0094 6EE5      08451         MOVWF   POSTDEC1
0096 5000      08452         MOVF    r0x03, W
0098 6EE5      08453         MOVWF   POSTDEC1
009A 5000      08454         MOVF    r0x02, W
009C 6EE5      08455         MOVWF   POSTDEC1
009E 5000      08456         MOVF    r0x01, W
00A0 6EE5      08457         MOVWF   POSTDEC1
00A2 5000      08458         MOVF    r0x00, W
00A4 6EE5      08459         MOVWF   POSTDEC1
00A6 EC00 F000 08460         CALL    _val_east
00AA 0E05      08461         MOVLW   0x05
00AC 26E1      08462         ADDWF   FSR1L, F
               08463 ;       .line   250; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_west       (from,piececolour,1);
00AE 0E01      08464         MOVLW   0x01
00B0 6EE5      08465         MOVWF   POSTDEC1
00B2 5000      08466         MOVF    r0x03, W
00B4 6EE5      08467         MOVWF   POSTDEC1
00B6 5000      08468         MOVF    r0x02, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 163


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00B8 6EE5      08469         MOVWF   POSTDEC1
00BA 5000      08470         MOVF    r0x01, W
00BC 6EE5      08471         MOVWF   POSTDEC1
00BE 5000      08472         MOVF    r0x00, W
00C0 6EE5      08473         MOVWF   POSTDEC1
00C2 EC00 F000 08474         CALL    _val_west
00C6 0E05      08475         MOVLW   0x05
00C8 26E1      08476         ADDWF   FSR1L, F
               08477 ;       .line   251; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_northeast  (from,piececolour,1);
00CA 0E01      08478         MOVLW   0x01
00CC 6EE5      08479         MOVWF   POSTDEC1
00CE 5000      08480         MOVF    r0x03, W
00D0 6EE5      08481         MOVWF   POSTDEC1
00D2 5000      08482         MOVF    r0x02, W
00D4 6EE5      08483         MOVWF   POSTDEC1
00D6 5000      08484         MOVF    r0x01, W
00D8 6EE5      08485         MOVWF   POSTDEC1
00DA 5000      08486         MOVF    r0x00, W
00DC 6EE5      08487         MOVWF   POSTDEC1
00DE EC00 F000 08488         CALL    _val_northeast
00E2 0E05      08489         MOVLW   0x05
00E4 26E1      08490         ADDWF   FSR1L, F
               08491 ;       .line   252; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_northwest  (from,piececolour,1);
00E6 0E01      08492         MOVLW   0x01
00E8 6EE5      08493         MOVWF   POSTDEC1
00EA 5000      08494         MOVF    r0x03, W
00EC 6EE5      08495         MOVWF   POSTDEC1
00EE 5000      08496         MOVF    r0x02, W
00F0 6EE5      08497         MOVWF   POSTDEC1
00F2 5000      08498         MOVF    r0x01, W
00F4 6EE5      08499         MOVWF   POSTDEC1
00F6 5000      08500         MOVF    r0x00, W
00F8 6EE5      08501         MOVWF   POSTDEC1
00FA EC00 F000 08502         CALL    _val_northwest
00FE 0E05      08503         MOVLW   0x05
0100 26E1      08504         ADDWF   FSR1L, F
               08505 ;       .line   253; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_southeast  (from,piececolour,1);
0102 0E01      08506         MOVLW   0x01
0104 6EE5      08507         MOVWF   POSTDEC1
0106 5000      08508         MOVF    r0x03, W
0108 6EE5      08509         MOVWF   POSTDEC1
010A 5000      08510         MOVF    r0x02, W
010C 6EE5      08511         MOVWF   POSTDEC1
010E 5000      08512         MOVF    r0x01, W
0110 6EE5      08513         MOVWF   POSTDEC1
0112 5000      08514         MOVF    r0x00, W
0114 6EE5      08515         MOVWF   POSTDEC1
0116 EC00 F000 08516         CALL    _val_southeast
011A 0E05      08517         MOVLW   0x05
011C 26E1      08518         ADDWF   FSR1L, F
               08519 ;       .line   254; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_southwest  (from,piececolour,1);
011E 0E01      08520         MOVLW   0x01
0120 6EE5      08521         MOVWF   POSTDEC1
0122 5000      08522         MOVF    r0x03, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 164


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0124 6EE5      08523         MOVWF   POSTDEC1
0126 5000      08524         MOVF    r0x02, W
0128 6EE5      08525         MOVWF   POSTDEC1
012A 5000      08526         MOVF    r0x01, W
012C 6EE5      08527         MOVWF   POSTDEC1
012E 5000      08528         MOVF    r0x00, W
0130 6EE5      08529         MOVWF   POSTDEC1
0132 EC00 F000 08530         CALL    _val_southwest
0136 0E05      08531         MOVLW   0x05
0138 26E1      08532         ADDWF   FSR1L, F
               08533 ;       .line   257; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (piececolour & 0x08) 
013A A600      08534         BTFSS   r0x03, 3
013C D000      08535         BRA     _00336_DS_
               08536 ;       .line   258; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { tmp = bl_base_cont;
Error [113] : Symbol not previously defined (_bl_base_cont).
013E C000 F000 08537         MOVFF   _bl_base_cont, r0x00
               08538 ;       .line   259; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      row = MAX_ROW;
0142 0E07      08539         MOVLW   0x07
0144 6E00      08540         MOVWF   r0x01
0146 D000      08541         BRA     _00337_DS_
0148 08542 _00336_DS_:
               08543 ;       .line   262; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { tmp = wh_base_cont;
Error [113] : Symbol not previously defined (_wh_base_cont).
0148 C000 F000 08544         MOVFF   _wh_base_cont, r0x00
               08545 ;       .line   263; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      row = MIN_ROW;
014C 6A00      08546         CLRF    r0x01
014E 08547 _00337_DS_:
               08548 ;       .line   266; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if ((tmp & 0x1F)== 0x11)
014E 0E1F      08549         MOVLW   0x1f
0150 1400      08550         ANDWF   r0x00, W
               08551 ; #     MOVWF   r0x02
               08552 ; #     MOVF    r0x02, W
0152 0A11      08553         XORLW   0x11
0154 E100      08554         BNZ     _00339_DS_
               08555 ;       .line   268; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= 0x04;
Error [113] : Symbol not previously defined (_validmovemask).
0156 0E00      08556         MOVLW   LOW(_validmovemask)
0158 2400      08557         ADDWF   r0x01, W
015A 6E00      08558         MOVWF   r0x02
015C 6A00      08559         CLRF    r0x03
Error [113] : Symbol not previously defined (_validmovemask).
015E 0E00      08560         MOVLW   HIGH(_validmovemask)
0160 2200      08561         ADDWFC  r0x03, F
0162 C000 FFE9 08562         MOVFF   r0x02, FSR0L
0166 C000 FFEA 08563         MOVFF   r0x03, FSR0H
016A CFEF F000 08564         MOVFF   INDF0, r0x04
016E 8400      08565         BSF     r0x04, 2
0170 C000 FFE9 08566         MOVFF   r0x02, FSR0L
0174 C000 FFEA 08567         MOVFF   r0x03, FSR0H
0178 C000 FFEF 08568         MOVFF   r0x04, INDF0
017C 08569 _00339_DS_:
               08570 ;       .line   271; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if ((tmp & 0xF0)==0x90) 
017C 0EF0      08571         MOVLW   0xf0
017E 1600      08572         ANDWF   r0x00, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 165


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0180 5000      08573         MOVF    r0x00, W
0182 0A90      08574         XORLW   0x90
0184 E100      08575         BNZ     _00342_DS_
               08576 ;       .line   273; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= 0x40;
0186 6A00      08577         CLRF    r0x00
Error [113] : Symbol not previously defined (_validmovemask).
0188 0E00      08578         MOVLW   LOW(_validmovemask)
018A 2600      08579         ADDWF   r0x01, F
Error [113] : Symbol not previously defined (_validmovemask).
018C 0E00      08580         MOVLW   HIGH(_validmovemask)
018E 2200      08581         ADDWFC  r0x00, F
0190 C000 FFE9 08582         MOVFF   r0x01, FSR0L
0194 C000 FFEA 08583         MOVFF   r0x00, FSR0H
0198 CFEF F000 08584         MOVFF   INDF0, r0x02
019C 8C00      08585         BSF     r0x02, 6
019E C000 FFE9 08586         MOVFF   r0x01, FSR0L
01A2 C000 FFEA 08587         MOVFF   r0x00, FSR0H
01A6 C000 FFEF 08588         MOVFF   r0x02, INDF0
01AA 08589 _00342_DS_:
01AA CFE4 F000 08590         MOVFF   PREINC1, r0x04
01AE CFE4 F000 08591         MOVFF   PREINC1, r0x03
01B2 CFE4 F000 08592         MOVFF   PREINC1, r0x02
01B6 CFE4 F000 08593         MOVFF   PREINC1, r0x01
01BA CFE4 F000 08594         MOVFF   PREINC1, r0x00
01BE CFE4 FFD9 08595         MOVFF   PREINC1, FSR2L
01C2 0012      08596         RETURN  
               08597 
               08598 ; ; Starting pCode block
               08599 S_main__val_queen       code
0000 08600 _val_queen:
               08601 ;       .line   204; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_queen(LOC from,BOOL piececolour)
0000 CFD9 FFE5 08602         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 08603         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 08604         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 08605         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 08606         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 08607         MOVFF   r0x03, POSTDEC1
0018 0E02      08608         MOVLW   0x02
001A CFDB F000 08609         MOVFF   PLUSW2, r0x00
001E 0E03      08610         MOVLW   0x03
0020 CFDB F000 08611         MOVFF   PLUSW2, r0x01
0024 0E04      08612         MOVLW   0x04
0026 CFDB F000 08613         MOVFF   PLUSW2, r0x02
002A 0E05      08614         MOVLW   0x05
002C CFDB F000 08615         MOVFF   PLUSW2, r0x03
               08616 ;       .line   211; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (piececolour == WHITE)
0030 5000      08617         MOVF    r0x03, W
0032 E100      08618         BNZ     _00325_DS_
Error [113] : Symbol not previously defined (_bl_king_pos).
0034 0100      08619         BANKSEL _bl_king_pos
               08620 ;       .line   212; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { opp_king_pos[0] = bl_king_pos[0];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
0036 5100      08621         MOVF    _bl_king_pos, W, B
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 166


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0038 0000      08622         BANKSEL _opp_king_pos
003A 6F00      08623         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_bl_king_pos).
003C 0100      08624         BANKSEL (_bl_king_pos + 1)
               08625 ;       .line   213; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      opp_king_pos[1] = bl_king_pos[1];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
003E 5100      08626         MOVF    (_bl_king_pos + 1), W, B
0040 0000      08627         BANKSEL (_opp_king_pos + 1)
0042 6F00      08628         MOVWF   (_opp_king_pos + 1), B
0044 D000      08629         BRA     _00326_DS_
0046 08630 _00325_DS_:
Error [113] : Symbol not previously defined (_wh_king_pos).
0046 0100      08631         BANKSEL _wh_king_pos
               08632 ;       .line   216; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { opp_king_pos[0] = wh_king_pos[0];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0048 5100      08633         MOVF    _wh_king_pos, W, B
004A 0000      08634         BANKSEL _opp_king_pos
004C 6F00      08635         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_wh_king_pos).
004E 0100      08636         BANKSEL (_wh_king_pos + 1)
               08637 ;       .line   217; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      opp_king_pos[1] = wh_king_pos[1];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0050 5100      08638         MOVF    (_wh_king_pos + 1), W, B
0052 0000      08639         BANKSEL (_opp_king_pos + 1)
0054 6F00      08640         MOVWF   (_opp_king_pos + 1), B
0056 08641 _00326_DS_:
               08642 ;       .line   221; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_north      (from,piececolour,-1);
0056 68E5      08643         SETF    POSTDEC1
0058 5000      08644         MOVF    r0x03, W
005A 6EE5      08645         MOVWF   POSTDEC1
005C 5000      08646         MOVF    r0x02, W
005E 6EE5      08647         MOVWF   POSTDEC1
0060 5000      08648         MOVF    r0x01, W
0062 6EE5      08649         MOVWF   POSTDEC1
0064 5000      08650         MOVF    r0x00, W
0066 6EE5      08651         MOVWF   POSTDEC1
0068 EC00 F000 08652         CALL    _val_north
006C 0E05      08653         MOVLW   0x05
006E 26E1      08654         ADDWF   FSR1L, F
               08655 ;       .line   222; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_south      (from,piececolour,-1);
0070 68E5      08656         SETF    POSTDEC1
0072 5000      08657         MOVF    r0x03, W
0074 6EE5      08658         MOVWF   POSTDEC1
0076 5000      08659         MOVF    r0x02, W
0078 6EE5      08660         MOVWF   POSTDEC1
007A 5000      08661         MOVF    r0x01, W
007C 6EE5      08662         MOVWF   POSTDEC1
007E 5000      08663         MOVF    r0x00, W
0080 6EE5      08664         MOVWF   POSTDEC1
0082 EC00 F000 08665         CALL    _val_south
0086 0E05      08666         MOVLW   0x05
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 167


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0088 26E1      08667         ADDWF   FSR1L, F
               08668 ;       .line   223; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_east       (from,piececolour,-1);
008A 68E5      08669         SETF    POSTDEC1
008C 5000      08670         MOVF    r0x03, W
008E 6EE5      08671         MOVWF   POSTDEC1
0090 5000      08672         MOVF    r0x02, W
0092 6EE5      08673         MOVWF   POSTDEC1
0094 5000      08674         MOVF    r0x01, W
0096 6EE5      08675         MOVWF   POSTDEC1
0098 5000      08676         MOVF    r0x00, W
009A 6EE5      08677         MOVWF   POSTDEC1
009C EC00 F000 08678         CALL    _val_east
00A0 0E05      08679         MOVLW   0x05
00A2 26E1      08680         ADDWF   FSR1L, F
               08681 ;       .line   224; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_west       (from,piececolour,-1);
00A4 68E5      08682         SETF    POSTDEC1
00A6 5000      08683         MOVF    r0x03, W
00A8 6EE5      08684         MOVWF   POSTDEC1
00AA 5000      08685         MOVF    r0x02, W
00AC 6EE5      08686         MOVWF   POSTDEC1
00AE 5000      08687         MOVF    r0x01, W
00B0 6EE5      08688         MOVWF   POSTDEC1
00B2 5000      08689         MOVF    r0x00, W
00B4 6EE5      08690         MOVWF   POSTDEC1
00B6 EC00 F000 08691         CALL    _val_west
00BA 0E05      08692         MOVLW   0x05
00BC 26E1      08693         ADDWF   FSR1L, F
               08694 ;       .line   225; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_northeast  (from,piececolour,-1);
00BE 68E5      08695         SETF    POSTDEC1
00C0 5000      08696         MOVF    r0x03, W
00C2 6EE5      08697         MOVWF   POSTDEC1
00C4 5000      08698         MOVF    r0x02, W
00C6 6EE5      08699         MOVWF   POSTDEC1
00C8 5000      08700         MOVF    r0x01, W
00CA 6EE5      08701         MOVWF   POSTDEC1
00CC 5000      08702         MOVF    r0x00, W
00CE 6EE5      08703         MOVWF   POSTDEC1
00D0 EC00 F000 08704         CALL    _val_northeast
00D4 0E05      08705         MOVLW   0x05
00D6 26E1      08706         ADDWF   FSR1L, F
               08707 ;       .line   226; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_northwest  (from,piececolour,-1);
00D8 68E5      08708         SETF    POSTDEC1
00DA 5000      08709         MOVF    r0x03, W
00DC 6EE5      08710         MOVWF   POSTDEC1
00DE 5000      08711         MOVF    r0x02, W
00E0 6EE5      08712         MOVWF   POSTDEC1
00E2 5000      08713         MOVF    r0x01, W
00E4 6EE5      08714         MOVWF   POSTDEC1
00E6 5000      08715         MOVF    r0x00, W
00E8 6EE5      08716         MOVWF   POSTDEC1
00EA EC00 F000 08717         CALL    _val_northwest
00EE 0E05      08718         MOVLW   0x05
00F0 26E1      08719         ADDWF   FSR1L, F
               08720 ;       .line   227; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_southeast  (from,piececolour,-1);
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 168


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00F2 68E5      08721         SETF    POSTDEC1
00F4 5000      08722         MOVF    r0x03, W
00F6 6EE5      08723         MOVWF   POSTDEC1
00F8 5000      08724         MOVF    r0x02, W
00FA 6EE5      08725         MOVWF   POSTDEC1
00FC 5000      08726         MOVF    r0x01, W
00FE 6EE5      08727         MOVWF   POSTDEC1
0100 5000      08728         MOVF    r0x00, W
0102 6EE5      08729         MOVWF   POSTDEC1
0104 EC00 F000 08730         CALL    _val_southeast
0108 0E05      08731         MOVLW   0x05
010A 26E1      08732         ADDWF   FSR1L, F
               08733 ;       .line   228; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_southwest  (from,piececolour,-1);
010C 68E5      08734         SETF    POSTDEC1
010E 5000      08735         MOVF    r0x03, W
0110 6EE5      08736         MOVWF   POSTDEC1
0112 5000      08737         MOVF    r0x02, W
0114 6EE5      08738         MOVWF   POSTDEC1
0116 5000      08739         MOVF    r0x01, W
0118 6EE5      08740         MOVWF   POSTDEC1
011A 5000      08741         MOVF    r0x00, W
011C 6EE5      08742         MOVWF   POSTDEC1
011E EC00 F000 08743         CALL    _val_southwest
0122 0E05      08744         MOVLW   0x05
0124 26E1      08745         ADDWF   FSR1L, F
0126 CFE4 F000 08746         MOVFF   PREINC1, r0x03
012A CFE4 F000 08747         MOVFF   PREINC1, r0x02
012E CFE4 F000 08748         MOVFF   PREINC1, r0x01
0132 CFE4 F000 08749         MOVFF   PREINC1, r0x00
0136 CFE4 FFD9 08750         MOVFF   PREINC1, FSR2L
013A 0012      08751         RETURN  
               08752 
               08753 ; ; Starting pCode block
               08754 S_main__val_rook        code
0000 08755 _val_rook:
               08756 ;       .line   183; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      void val_rook(LOC from,BOOL piececolour)
0000 CFD9 FFE5 08757         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 08758         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 08759         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 08760         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 08761         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 08762         MOVFF   r0x03, POSTDEC1
0018 0E02      08763         MOVLW   0x02
001A CFDB F000 08764         MOVFF   PLUSW2, r0x00
001E 0E03      08765         MOVLW   0x03
0020 CFDB F000 08766         MOVFF   PLUSW2, r0x01
0024 0E04      08767         MOVLW   0x04
0026 CFDB F000 08768         MOVFF   PLUSW2, r0x02
002A 0E05      08769         MOVLW   0x05
002C CFDB F000 08770         MOVFF   PLUSW2, r0x03
               08771 ;       .line   188; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (piececolour == WHITE)
0030 5000      08772         MOVF    r0x03, W
0032 E100      08773         BNZ     _00317_DS_
Error [113] : Symbol not previously defined (_bl_king_pos).
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 169


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0034 0100      08774         BANKSEL _bl_king_pos
               08775 ;       .line   189; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { opp_king_pos[0] = bl_king_pos[0];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
0036 5100      08776         MOVF    _bl_king_pos, W, B
0038 0000      08777         BANKSEL _opp_king_pos
003A 6F00      08778         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_bl_king_pos).
003C 0100      08779         BANKSEL (_bl_king_pos + 1)
               08780 ;       .line   190; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      opp_king_pos[1] = bl_king_pos[1];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
003E 5100      08781         MOVF    (_bl_king_pos + 1), W, B
0040 0000      08782         BANKSEL (_opp_king_pos + 1)
0042 6F00      08783         MOVWF   (_opp_king_pos + 1), B
0044 D000      08784         BRA     _00318_DS_
0046 08785 _00317_DS_:
Error [113] : Symbol not previously defined (_wh_king_pos).
0046 0100      08786         BANKSEL _wh_king_pos
               08787 ;       .line   193; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { opp_king_pos[0] = wh_king_pos[0];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0048 5100      08788         MOVF    _wh_king_pos, W, B
004A 0000      08789         BANKSEL _opp_king_pos
004C 6F00      08790         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_wh_king_pos).
004E 0100      08791         BANKSEL (_wh_king_pos + 1)
               08792 ;       .line   194; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      opp_king_pos[1] = wh_king_pos[1];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0050 5100      08793         MOVF    (_wh_king_pos + 1), W, B
0052 0000      08794         BANKSEL (_opp_king_pos + 1)
0054 6F00      08795         MOVWF   (_opp_king_pos + 1), B
0056 08796 _00318_DS_:
               08797 ;       .line   198; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_north (from,piececolour,-1);
0056 68E5      08798         SETF    POSTDEC1
0058 5000      08799         MOVF    r0x03, W
005A 6EE5      08800         MOVWF   POSTDEC1
005C 5000      08801         MOVF    r0x02, W
005E 6EE5      08802         MOVWF   POSTDEC1
0060 5000      08803         MOVF    r0x01, W
0062 6EE5      08804         MOVWF   POSTDEC1
0064 5000      08805         MOVF    r0x00, W
0066 6EE5      08806         MOVWF   POSTDEC1
0068 EC00 F000 08807         CALL    _val_north
006C 0E05      08808         MOVLW   0x05
006E 26E1      08809         ADDWF   FSR1L, F
               08810 ;       .line   199; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_south (from,piececolour,-1);
0070 68E5      08811         SETF    POSTDEC1
0072 5000      08812         MOVF    r0x03, W
0074 6EE5      08813         MOVWF   POSTDEC1
0076 5000      08814         MOVF    r0x02, W
0078 6EE5      08815         MOVWF   POSTDEC1
007A 5000      08816         MOVF    r0x01, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 170


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
007C 6EE5      08817         MOVWF   POSTDEC1
007E 5000      08818         MOVF    r0x00, W
0080 6EE5      08819         MOVWF   POSTDEC1
0082 EC00 F000 08820         CALL    _val_south
0086 0E05      08821         MOVLW   0x05
0088 26E1      08822         ADDWF   FSR1L, F
               08823 ;       .line   200; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_east  (from,piececolour,-1);
008A 68E5      08824         SETF    POSTDEC1
008C 5000      08825         MOVF    r0x03, W
008E 6EE5      08826         MOVWF   POSTDEC1
0090 5000      08827         MOVF    r0x02, W
0092 6EE5      08828         MOVWF   POSTDEC1
0094 5000      08829         MOVF    r0x01, W
0096 6EE5      08830         MOVWF   POSTDEC1
0098 5000      08831         MOVF    r0x00, W
009A 6EE5      08832         MOVWF   POSTDEC1
009C EC00 F000 08833         CALL    _val_east
00A0 0E05      08834         MOVLW   0x05
00A2 26E1      08835         ADDWF   FSR1L, F
               08836 ;       .line   201; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      val_west  (from,piececolour,-1);
00A4 68E5      08837         SETF    POSTDEC1
00A6 5000      08838         MOVF    r0x03, W
00A8 6EE5      08839         MOVWF   POSTDEC1
00AA 5000      08840         MOVF    r0x02, W
00AC 6EE5      08841         MOVWF   POSTDEC1
00AE 5000      08842         MOVF    r0x01, W
00B0 6EE5      08843         MOVWF   POSTDEC1
00B2 5000      08844         MOVF    r0x00, W
00B4 6EE5      08845         MOVWF   POSTDEC1
00B6 EC00 F000 08846         CALL    _val_west
00BA 0E05      08847         MOVLW   0x05
00BC 26E1      08848         ADDWF   FSR1L, F
00BE CFE4 F000 08849         MOVFF   PREINC1, r0x03
00C2 CFE4 F000 08850         MOVFF   PREINC1, r0x02
00C6 CFE4 F000 08851         MOVFF   PREINC1, r0x01
00CA CFE4 F000 08852         MOVFF   PREINC1, r0x00
00CE CFE4 FFD9 08853         MOVFF   PREINC1, FSR2L
00D2 0012      08854         RETURN  
               08855 
               08856 ; ; Starting pCode block
               08857 S_main__val_knight      code
0000 08858 _val_knight:
               08859 ;       .line   98; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       void val_knight(LOC from,BOOL piececolour)
0000 CFD9 FFE5 08860         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 08861         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 08862         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 08863         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 08864         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 08865         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 08866         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 08867         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 08868         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 08869         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 08870         MOVFF   r0x08, POSTDEC1
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 171


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
002C C000 FFE5 08871         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 08872         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 08873         MOVFF   r0x0b, POSTDEC1
0038 0E02      08874         MOVLW   0x02
003A CFDB F000 08875         MOVFF   PLUSW2, r0x00
003E 0E03      08876         MOVLW   0x03
0040 CFDB F000 08877         MOVFF   PLUSW2, r0x01
0044 0E04      08878         MOVLW   0x04
0046 CFDB F000 08879         MOVFF   PLUSW2, r0x02
004A 0E05      08880         MOVLW   0x05
004C CFDB F000 08881         MOVFF   PLUSW2, r0x03
               08882 ;       .line   103; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { unsigned char mask = 0,i = 0;
0050 6A00      08883         CLRF    r0x04
0052 0000      08884         BANKSEL _val_knight_move_1_1
               08885 ;       .line   107; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      int move[] = {0, 2, 1, 0, 2, -1, 0, 1, 2, 0, 1, -2, 0, -1, 2, 0, -1, -2, 0, -2, -1, 0, -2, 1};
0054 6B00      08886         CLRF    _val_knight_move_1_1, B
               08887 ; removed redundant BANKSEL
0056 6B00      08888         CLRF    (_val_knight_move_1_1 + 1), B
0058 0E02      08889         MOVLW   0x02
               08890 ; removed redundant BANKSEL
005A 6F00      08891         MOVWF   (_val_knight_move_1_1 + 2), B
               08892 ; removed redundant BANKSEL
005C 6B00      08893         CLRF    (_val_knight_move_1_1 + 3), B
005E 0E01      08894         MOVLW   0x01
               08895 ; removed redundant BANKSEL
0060 6F00      08896         MOVWF   (_val_knight_move_1_1 + 4), B
               08897 ; removed redundant BANKSEL
0062 6B00      08898         CLRF    (_val_knight_move_1_1 + 5), B
               08899 ; removed redundant BANKSEL
0064 6B00      08900         CLRF    (_val_knight_move_1_1 + 6), B
               08901 ; removed redundant BANKSEL
0066 6B00      08902         CLRF    (_val_knight_move_1_1 + 7), B
0068 0E02      08903         MOVLW   0x02
               08904 ; removed redundant BANKSEL
006A 6F00      08905         MOVWF   (_val_knight_move_1_1 + 8), B
               08906 ; removed redundant BANKSEL
006C 6B00      08907         CLRF    (_val_knight_move_1_1 + 9), B
               08908 ; removed redundant BANKSEL
006E 6900      08909         SETF    (_val_knight_move_1_1 + 10), B
               08910 ; removed redundant BANKSEL
0070 6900      08911         SETF    (_val_knight_move_1_1 + 11), B
               08912 ; removed redundant BANKSEL
0072 6B00      08913         CLRF    (_val_knight_move_1_1 + 12), B
               08914 ; removed redundant BANKSEL
0074 6B00      08915         CLRF    (_val_knight_move_1_1 + 13), B
0076 0E01      08916         MOVLW   0x01
               08917 ; removed redundant BANKSEL
0078 6F00      08918         MOVWF   (_val_knight_move_1_1 + 14), B
               08919 ; removed redundant BANKSEL
007A 6B00      08920         CLRF    (_val_knight_move_1_1 + 15), B
007C 0E02      08921         MOVLW   0x02
               08922 ; removed redundant BANKSEL
007E 6F00      08923         MOVWF   (_val_knight_move_1_1 + 16), B
               08924 ; removed redundant BANKSEL
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 172


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0080 6B00      08925         CLRF    (_val_knight_move_1_1 + 17), B
               08926 ; removed redundant BANKSEL
0082 6B00      08927         CLRF    (_val_knight_move_1_1 + 18), B
               08928 ; removed redundant BANKSEL
0084 6B00      08929         CLRF    (_val_knight_move_1_1 + 19), B
0086 0E01      08930         MOVLW   0x01
               08931 ; removed redundant BANKSEL
0088 6F00      08932         MOVWF   (_val_knight_move_1_1 + 20), B
               08933 ; removed redundant BANKSEL
008A 6B00      08934         CLRF    (_val_knight_move_1_1 + 21), B
008C 0EFE      08935         MOVLW   0xfe
               08936 ; removed redundant BANKSEL
008E 6F00      08937         MOVWF   (_val_knight_move_1_1 + 22), B
               08938 ; removed redundant BANKSEL
0090 6900      08939         SETF    (_val_knight_move_1_1 + 23), B
               08940 ; removed redundant BANKSEL
0092 6B00      08941         CLRF    (_val_knight_move_1_1 + 24), B
               08942 ; removed redundant BANKSEL
0094 6B00      08943         CLRF    (_val_knight_move_1_1 + 25), B
               08944 ; removed redundant BANKSEL
0096 6900      08945         SETF    (_val_knight_move_1_1 + 26), B
               08946 ; removed redundant BANKSEL
0098 6900      08947         SETF    (_val_knight_move_1_1 + 27), B
009A 0E02      08948         MOVLW   0x02
               08949 ; removed redundant BANKSEL
009C 6F00      08950         MOVWF   (_val_knight_move_1_1 + 28), B
               08951 ; removed redundant BANKSEL
009E 6B00      08952         CLRF    (_val_knight_move_1_1 + 29), B
               08953 ; removed redundant BANKSEL
00A0 6B00      08954         CLRF    (_val_knight_move_1_1 + 30), B
               08955 ; removed redundant BANKSEL
00A2 6B00      08956         CLRF    (_val_knight_move_1_1 + 31), B
               08957 ; removed redundant BANKSEL
00A4 6900      08958         SETF    (_val_knight_move_1_1 + 32), B
               08959 ; removed redundant BANKSEL
00A6 6900      08960         SETF    (_val_knight_move_1_1 + 33), B
00A8 0EFE      08961         MOVLW   0xfe
               08962 ; removed redundant BANKSEL
00AA 6F00      08963         MOVWF   (_val_knight_move_1_1 + 34), B
               08964 ; removed redundant BANKSEL
00AC 6900      08965         SETF    (_val_knight_move_1_1 + 35), B
               08966 ; removed redundant BANKSEL
00AE 6B00      08967         CLRF    (_val_knight_move_1_1 + 36), B
               08968 ; removed redundant BANKSEL
00B0 6B00      08969         CLRF    (_val_knight_move_1_1 + 37), B
               08970 ; removed redundant BANKSEL
00B2 6F00      08971         MOVWF   (_val_knight_move_1_1 + 38), B
               08972 ; removed redundant BANKSEL
00B4 6900      08973         SETF    (_val_knight_move_1_1 + 39), B
               08974 ; removed redundant BANKSEL
00B6 6900      08975         SETF    (_val_knight_move_1_1 + 40), B
               08976 ; removed redundant BANKSEL
00B8 6900      08977         SETF    (_val_knight_move_1_1 + 41), B
               08978 ; removed redundant BANKSEL
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 173


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00BA 6B00      08979         CLRF    (_val_knight_move_1_1 + 42), B
               08980 ; removed redundant BANKSEL
00BC 6B00      08981         CLRF    (_val_knight_move_1_1 + 43), B
               08982 ; removed redundant BANKSEL
00BE 6F00      08983         MOVWF   (_val_knight_move_1_1 + 44), B
               08984 ; removed redundant BANKSEL
00C0 6900      08985         SETF    (_val_knight_move_1_1 + 45), B
00C2 0E01      08986         MOVLW   0x01
               08987 ; removed redundant BANKSEL
00C4 6F00      08988         MOVWF   (_val_knight_move_1_1 + 46), B
               08989 ; removed redundant BANKSEL
00C6 6B00      08990         CLRF    (_val_knight_move_1_1 + 47), B
               08991 ;       .line   110; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (piececolour == WHITE)
00C8 5000      08992         MOVF    r0x03, W
00CA E100      08993         BNZ     _00200_DS_
Error [113] : Symbol not previously defined (_bl_king_pos).
00CC 0100      08994         BANKSEL _bl_king_pos
               08995 ;       .line   111; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { opp_king_pos[0] = bl_king_pos[0];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
00CE 5100      08996         MOVF    _bl_king_pos, W, B
00D0 0000      08997         BANKSEL _opp_king_pos
00D2 6F00      08998         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_bl_king_pos).
00D4 0100      08999         BANKSEL (_bl_king_pos + 1)
               09000 ;       .line   112; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      opp_king_pos[1] = bl_king_pos[1];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
00D6 5100      09001         MOVF    (_bl_king_pos + 1), W, B
00D8 0000      09002         BANKSEL (_opp_king_pos + 1)
00DA 6F00      09003         MOVWF   (_opp_king_pos + 1), B
00DC D000      09004         BRA     _00201_DS_
00DE 09005 _00200_DS_:
Error [113] : Symbol not previously defined (_wh_king_pos).
00DE 0100      09006         BANKSEL _wh_king_pos
               09007 ;       .line   115; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { opp_king_pos[0] = wh_king_pos[0];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
00E0 5100      09008         MOVF    _wh_king_pos, W, B
00E2 0000      09009         BANKSEL _opp_king_pos
00E4 6F00      09010         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_wh_king_pos).
00E6 0100      09011         BANKSEL (_wh_king_pos + 1)
               09012 ;       .line   116; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      opp_king_pos[1] = wh_king_pos[1];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
00E8 5100      09013         MOVF    (_wh_king_pos + 1), W, B
00EA 0000      09014         BANKSEL (_opp_king_pos + 1)
00EC 6F00      09015         MOVWF   (_opp_king_pos + 1), B
00EE 09016 _00201_DS_:
               09017 ;       .line   120; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      switch (from[0])
00EE C000 FFE9 09018         MOVFF   r0x00, FSR0L
00F2 C000 FFF3 09019         MOVFF   r0x01, PRODL
00F6 5000      09020         MOVF    r0x02, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 174


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00F8 EC00 F000 09021         CALL    __gptrget1
00FC 6E00      09022         MOVWF   r0x05
00FE 0E08      09023         MOVLW   0x08
0100 5C00      09024         SUBWF   r0x05, W
0102 E200      09025         BC      _00210_DS_
0104 C000 FFE5 09026         MOVFF   r0x0c, POSTDEC1
0108 C000 FFE5 09027         MOVFF   r0x0d, POSTDEC1
010C 6A00      09028         CLRF    r0x0d
010E 3400      09029         RLCF    r0x05, W
0110 3600      09030         RLCF    r0x0d, F
0112 34E8      09031         RLCF    WREG, W
0114 3600      09032         RLCF    r0x0d, F
0116 0BFC      09033         ANDLW   0xfc
0118 6E00      09034         MOVWF   r0x0c
011A 0E00      09035         MOVLW   UPPER(_00280_DS_)
011C 6EFB      09036         MOVWF   PCLATU
011E 0E00      09037         MOVLW   HIGH(_00280_DS_)
0120 6EFA      09038         MOVWF   PCLATH
0122 0E00      09039         MOVLW   LOW(_00280_DS_)
0124 2600      09040         ADDWF   r0x0c, F
0126 5000      09041         MOVF    r0x0d, W
0128 22FA      09042         ADDWFC  PCLATH, F
012A B0D8      09043         BTFSC   STATUS, 0
012C 2AFB      09044         INCF    PCLATU, F
012E 5000      09045         MOVF    r0x0c, W
0130 CFE4 F000 09046         MOVFF   PREINC1, r0x0d
0134 CFE4 F000 09047         MOVFF   PREINC1, r0x0c
0138 6EF9      09048         MOVWF   PCL
013A 09049 _00280_DS_:
013A EF00 F000 09050         GOTO    _00202_DS_
013E EF00 F000 09051         GOTO    _00203_DS_
0142 EF00 F000 09052         GOTO    _00209_DS_
0146 EF00 F000 09053         GOTO    _00209_DS_
014A EF00 F000 09054         GOTO    _00209_DS_
014E EF00 F000 09055         GOTO    _00209_DS_
0152 EF00 F000 09056         GOTO    _00204_DS_
0156 EF00 F000 09057         GOTO    _00205_DS_
015A 09058 _00202_DS_:
               09059 ;       .line   121; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { case 0 : mask |=  0x03;   break; // Two up  - None down.
015A 0E03      09060         MOVLW   0x03
015C 6E00      09061         MOVWF   r0x04
015E D000      09062         BRA     _00210_DS_
0160 09063 _00203_DS_:
               09064 ;       .line   122; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      case 1 : mask |=  0x07;   break; // Two up  - One down.
0160 0E07      09065         MOVLW   0x07
0162 6E00      09066         MOVWF   r0x04
0164 D000      09067         BRA     _00210_DS_
0166 09068 _00204_DS_:
               09069 ;       .line   123; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      case 6 : mask |=  0x0D;   break; // One up  - Two down.
0166 0E0D      09070         MOVLW   0x0d
0168 6E00      09071         MOVWF   r0x04
016A D000      09072         BRA     _00210_DS_
016C 09073 _00205_DS_:
               09074 ;       .line   124; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      case 7 : mask |=  0x0C;   break; // None up - Two down.
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 175


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
016C 0E0C      09075         MOVLW   0x0c
016E 6E00      09076         MOVWF   r0x04
0170 D000      09077         BRA     _00210_DS_
0172 09078 _00209_DS_:
               09079 ;       .line   128; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      case 5 : mask |=  0x0F;   break; // Two up  - Two down.
0172 0E0F      09080         MOVLW   0x0f
0174 6E00      09081         MOVWF   r0x04
0176 09082 _00210_DS_:
               09083 ;       .line   132; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      switch (from[1])
0176 2A00      09084         INCF    r0x00, F
0178 B0D8      09085         BTFSC   STATUS, 0
017A 2A00      09086         INCF    r0x01, F
017C B0D8      09087         BTFSC   STATUS, 0
017E 2A00      09088         INCF    r0x02, F
0180 C000 FFE9 09089         MOVFF   r0x00, FSR0L
0184 C000 FFF3 09090         MOVFF   r0x01, PRODL
0188 5000      09091         MOVF    r0x02, W
018A EC00 F000 09092         CALL    __gptrget1
018E 6E00      09093         MOVWF   r0x00
0190 0E08      09094         MOVLW   0x08
0192 5C00      09095         SUBWF   r0x00, W
0194 E200      09096         BC      _00219_DS_
0196 C000 FFE5 09097         MOVFF   r0x0c, POSTDEC1
019A C000 FFE5 09098         MOVFF   r0x0d, POSTDEC1
019E 6A00      09099         CLRF    r0x0d
01A0 3400      09100         RLCF    r0x00, W
01A2 3600      09101         RLCF    r0x0d, F
01A4 34E8      09102         RLCF    WREG, W
01A6 3600      09103         RLCF    r0x0d, F
01A8 0BFC      09104         ANDLW   0xfc
01AA 6E00      09105         MOVWF   r0x0c
01AC 0E00      09106         MOVLW   UPPER(_00282_DS_)
01AE 6EFB      09107         MOVWF   PCLATU
01B0 0E00      09108         MOVLW   HIGH(_00282_DS_)
01B2 6EFA      09109         MOVWF   PCLATH
01B4 0E00      09110         MOVLW   LOW(_00282_DS_)
01B6 2600      09111         ADDWF   r0x0c, F
01B8 5000      09112         MOVF    r0x0d, W
01BA 22FA      09113         ADDWFC  PCLATH, F
01BC B0D8      09114         BTFSC   STATUS, 0
01BE 2AFB      09115         INCF    PCLATU, F
01C0 5000      09116         MOVF    r0x0c, W
01C2 CFE4 F000 09117         MOVFF   PREINC1, r0x0d
01C6 CFE4 F000 09118         MOVFF   PREINC1, r0x0c
01CA 6EF9      09119         MOVWF   PCL
01CC 09120 _00282_DS_:
01CC EF00 F000 09121         GOTO    _00211_DS_
01D0 EF00 F000 09122         GOTO    _00212_DS_
01D4 EF00 F000 09123         GOTO    _00218_DS_
01D8 EF00 F000 09124         GOTO    _00218_DS_
01DC EF00 F000 09125         GOTO    _00218_DS_
01E0 EF00 F000 09126         GOTO    _00218_DS_
01E4 EF00 F000 09127         GOTO    _00213_DS_
01E8 EF00 F000 09128         GOTO    _00214_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 176


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01EC 09129 _00211_DS_:
               09130 ;       .line   133; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { case 0 : mask |=  0xC0;   break; // None left - Two right.
01EC 0EC0      09131         MOVLW   0xc0
01EE 1200      09132         IORWF   r0x04, F
01F0 D000      09133         BRA     _00219_DS_
01F2 09134 _00212_DS_:
               09135 ;       .line   134; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      case 1 : mask |=  0xD0;   break; // One left  - Two right.
01F2 0ED0      09136         MOVLW   0xd0
01F4 1200      09137         IORWF   r0x04, F
01F6 D000      09138         BRA     _00219_DS_
01F8 09139 _00213_DS_:
               09140 ;       .line   135; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      case 6 : mask |=  0x70;   break; // Two left  - One right.
01F8 0E70      09141         MOVLW   0x70
01FA 1200      09142         IORWF   r0x04, F
01FC D000      09143         BRA     _00219_DS_
01FE 09144 _00214_DS_:
               09145 ;       .line   136; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      case 7 : mask |=  0x30;   break; // Two left  - None right.
01FE 0E30      09146         MOVLW   0x30
0200 1200      09147         IORWF   r0x04, F
0202 D000      09148         BRA     _00219_DS_
0204 09149 _00218_DS_:
               09150 ;       .line   140; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      case 5 : mask |=  0xF0;   break; // Two left  - Two right.
0204 0EF0      09151         MOVLW   0xf0
0206 1200      09152         IORWF   r0x04, F
0208 09153 _00219_DS_:
               09154 ;       .line   154; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      move[0]  = up2_rgt1;
0208 0E40      09155         MOVLW   0x40
020A 1400      09156         ANDWF   r0x04, W
020C 6E00      09157         MOVWF   r0x01
020E 5000      09158         MOVF    r0x01, W
0210 E000      09159         BZ      _00236_DS_
0212 B200      09160         BTFSC   r0x04, 1
0214 D000      09161         BRA     _00237_DS_
0216 09162 _00236_DS_:
0216 6A00      09163         CLRF    r0x02
0218 D000      09164         BRA     _00238_DS_
021A 09165 _00237_DS_:
021A 0E01      09166         MOVLW   0x01
021C 6E00      09167         MOVWF   r0x02
021E 09168 _00238_DS_:
021E 6A00      09169         CLRF    r0x06
0220 BE00      09170         BTFSC   r0x02, 7
0222 6800      09171         SETF    r0x06
0224 5000      09172         MOVF    r0x02, W
0226 0000      09173         BANKSEL _val_knight_move_1_1
0228 6F00      09174         MOVWF   _val_knight_move_1_1, B
022A 5000      09175         MOVF    r0x06, W
               09176 ; removed redundant BANKSEL
022C 6F00      09177         MOVWF   (_val_knight_move_1_1 + 1), B
               09178 ;       .line   155; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      move[3]  = up2_lft1;
022E 0E10      09179         MOVLW   0x10
0230 1400      09180         ANDWF   r0x04, W
0232 6E00      09181         MOVWF   r0x02
0234 5000      09182         MOVF    r0x02, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 177


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0236 E000      09183         BZ      _00239_DS_
0238 B200      09184         BTFSC   r0x04, 1
023A D000      09185         BRA     _00240_DS_
023C 09186 _00239_DS_:
023C 6A00      09187         CLRF    r0x06
023E D000      09188         BRA     _00241_DS_
0240 09189 _00240_DS_:
0240 0E01      09190         MOVLW   0x01
0242 6E00      09191         MOVWF   r0x06
0244 09192 _00241_DS_:
0244 6A00      09193         CLRF    r0x07
0246 BE00      09194         BTFSC   r0x06, 7
0248 6800      09195         SETF    r0x07
024A 5000      09196         MOVF    r0x06, W
024C 0000      09197         BANKSEL (_val_knight_move_1_1 + 6)
024E 6F00      09198         MOVWF   (_val_knight_move_1_1 + 6), B
0250 5000      09199         MOVF    r0x07, W
               09200 ; removed redundant BANKSEL
0252 6F00      09201         MOVWF   (_val_knight_move_1_1 + 7), B
               09202 ;       .line   156; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      move[6]  = up1_rgt2;
0254 0E80      09203         MOVLW   0x80
0256 1400      09204         ANDWF   r0x04, W
0258 6E00      09205         MOVWF   r0x06
025A 5000      09206         MOVF    r0x06, W
025C E000      09207         BZ      _00242_DS_
025E B000      09208         BTFSC   r0x04, 0
0260 D000      09209         BRA     _00243_DS_
0262 09210 _00242_DS_:
0262 6A00      09211         CLRF    r0x07
0264 D000      09212         BRA     _00244_DS_
0266 09213 _00243_DS_:
0266 0E01      09214         MOVLW   0x01
0268 6E00      09215         MOVWF   r0x07
026A 09216 _00244_DS_:
026A 6A00      09217         CLRF    r0x08
026C BE00      09218         BTFSC   r0x07, 7
026E 6800      09219         SETF    r0x08
0270 5000      09220         MOVF    r0x07, W
0272 0000      09221         BANKSEL (_val_knight_move_1_1 + 12)
0274 6F00      09222         MOVWF   (_val_knight_move_1_1 + 12), B
0276 5000      09223         MOVF    r0x08, W
               09224 ; removed redundant BANKSEL
0278 6F00      09225         MOVWF   (_val_knight_move_1_1 + 13), B
               09226 ;       .line   157; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      move[9]  = up1_lft2;
027A 0E20      09227         MOVLW   0x20
027C 1400      09228         ANDWF   r0x04, W
027E 6E00      09229         MOVWF   r0x07
0280 5000      09230         MOVF    r0x07, W
0282 E000      09231         BZ      _00245_DS_
0284 B000      09232         BTFSC   r0x04, 0
0286 D000      09233         BRA     _00246_DS_
0288 09234 _00245_DS_:
0288 6A00      09235         CLRF    r0x08
028A D000      09236         BRA     _00247_DS_
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 178


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
028C 09237 _00246_DS_:
028C 0E01      09238         MOVLW   0x01
028E 6E00      09239         MOVWF   r0x08
0290 09240 _00247_DS_:
0290 6A00      09241         CLRF    r0x09
0292 BE00      09242         BTFSC   r0x08, 7
0294 6800      09243         SETF    r0x09
0296 5000      09244         MOVF    r0x08, W
0298 0000      09245         BANKSEL (_val_knight_move_1_1 + 18)
029A 6F00      09246         MOVWF   (_val_knight_move_1_1 + 18), B
029C 5000      09247         MOVF    r0x09, W
               09248 ; removed redundant BANKSEL
029E 6F00      09249         MOVWF   (_val_knight_move_1_1 + 19), B
               09250 ;       .line   158; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      move[12] = dwn1_rgt2;
02A0 5000      09251         MOVF    r0x06, W
02A2 E000      09252         BZ      _00248_DS_
02A4 B400      09253         BTFSC   r0x04, 2
02A6 D000      09254         BRA     _00249_DS_
02A8 09255 _00248_DS_:
02A8 6A00      09256         CLRF    r0x06
02AA D000      09257         BRA     _00250_DS_
02AC 09258 _00249_DS_:
02AC 0E01      09259         MOVLW   0x01
02AE 6E00      09260         MOVWF   r0x06
02B0 09261 _00250_DS_:
02B0 6A00      09262         CLRF    r0x08
02B2 BE00      09263         BTFSC   r0x06, 7
02B4 6800      09264         SETF    r0x08
02B6 5000      09265         MOVF    r0x06, W
02B8 0000      09266         BANKSEL (_val_knight_move_1_1 + 24)
02BA 6F00      09267         MOVWF   (_val_knight_move_1_1 + 24), B
02BC 5000      09268         MOVF    r0x08, W
               09269 ; removed redundant BANKSEL
02BE 6F00      09270         MOVWF   (_val_knight_move_1_1 + 25), B
               09271 ;       .line   159; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      move[15] = dwn1_lft2;
02C0 5000      09272         MOVF    r0x07, W
02C2 E000      09273         BZ      _00251_DS_
02C4 B400      09274         BTFSC   r0x04, 2
02C6 D000      09275         BRA     _00252_DS_
02C8 09276 _00251_DS_:
02C8 6A00      09277         CLRF    r0x06
02CA D000      09278         BRA     _00253_DS_
02CC 09279 _00252_DS_:
02CC 0E01      09280         MOVLW   0x01
02CE 6E00      09281         MOVWF   r0x06
02D0 09282 _00253_DS_:
02D0 6A00      09283         CLRF    r0x07
02D2 BE00      09284         BTFSC   r0x06, 7
02D4 6800      09285         SETF    r0x07
02D6 5000      09286         MOVF    r0x06, W
02D8 0000      09287         BANKSEL (_val_knight_move_1_1 + 30)
02DA 6F00      09288         MOVWF   (_val_knight_move_1_1 + 30), B
02DC 5000      09289         MOVF    r0x07, W
               09290 ; removed redundant BANKSEL
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 179


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02DE 6F00      09291         MOVWF   (_val_knight_move_1_1 + 31), B
               09292 ;       .line   160; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      move[18] = dwn2_lft1;
02E0 5000      09293         MOVF    r0x02, W
02E2 E000      09294         BZ      _00254_DS_
02E4 B600      09295         BTFSC   r0x04, 3
02E6 D000      09296         BRA     _00255_DS_
02E8 09297 _00254_DS_:
02E8 6A00      09298         CLRF    r0x02
02EA D000      09299         BRA     _00256_DS_
02EC 09300 _00255_DS_:
02EC 0E01      09301         MOVLW   0x01
02EE 6E00      09302         MOVWF   r0x02
02F0 09303 _00256_DS_:
02F0 6A00      09304         CLRF    r0x06
02F2 BE00      09305         BTFSC   r0x02, 7
02F4 6800      09306         SETF    r0x06
02F6 5000      09307         MOVF    r0x02, W
02F8 0000      09308         BANKSEL (_val_knight_move_1_1 + 36)
02FA 6F00      09309         MOVWF   (_val_knight_move_1_1 + 36), B
02FC 5000      09310         MOVF    r0x06, W
               09311 ; removed redundant BANKSEL
02FE 6F00      09312         MOVWF   (_val_knight_move_1_1 + 37), B
               09313 ;       .line   161; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      move[21] = dwn2_rgt1;
0300 5000      09314         MOVF    r0x01, W
0302 E000      09315         BZ      _00257_DS_
0304 B600      09316         BTFSC   r0x04, 3
0306 D000      09317         BRA     _00258_DS_
0308 09318 _00257_DS_:
0308 6A00      09319         CLRF    r0x01
030A D000      09320         BRA     _00259_DS_
030C 09321 _00258_DS_:
030C 0E01      09322         MOVLW   0x01
030E 6E00      09323         MOVWF   r0x01
0310 09324 _00259_DS_:
0310 6A00      09325         CLRF    r0x02
0312 BE00      09326         BTFSC   r0x01, 7
0314 6800      09327         SETF    r0x02
0316 5000      09328         MOVF    r0x01, W
0318 0000      09329         BANKSEL (_val_knight_move_1_1 + 42)
031A 6F00      09330         MOVWF   (_val_knight_move_1_1 + 42), B
031C 5000      09331         MOVF    r0x02, W
               09332 ; removed redundant BANKSEL
031E 6F00      09333         MOVWF   (_val_knight_move_1_1 + 43), B
               09334 ;       .line   164; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      for (i = 0; i <= 21; i += 3)
0320 0E08      09335         MOVLW   0x08
0322 1600      09336         ANDWF   r0x03, F
0324 3800      09337         SWAPF   r0x03, W
0326 44E8      09338         RLNCF   WREG, W
0328 0B1F      09339         ANDLW   0x1f
032A 6E00      09340         MOVWF   r0x01
032C 6A00      09341         CLRF    r0x02
032E 6A00      09342         CLRF    r0x03
0330 09343 _00230_DS_:
0330 0E16      09344         MOVLW   0x16
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 180


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0332 5C00      09345         SUBWF   r0x02, W
0334 B0D8      09346         BTFSC   STATUS, 0
0336 D000      09347         BRA     _00234_DS_
               09348 ;       .line   165; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      { if (move[i])
0338 0E00      09349         MOVLW   LOW(_val_knight_move_1_1)
033A 2400      09350         ADDWF   r0x03, W
033C 6E00      09351         MOVWF   r0x04
033E 6A00      09352         CLRF    r0x06
0340 0E00      09353         MOVLW   HIGH(_val_knight_move_1_1)
0342 2200      09354         ADDWFC  r0x06, F
0344 C000 FFE9 09355         MOVFF   r0x04, FSR0L
0348 C000 FFEA 09356         MOVFF   r0x06, FSR0H
034C CFEE F000 09357         MOVFF   POSTINC0, r0x04
0350 CFEF F000 09358         MOVFF   INDF0, r0x06
0354 5000      09359         MOVF    r0x04, W
0356 1000      09360         IORWF   r0x06, W
0358 B4D8      09361         BTFSC   STATUS, 2
035A D000      09362         BRA     _00232_DS_
               09363 ;       .line   167; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      row = (from[0] + move[i+1]);
035C 2800      09364         INCF    r0x02, W
035E 6E00      09365         MOVWF   r0x04
               09366 ; ;multiply lit val:0x02 by variable r0x04 and store in r0x04
               09367 ; ;Unrolled 8 X 8 multiplication
               09368 ; ;FIXME: the function does not support result==WREG
0360 90D8      09369         BCF     STATUS, 0
0362 3600      09370         RLCF    r0x04, F
0364 6A00      09371         CLRF    r0x06
0366 0E00      09372         MOVLW   LOW(_val_knight_move_1_1)
0368 2600      09373         ADDWF   r0x04, F
036A 0E00      09374         MOVLW   HIGH(_val_knight_move_1_1)
036C 2200      09375         ADDWFC  r0x06, F
036E C000 FFE9 09376         MOVFF   r0x04, FSR0L
0372 C000 FFEA 09377         MOVFF   r0x06, FSR0H
0376 CFEE F000 09378         MOVFF   POSTINC0, r0x04
037A CFEF F000 09379         MOVFF   INDF0, r0x06
037E 5000      09380         MOVF    r0x05, W
0380 2600      09381         ADDWF   r0x04, F
               09382 ;       .line   168; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      col = (from[1] + move[i+2]);
0382 0E02      09383         MOVLW   0x02
0384 2400      09384         ADDWF   r0x02, W
0386 6E00      09385         MOVWF   r0x06
               09386 ; ;multiply lit val:0x02 by variable r0x06 and store in r0x06
               09387 ; ;Unrolled 8 X 8 multiplication
               09388 ; ;FIXME: the function does not support result==WREG
0388 90D8      09389         BCF     STATUS, 0
038A 3600      09390         RLCF    r0x06, F
038C 6A00      09391         CLRF    r0x07
038E 0E00      09392         MOVLW   LOW(_val_knight_move_1_1)
0390 2600      09393         ADDWF   r0x06, F
0392 0E00      09394         MOVLW   HIGH(_val_knight_move_1_1)
0394 2200      09395         ADDWFC  r0x07, F
0396 C000 FFE9 09396         MOVFF   r0x06, FSR0L
039A C000 FFEA 09397         MOVFF   r0x07, FSR0H
039E CFEE F000 09398         MOVFF   POSTINC0, r0x06
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 181


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
03A2 CFEF F000 09399         MOVFF   INDF0, r0x07
03A6 5000      09400         MOVF    r0x00, W
03A8 2600      09401         ADDWF   r0x06, F
               09402 ; ;multiply lit val:0x08 by variable r0x04 and store in r0x07
               09403 ; ;Unrolled 8 X 8 multiplication
               09404 ; ;FIXME: the function does not support result==WREG
               09405 ;       .line   169; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (board[row][col] == EMPTY)
03AA 5000      09406         MOVF    r0x04, W
03AC 0D08      09407         MULLW   0x08
03AE CFF3 F000 09408         MOVFF   PRODL, r0x07
03B2 6A00      09409         CLRF    r0x08
Error [113] : Symbol not previously defined (_board).
03B4 0E00      09410         MOVLW   LOW(_board)
03B6 2600      09411         ADDWF   r0x07, F
Error [113] : Symbol not previously defined (_board).
03B8 0E00      09412         MOVLW   HIGH(_board)
03BA 2200      09413         ADDWFC  r0x08, F
03BC 5000      09414         MOVF    r0x06, W
03BE 2600      09415         ADDWF   r0x07, F
03C0 6AE8      09416         CLRF    WREG
03C2 2200      09417         ADDWFC  r0x08, F
03C4 C000 FFE9 09418         MOVFF   r0x07, FSR0L
03C8 C000 FFEA 09419         MOVFF   r0x08, FSR0H
03CC CFEF F000 09420         MOVFF   INDF0, r0x07
03D0 5000      09421         MOVF    r0x07, W
03D2 E100      09422         BNZ     _00226_DS_
               09423 ;       .line   171; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
03D4 0E00      09424         MOVLW   LOW(_validmovemask)
03D6 2400      09425         ADDWF   r0x04, W
03D8 6E00      09426         MOVWF   r0x08
03DA 6A00      09427         CLRF    r0x09
Error [113] : Symbol not previously defined (_validmovemask).
03DC 0E00      09428         MOVLW   HIGH(_validmovemask)
03DE 2200      09429         ADDWFC  r0x09, F
03E0 C000 FFE9 09430         MOVFF   r0x08, FSR0L
03E4 C000 FFEA 09431         MOVFF   r0x09, FSR0H
03E8 CFEF F000 09432         MOVFF   INDF0, r0x0a
03EC 0E01      09433         MOVLW   0x01
03EE 6E00      09434         MOVWF   r0x0b
03F0 5000      09435         MOVF    r0x06, W
03F2 E000      09436         BZ      _00302_DS_
03F4 6CE8      09437         NEGF    WREG
03F6 90D8      09438         BCF     STATUS, 0
03F8 09439 _00303_DS_:
03F8 3600      09440         RLCF    r0x0b, F
03FA 0F01      09441         ADDLW   0x01
03FC E300      09442         BNC     _00303_DS_
03FE 09443 _00302_DS_:
03FE 5000      09444         MOVF    r0x0b, W
0400 1200      09445         IORWF   r0x0a, F
0402 C000 FFE9 09446         MOVFF   r0x08, FSR0L
0406 C000 FFEA 09447         MOVFF   r0x09, FSR0H
040A C000 FFEF 09448         MOVFF   r0x0a, INDF0
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 182


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
040E D000      09449         BRA     _00232_DS_
0410 09450 _00226_DS_:
               09451 ;       .line   173; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      else if (is_opp_piece(row,col,piececolour))
0410 0E08      09452         MOVLW   0x08
0412 1400      09453         ANDWF   r0x07, W
0414 6E00      09454         MOVWF   r0x08
0416 3800      09455         SWAPF   r0x08, W
0418 44E8      09456         RLNCF   WREG, W
041A 0B1F      09457         ANDLW   0x1f
041C 6E00      09458         MOVWF   r0x08
041E 5000      09459         MOVF    r0x01, W
0420 1A00      09460         XORWF   r0x08, F
0422 5000      09461         MOVF    r0x08, W
0424 B4D8      09462         BTFSC   STATUS, 2
0426 D000      09463         BRA     _00232_DS_
0428 5000      09464         MOVF    r0x07, W
042A B4D8      09465         BTFSC   STATUS, 2
042C D000      09466         BRA     _00232_DS_
               09467 ;       .line   175; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
042E 0E00      09468         MOVLW   LOW(_validmovemask)
0430 2400      09469         ADDWF   r0x04, W
0432 6E00      09470         MOVWF   r0x07
0434 6A00      09471         CLRF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
0436 0E00      09472         MOVLW   HIGH(_validmovemask)
0438 2200      09473         ADDWFC  r0x08, F
043A C000 FFE9 09474         MOVFF   r0x07, FSR0L
043E C000 FFEA 09475         MOVFF   r0x08, FSR0H
0442 CFEF F000 09476         MOVFF   INDF0, r0x09
0446 0E01      09477         MOVLW   0x01
0448 6E00      09478         MOVWF   r0x0a
044A 5000      09479         MOVF    r0x06, W
044C E000      09480         BZ      _00306_DS_
044E 6CE8      09481         NEGF    WREG
0450 90D8      09482         BCF     STATUS, 0
0452 09483 _00307_DS_:
0452 3600      09484         RLCF    r0x0a, F
0454 0F01      09485         ADDLW   0x01
0456 E300      09486         BNC     _00307_DS_
0458 09487 _00306_DS_:
0458 5000      09488         MOVF    r0x0a, W
045A 1000      09489         IORWF   r0x09, W
045C 6E00      09490         MOVWF   r0x06
045E C000 FFE9 09491         MOVFF   r0x07, FSR0L
0462 C000 FFEA 09492         MOVFF   r0x08, FSR0H
0466 C000 FFEF 09493         MOVFF   r0x06, INDF0
               09494 ;       .line   176; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      capturemask[row]   |= (1<<col);
046A 6A00      09495         CLRF    r0x06
Error [113] : Symbol not previously defined (_capturemask).
046C 0E00      09496         MOVLW   LOW(_capturemask)
046E 2600      09497         ADDWF   r0x04, F
Error [113] : Symbol not previously defined (_capturemask).
0470 0E00      09498         MOVLW   HIGH(_capturemask)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 183


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0472 2200      09499         ADDWFC  r0x06, F
0474 C000 FFE9 09500         MOVFF   r0x04, FSR0L
0478 C000 FFEA 09501         MOVFF   r0x06, FSR0H
047C CFEF F000 09502         MOVFF   INDF0, r0x07
0480 5000      09503         MOVF    r0x07, W
0482 1200      09504         IORWF   r0x0a, F
0484 C000 FFE9 09505         MOVFF   r0x04, FSR0L
0488 C000 FFEA 09506         MOVFF   r0x06, FSR0H
048C C000 FFEF 09507         MOVFF   r0x0a, INDF0
               09508 ;       .line   177; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      if (capturemask[opp_king_pos[0]] & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
0490 0E00      09509         MOVLW   LOW(_capturemask)
0492 0000      09510         BANKSEL _opp_king_pos
0494 2500      09511         ADDWF   _opp_king_pos, W, B
0496 6E00      09512         MOVWF   r0x04
0498 6A00      09513         CLRF    r0x06
Error [113] : Symbol not previously defined (_capturemask).
049A 0E00      09514         MOVLW   HIGH(_capturemask)
049C 2200      09515         ADDWFC  r0x06, F
049E C000 FFE9 09516         MOVFF   r0x04, FSR0L
04A2 C000 FFEA 09517         MOVFF   r0x06, FSR0H
04A6 CFEF F000 09518         MOVFF   INDF0, r0x04
04AA 0E01      09519         MOVLW   0x01
04AC 6E00      09520         MOVWF   r0x06
04AE 6A00      09521         CLRF    r0x07
               09522 ; removed redundant BANKSEL
04B0 5100      09523         MOVF    (_opp_king_pos + 1), W, B
04B2 E000      09524         BZ      _00310_DS_
04B4 6CE8      09525         NEGF    WREG
04B6 90D8      09526         BCF     STATUS, 0
04B8 09527 _00311_DS_:
04B8 3600      09528         RLCF    r0x06, F
04BA 3600      09529         RLCF    r0x07, F
04BC 0F01      09530         ADDLW   0x01
04BE E300      09531         BNC     _00311_DS_
04C0 09532 _00310_DS_:
04C0 6A00      09533         CLRF    r0x08
04C2 5000      09534         MOVF    r0x04, W
04C4 1600      09535         ANDWF   r0x06, F
04C6 5000      09536         MOVF    r0x08, W
04C8 1600      09537         ANDWF   r0x07, F
04CA 5000      09538         MOVF    r0x06, W
04CC 1000      09539         IORWF   r0x07, W
04CE E000      09540         BZ      _00232_DS_
04D0 0E01      09541         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
04D2 0100      09542         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
04D4 6F00      09543         MOVWF   _kingcapture, B
04D6 09544 _00232_DS_:
               09545 ;       .line   164; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c      for (i = 0; i <= 21; i += 3)
04D6 0E06      09546         MOVLW   0x06
04D8 2600      09547         ADDWF   r0x03, F
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 184


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
04DA 0E03      09548         MOVLW   0x03
04DC 2600      09549         ADDWF   r0x02, F
04DE D000      09550         BRA     _00230_DS_
04E0 09551 _00234_DS_:
04E0 CFE4 F000 09552         MOVFF   PREINC1, r0x0b
04E4 CFE4 F000 09553         MOVFF   PREINC1, r0x0a
04E8 CFE4 F000 09554         MOVFF   PREINC1, r0x09
04EC CFE4 F000 09555         MOVFF   PREINC1, r0x08
04F0 CFE4 F000 09556         MOVFF   PREINC1, r0x07
04F4 CFE4 F000 09557         MOVFF   PREINC1, r0x06
04F8 CFE4 F000 09558         MOVFF   PREINC1, r0x05
04FC CFE4 F000 09559         MOVFF   PREINC1, r0x04
0500 CFE4 F000 09560         MOVFF   PREINC1, r0x03
0504 CFE4 F000 09561         MOVFF   PREINC1, r0x02
0508 CFE4 F000 09562         MOVFF   PREINC1, r0x01
050C CFE4 F000 09563         MOVFF   PREINC1, r0x00
0510 CFE4 FFD9 09564         MOVFF   PREINC1, FSR2L
0514 0012      09565         RETURN  
               09566 
               09567 ; ; Starting pCode block
               09568 S_main__val_bishop      code
0000 09569 _val_bishop:
               09570 ;       .line   76; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       void val_bishop(LOC from,BOOL piececolour)
0000 CFD9 FFE5 09571         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 09572         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 09573         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 09574         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 09575         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 09576         MOVFF   r0x03, POSTDEC1
0018 0E02      09577         MOVLW   0x02
001A CFDB F000 09578         MOVFF   PLUSW2, r0x00
001E 0E03      09579         MOVLW   0x03
0020 CFDB F000 09580         MOVFF   PLUSW2, r0x01
0024 0E04      09581         MOVLW   0x04
0026 CFDB F000 09582         MOVFF   PLUSW2, r0x02
002A 0E05      09583         MOVLW   0x05
002C CFDB F000 09584         MOVFF   PLUSW2, r0x03
               09585 ;       .line   82; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if (piececolour == WHITE)
0030 5000      09586         MOVF    r0x03, W
0032 E100      09587         BNZ     _00192_DS_
Error [113] : Symbol not previously defined (_bl_king_pos).
0034 0100      09588         BANKSEL _bl_king_pos
               09589 ;       .line   83; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       { opp_king_pos[0] = bl_king_pos[0];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
0036 5100      09590         MOVF    _bl_king_pos, W, B
0038 0000      09591         BANKSEL _opp_king_pos
003A 6F00      09592         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_bl_king_pos).
003C 0100      09593         BANKSEL (_bl_king_pos + 1)
               09594 ;       .line   84; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       opp_king_pos[1] = bl_king_pos[1];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
003E 5100      09595         MOVF    (_bl_king_pos + 1), W, B
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 185


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0040 0000      09596         BANKSEL (_opp_king_pos + 1)
0042 6F00      09597         MOVWF   (_opp_king_pos + 1), B
0044 D000      09598         BRA     _00193_DS_
0046 09599 _00192_DS_:
Error [113] : Symbol not previously defined (_wh_king_pos).
0046 0100      09600         BANKSEL _wh_king_pos
               09601 ;       .line   87; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       { opp_king_pos[0] = wh_king_pos[0];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0048 5100      09602         MOVF    _wh_king_pos, W, B
004A 0000      09603         BANKSEL _opp_king_pos
004C 6F00      09604         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_wh_king_pos).
004E 0100      09605         BANKSEL (_wh_king_pos + 1)
               09606 ;       .line   88; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       opp_king_pos[1] = wh_king_pos[1];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
0050 5100      09607         MOVF    (_wh_king_pos + 1), W, B
0052 0000      09608         BANKSEL (_opp_king_pos + 1)
0054 6F00      09609         MOVWF   (_opp_king_pos + 1), B
0056 09610 _00193_DS_:
               09611 ;       .line   92; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       val_northeast (from,piececolour,-1);
0056 68E5      09612         SETF    POSTDEC1
0058 5000      09613         MOVF    r0x03, W
005A 6EE5      09614         MOVWF   POSTDEC1
005C 5000      09615         MOVF    r0x02, W
005E 6EE5      09616         MOVWF   POSTDEC1
0060 5000      09617         MOVF    r0x01, W
0062 6EE5      09618         MOVWF   POSTDEC1
0064 5000      09619         MOVF    r0x00, W
0066 6EE5      09620         MOVWF   POSTDEC1
0068 EC00 F000 09621         CALL    _val_northeast
006C 0E05      09622         MOVLW   0x05
006E 26E1      09623         ADDWF   FSR1L, F
               09624 ;       .line   93; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       val_northwest (from,piececolour,-1);
0070 68E5      09625         SETF    POSTDEC1
0072 5000      09626         MOVF    r0x03, W
0074 6EE5      09627         MOVWF   POSTDEC1
0076 5000      09628         MOVF    r0x02, W
0078 6EE5      09629         MOVWF   POSTDEC1
007A 5000      09630         MOVF    r0x01, W
007C 6EE5      09631         MOVWF   POSTDEC1
007E 5000      09632         MOVF    r0x00, W
0080 6EE5      09633         MOVWF   POSTDEC1
0082 EC00 F000 09634         CALL    _val_northwest
0086 0E05      09635         MOVLW   0x05
0088 26E1      09636         ADDWF   FSR1L, F
               09637 ;       .line   94; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       val_southeast (from,piececolour,-1);
008A 68E5      09638         SETF    POSTDEC1
008C 5000      09639         MOVF    r0x03, W
008E 6EE5      09640         MOVWF   POSTDEC1
0090 5000      09641         MOVF    r0x02, W
0092 6EE5      09642         MOVWF   POSTDEC1
0094 5000      09643         MOVF    r0x01, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 186


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0096 6EE5      09644         MOVWF   POSTDEC1
0098 5000      09645         MOVF    r0x00, W
009A 6EE5      09646         MOVWF   POSTDEC1
009C EC00 F000 09647         CALL    _val_southeast
00A0 0E05      09648         MOVLW   0x05
00A2 26E1      09649         ADDWF   FSR1L, F
               09650 ;       .line   95; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       val_southwest (from,piececolour,-1);
00A4 68E5      09651         SETF    POSTDEC1
00A6 5000      09652         MOVF    r0x03, W
00A8 6EE5      09653         MOVWF   POSTDEC1
00AA 5000      09654         MOVF    r0x02, W
00AC 6EE5      09655         MOVWF   POSTDEC1
00AE 5000      09656         MOVF    r0x01, W
00B0 6EE5      09657         MOVWF   POSTDEC1
00B2 5000      09658         MOVF    r0x00, W
00B4 6EE5      09659         MOVWF   POSTDEC1
00B6 EC00 F000 09660         CALL    _val_southwest
00BA 0E05      09661         MOVLW   0x05
00BC 26E1      09662         ADDWF   FSR1L, F
00BE CFE4 F000 09663         MOVFF   PREINC1, r0x03
00C2 CFE4 F000 09664         MOVFF   PREINC1, r0x02
00C6 CFE4 F000 09665         MOVFF   PREINC1, r0x01
00CA CFE4 F000 09666         MOVFF   PREINC1, r0x00
00CE CFE4 FFD9 09667         MOVFF   PREINC1, FSR2L
00D2 0012      09668         RETURN  
               09669 
               09670 ; ; Starting pCode block
               09671 S_main__val_pawn        code
0000 09672 _val_pawn:
               09673 ;       .line   18; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       void val_pawn(LOC from,BOOL piececolour)
0000 CFD9 FFE5 09674         MOVFF   FSR2L, POSTDEC1
0004 CFE1 FFD9 09675         MOVFF   FSR1L, FSR2L
0008 C000 FFE5 09676         MOVFF   r0x00, POSTDEC1
000C C000 FFE5 09677         MOVFF   r0x01, POSTDEC1
0010 C000 FFE5 09678         MOVFF   r0x02, POSTDEC1
0014 C000 FFE5 09679         MOVFF   r0x03, POSTDEC1
0018 C000 FFE5 09680         MOVFF   r0x04, POSTDEC1
001C C000 FFE5 09681         MOVFF   r0x05, POSTDEC1
0020 C000 FFE5 09682         MOVFF   r0x06, POSTDEC1
0024 C000 FFE5 09683         MOVFF   r0x07, POSTDEC1
0028 C000 FFE5 09684         MOVFF   r0x08, POSTDEC1
002C C000 FFE5 09685         MOVFF   r0x09, POSTDEC1
0030 C000 FFE5 09686         MOVFF   r0x0a, POSTDEC1
0034 C000 FFE5 09687         MOVFF   r0x0b, POSTDEC1
0038 C000 FFE5 09688         MOVFF   r0x0c, POSTDEC1
003C 0E02      09689         MOVLW   0x02
003E CFDB F000 09690         MOVFF   PLUSW2, r0x00
0042 0E03      09691         MOVLW   0x03
0044 CFDB F000 09692         MOVFF   PLUSW2, r0x01
0048 0E04      09693         MOVLW   0x04
004A CFDB F000 09694         MOVFF   PLUSW2, r0x02
004E 0E05      09695         MOVLW   0x05
0050 CFDB F000 09696         MOVFF   PLUSW2, r0x03
               09697 ;       .line   20; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       { COORD row = from[0],col = from[1];
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 187


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0054 C000 FFE9 09698         MOVFF   r0x00, FSR0L
0058 C000 FFF3 09699         MOVFF   r0x01, PRODL
005C 5000      09700         MOVF    r0x02, W
005E EC00 F000 09701         CALL    __gptrget1
0062 6E00      09702         MOVWF   r0x04
0064 C000 F000 09703         MOVFF   r0x04, r0x05
0068 2A00      09704         INCF    r0x00, F
006A B0D8      09705         BTFSC   STATUS, 0
006C 2A00      09706         INCF    r0x01, F
006E B0D8      09707         BTFSC   STATUS, 0
0070 2A00      09708         INCF    r0x02, F
0072 C000 FFE9 09709         MOVFF   r0x00, FSR0L
0076 C000 FFF3 09710         MOVFF   r0x01, PRODL
007A 5000      09711         MOVF    r0x02, W
007C EC00 F000 09712         CALL    __gptrget1
0080 6E00      09713         MOVWF   r0x00
               09714 ;       .line   21; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       BOOL piecefound = FALSE;
0082 6A00      09715         CLRF    r0x01
               09716 ;       .line   24; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if (piececolour == WHITE)
0084 5000      09717         MOVF    r0x03, W
0086 E100      09718         BNZ     _00111_DS_
Error [113] : Symbol not previously defined (_bl_king_pos).
0088 0100      09719         BANKSEL _bl_king_pos
               09720 ;       .line   25; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       { opp_king_pos[0] = bl_king_pos[0];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
008A 5100      09721         MOVF    _bl_king_pos, W, B
008C 0000      09722         BANKSEL _opp_king_pos
008E 6F00      09723         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_bl_king_pos).
0090 0100      09724         BANKSEL (_bl_king_pos + 1)
               09725 ;       .line   26; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       opp_king_pos[1] = bl_king_pos[1];
Error [113] : Symbol not previously defined (_bl_king_pos).
Error [113] : Symbol not previously defined (_bl_king_pos).
0092 5100      09726         MOVF    (_bl_king_pos + 1), W, B
0094 0000      09727         BANKSEL (_opp_king_pos + 1)
0096 6F00      09728         MOVWF   (_opp_king_pos + 1), B
0098 D000      09729         BRA     _00112_DS_
009A 09730 _00111_DS_:
Error [113] : Symbol not previously defined (_wh_king_pos).
009A 0100      09731         BANKSEL _wh_king_pos
               09732 ;       .line   29; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       { opp_king_pos[0] = wh_king_pos[0];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
009C 5100      09733         MOVF    _wh_king_pos, W, B
009E 0000      09734         BANKSEL _opp_king_pos
00A0 6F00      09735         MOVWF   _opp_king_pos, B
Error [113] : Symbol not previously defined (_wh_king_pos).
00A2 0100      09736         BANKSEL (_wh_king_pos + 1)
               09737 ;       .line   30; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       opp_king_pos[1] = wh_king_pos[1];
Error [113] : Symbol not previously defined (_wh_king_pos).
Error [113] : Symbol not previously defined (_wh_king_pos).
00A4 5100      09738         MOVF    (_wh_king_pos + 1), W, B
00A6 0000      09739         BANKSEL (_opp_king_pos + 1)
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 188


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00A8 6F00      09740         MOVWF   (_opp_king_pos + 1), B
00AA 09741 _00112_DS_:
               09742 ;       .line   34; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if (piececolour == WHITE)
00AA 5000      09743         MOVF    r0x03, W
00AC E100      09744         BNZ     _00114_DS_
               09745 ;       .line   35; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       row++;
00AE 2A00      09746         INCF    r0x05, F
00B0 D000      09747         BRA     _00115_DS_
00B2 09748 _00114_DS_:
               09749 ;       .line   37; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       row--;
00B2 0600      09750         DECF    r0x05, F
               09751 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x02
               09752 ; ;Unrolled 8 X 8 multiplication
               09753 ; ;FIXME: the function does not support result==WREG
00B4 09754 _00115_DS_:
               09755 ;       .line   40; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if (board[row][col] == EMPTY)
00B4 5000      09756         MOVF    r0x05, W
00B6 0D08      09757         MULLW   0x08
00B8 CFF3 F000 09758         MOVFF   PRODL, r0x02
00BC 6A00      09759         CLRF    r0x06
Error [113] : Symbol not previously defined (_board).
00BE 0E00      09760         MOVLW   LOW(_board)
00C0 2600      09761         ADDWF   r0x02, F
Error [113] : Symbol not previously defined (_board).
00C2 0E00      09762         MOVLW   HIGH(_board)
00C4 2200      09763         ADDWFC  r0x06, F
00C6 5000      09764         MOVF    r0x00, W
00C8 2400      09765         ADDWF   r0x02, W
00CA 6E00      09766         MOVWF   r0x07
00CC 6AE8      09767         CLRF    WREG
00CE 2000      09768         ADDWFC  r0x06, W
00D0 6E00      09769         MOVWF   r0x08
00D2 C000 FFE9 09770         MOVFF   r0x07, FSR0L
00D6 C000 FFEA 09771         MOVFF   r0x08, FSR0H
00DA CFEF F000 09772         MOVFF   INDF0, r0x07
00DE 5000      09773         MOVF    r0x07, W
00E0 E100      09774         BNZ     _00117_DS_
               09775 ;       .line   41; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       { validmovemask[row] |= (1<<col);
Error [113] : Symbol not previously defined (_validmovemask).
00E2 0E00      09776         MOVLW   LOW(_validmovemask)
00E4 2400      09777         ADDWF   r0x05, W
00E6 6E00      09778         MOVWF   r0x07
00E8 6A00      09779         CLRF    r0x08
Error [113] : Symbol not previously defined (_validmovemask).
00EA 0E00      09780         MOVLW   HIGH(_validmovemask)
00EC 2200      09781         ADDWFC  r0x08, F
00EE C000 FFE9 09782         MOVFF   r0x07, FSR0L
00F2 C000 FFEA 09783         MOVFF   r0x08, FSR0H
00F6 CFEF F000 09784         MOVFF   INDF0, r0x09
00FA 0E01      09785         MOVLW   0x01
00FC 6E00      09786         MOVWF   r0x0a
00FE 5000      09787         MOVF    r0x00, W
0100 E000      09788         BZ      _00160_DS_
0102 6CE8      09789         NEGF    WREG
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 189


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0104 90D8      09790         BCF     STATUS, 0
0106 09791 _00161_DS_:
0106 3600      09792         RLCF    r0x0a, F
0108 0F01      09793         ADDLW   0x01
010A E300      09794         BNC     _00161_DS_
010C 09795 _00160_DS_:
010C 5000      09796         MOVF    r0x0a, W
010E 1200      09797         IORWF   r0x09, F
0110 C000 FFE9 09798         MOVFF   r0x07, FSR0L
0114 C000 FFEA 09799         MOVFF   r0x08, FSR0H
0118 C000 FFEF 09800         MOVFF   r0x09, INDF0
011C D000      09801         BRA     _00118_DS_
011E 09802 _00117_DS_:
               09803 ;       .line   44; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       piecefound = TRUE;
011E 0E01      09804         MOVLW   0x01
0120 6E00      09805         MOVWF   r0x01
0122 09806 _00118_DS_:
               09807 ;       .line   48; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if ((is_opp_piece(row,col-1,piececolour)) && (col > MIN_COL))
0122 0400      09808         DECF    r0x00, W
               09809 ; #     MOVWF   r0x07
               09810 ; #     MOVF    r0x07, W
0124 6E00      09811         MOVWF   r0x07
0126 2400      09812         ADDWF   r0x02, W
0128 6E00      09813         MOVWF   r0x08
012A 6AE8      09814         CLRF    WREG
012C 2000      09815         ADDWFC  r0x06, W
012E 6E00      09816         MOVWF   r0x09
0130 C000 FFE9 09817         MOVFF   r0x08, FSR0L
0134 C000 FFEA 09818         MOVFF   r0x09, FSR0H
0138 CFEF F000 09819         MOVFF   INDF0, r0x08
013C 0E08      09820         MOVLW   0x08
013E 1400      09821         ANDWF   r0x08, W
0140 6E00      09822         MOVWF   r0x09
0142 3800      09823         SWAPF   r0x09, W
0144 44E8      09824         RLNCF   WREG, W
0146 0B1F      09825         ANDLW   0x1f
0148 6E00      09826         MOVWF   r0x09
014A 0E08      09827         MOVLW   0x08
014C 1400      09828         ANDWF   r0x03, W
014E 6E00      09829         MOVWF   r0x0a
0150 3800      09830         SWAPF   r0x0a, W
0152 44E8      09831         RLNCF   WREG, W
0154 0B1F      09832         ANDLW   0x1f
               09833 ; #     MOVWF   r0x0a
               09834 ; #     MOVF    r0x0a, W
0156 6E00      09835         MOVWF   r0x0a
0158 1A00      09836         XORWF   r0x09, F
015A 5000      09837         MOVF    r0x09, W
015C B4D8      09838         BTFSC   STATUS, 2
015E D000      09839         BRA     _00122_DS_
0160 5000      09840         MOVF    r0x08, W
0162 B4D8      09841         BTFSC   STATUS, 2
0164 D000      09842         BRA     _00122_DS_
0166 5000      09843         MOVF    r0x00, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 190


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0168 B4D8      09844         BTFSC   STATUS, 2
016A D000      09845         BRA     _00122_DS_
               09846 ;       .line   50; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       validmovemask[row] |= (1<<(col - 1));
Error [113] : Symbol not previously defined (_validmovemask).
016C 0E00      09847         MOVLW   LOW(_validmovemask)
016E 2400      09848         ADDWF   r0x05, W
0170 6E00      09849         MOVWF   r0x08
0172 6A00      09850         CLRF    r0x09
Error [113] : Symbol not previously defined (_validmovemask).
0174 0E00      09851         MOVLW   HIGH(_validmovemask)
0176 2200      09852         ADDWFC  r0x09, F
0178 C000 FFE9 09853         MOVFF   r0x08, FSR0L
017C C000 FFEA 09854         MOVFF   r0x09, FSR0H
0180 CFEF F000 09855         MOVFF   INDF0, r0x0b
0184 0E01      09856         MOVLW   0x01
0186 6E00      09857         MOVWF   r0x0c
0188 5000      09858         MOVF    r0x07, W
018A E000      09859         BZ      _00165_DS_
018C 6CE8      09860         NEGF    WREG
018E 90D8      09861         BCF     STATUS, 0
0190 09862 _00166_DS_:
0190 3600      09863         RLCF    r0x0c, F
0192 0F01      09864         ADDLW   0x01
0194 E300      09865         BNC     _00166_DS_
0196 09866 _00165_DS_:
0196 5000      09867         MOVF    r0x0c, W
0198 1000      09868         IORWF   r0x0b, W
019A 6E00      09869         MOVWF   r0x07
019C C000 FFE9 09870         MOVFF   r0x08, FSR0L
01A0 C000 FFEA 09871         MOVFF   r0x09, FSR0H
01A4 C000 FFEF 09872         MOVFF   r0x07, INDF0
               09873 ;       .line   51; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       capturemask[row]   |= (1<<(col - 1));
Error [113] : Symbol not previously defined (_capturemask).
01A8 0E00      09874         MOVLW   LOW(_capturemask)
01AA 2400      09875         ADDWF   r0x05, W
01AC 6E00      09876         MOVWF   r0x07
01AE 6A00      09877         CLRF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
01B0 0E00      09878         MOVLW   HIGH(_capturemask)
01B2 2200      09879         ADDWFC  r0x08, F
01B4 C000 FFE9 09880         MOVFF   r0x07, FSR0L
01B8 C000 FFEA 09881         MOVFF   r0x08, FSR0H
01BC CFEF F000 09882         MOVFF   INDF0, r0x09
01C0 5000      09883         MOVF    r0x09, W
01C2 1200      09884         IORWF   r0x0c, F
01C4 C000 FFE9 09885         MOVFF   r0x07, FSR0L
01C8 C000 FFEA 09886         MOVFF   r0x08, FSR0H
01CC C000 FFEF 09887         MOVFF   r0x0c, INDF0
               09888 ;       .line   52; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
01D0 0E00      09889         MOVLW   LOW(_capturemask)
01D2 0000      09890         BANKSEL _opp_king_pos
01D4 2500      09891         ADDWF   _opp_king_pos, W, B
01D6 6E00      09892         MOVWF   r0x07
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 191


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01D8 6A00      09893         CLRF    r0x08
Error [113] : Symbol not previously defined (_capturemask).
01DA 0E00      09894         MOVLW   HIGH(_capturemask)
01DC 2200      09895         ADDWFC  r0x08, F
01DE C000 FFE9 09896         MOVFF   r0x07, FSR0L
01E2 C000 FFEA 09897         MOVFF   r0x08, FSR0H
01E6 CFEF F000 09898         MOVFF   INDF0, r0x07
01EA 0E01      09899         MOVLW   0x01
01EC 6E00      09900         MOVWF   r0x08
01EE 6A00      09901         CLRF    r0x09
               09902 ; removed redundant BANKSEL
01F0 5100      09903         MOVF    (_opp_king_pos + 1), W, B
01F2 E000      09904         BZ      _00169_DS_
01F4 6CE8      09905         NEGF    WREG
01F6 90D8      09906         BCF     STATUS, 0
01F8 09907 _00170_DS_:
01F8 3600      09908         RLCF    r0x08, F
01FA 3600      09909         RLCF    r0x09, F
01FC 0F01      09910         ADDLW   0x01
01FE E300      09911         BNC     _00170_DS_
0200 09912 _00169_DS_:
0200 6A00      09913         CLRF    r0x0b
0202 5000      09914         MOVF    r0x07, W
0204 1600      09915         ANDWF   r0x08, F
0206 5000      09916         MOVF    r0x0b, W
0208 1600      09917         ANDWF   r0x09, F
020A 5000      09918         MOVF    r0x08, W
020C 1000      09919         IORWF   r0x09, W
020E E000      09920         BZ      _00122_DS_
0210 0E01      09921         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
0212 0100      09922         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
0214 6F00      09923         MOVWF   _kingcapture, B
0216 09924 _00122_DS_:
               09925 ;       .line   55; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if ((is_opp_piece(row,col+1,piececolour)) && (col < MAX_COL))
0216 2800      09926         INCF    r0x00, W
               09927 ; #     MOVWF   r0x07
               09928 ; #     MOVF    r0x07, W
0218 6E00      09929         MOVWF   r0x07
021A 2600      09930         ADDWF   r0x02, F
021C 6AE8      09931         CLRF    WREG
021E 2200      09932         ADDWFC  r0x06, F
0220 C000 FFE9 09933         MOVFF   r0x02, FSR0L
0224 C000 FFEA 09934         MOVFF   r0x06, FSR0H
0228 CFEF F000 09935         MOVFF   INDF0, r0x02
022C 0E08      09936         MOVLW   0x08
022E 1400      09937         ANDWF   r0x02, W
0230 6E00      09938         MOVWF   r0x06
0232 3800      09939         SWAPF   r0x06, W
0234 44E8      09940         RLNCF   WREG, W
0236 0B1F      09941         ANDLW   0x1f
               09942 ; #     MOVWF   r0x06
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 192


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               09943 ; #     MOVF    r0x06, W
0238 1A00      09944         XORWF   r0x0a, F
023A 5000      09945         MOVF    r0x0a, W
023C B4D8      09946         BTFSC   STATUS, 2
023E D000      09947         BRA     _00128_DS_
0240 5000      09948         MOVF    r0x02, W
0242 B4D8      09949         BTFSC   STATUS, 2
0244 D000      09950         BRA     _00128_DS_
0246 0E07      09951         MOVLW   0x07
0248 5C00      09952         SUBWF   r0x00, W
024A B0D8      09953         BTFSC   STATUS, 0
024C D000      09954         BRA     _00128_DS_
               09955 ;       .line   57; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       validmovemask[row] |= (1<<(col + 1));
Error [113] : Symbol not previously defined (_validmovemask).
024E 0E00      09956         MOVLW   LOW(_validmovemask)
0250 2400      09957         ADDWF   r0x05, W
0252 6E00      09958         MOVWF   r0x02
0254 6A00      09959         CLRF    r0x06
Error [113] : Symbol not previously defined (_validmovemask).
0256 0E00      09960         MOVLW   HIGH(_validmovemask)
0258 2200      09961         ADDWFC  r0x06, F
025A C000 FFE9 09962         MOVFF   r0x02, FSR0L
025E C000 FFEA 09963         MOVFF   r0x06, FSR0H
0262 CFEF F000 09964         MOVFF   INDF0, r0x08
0266 0E01      09965         MOVLW   0x01
0268 6E00      09966         MOVWF   r0x09
026A 5000      09967         MOVF    r0x07, W
026C E000      09968         BZ      _00173_DS_
026E 6CE8      09969         NEGF    WREG
0270 90D8      09970         BCF     STATUS, 0
0272 09971 _00174_DS_:
0272 3600      09972         RLCF    r0x09, F
0274 0F01      09973         ADDLW   0x01
0276 E300      09974         BNC     _00174_DS_
0278 09975 _00173_DS_:
0278 5000      09976         MOVF    r0x09, W
027A 1000      09977         IORWF   r0x08, W
027C 6E00      09978         MOVWF   r0x07
027E C000 FFE9 09979         MOVFF   r0x02, FSR0L
0282 C000 FFEA 09980         MOVFF   r0x06, FSR0H
0286 C000 FFEF 09981         MOVFF   r0x07, INDF0
               09982 ;       .line   58; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       capturemask[row]   |= (1<<(col + 1));
Error [113] : Symbol not previously defined (_capturemask).
028A 0E00      09983         MOVLW   LOW(_capturemask)
028C 2400      09984         ADDWF   r0x05, W
028E 6E00      09985         MOVWF   r0x02
0290 6A00      09986         CLRF    r0x06
Error [113] : Symbol not previously defined (_capturemask).
0292 0E00      09987         MOVLW   HIGH(_capturemask)
0294 2200      09988         ADDWFC  r0x06, F
0296 C000 FFE9 09989         MOVFF   r0x02, FSR0L
029A C000 FFEA 09990         MOVFF   r0x06, FSR0H
029E CFEF F000 09991         MOVFF   INDF0, r0x07
02A2 5000      09992         MOVF    r0x07, W
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 193


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02A4 1200      09993         IORWF   r0x09, F
02A6 C000 FFE9 09994         MOVFF   r0x02, FSR0L
02AA C000 FFEA 09995         MOVFF   r0x06, FSR0H
02AE C000 FFEF 09996         MOVFF   r0x09, INDF0
               09997 ;       .line   59; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if (capturemask[opp_king_pos[0]]  & (1 << opp_king_pos[1])) kingcapture = TRUE;
Error [113] : Symbol not previously defined (_capturemask).
02B2 0E00      09998         MOVLW   LOW(_capturemask)
02B4 0000      09999         BANKSEL _opp_king_pos
02B6 2500      10000         ADDWF   _opp_king_pos, W, B
02B8 6E00      10001         MOVWF   r0x02
02BA 6A00      10002         CLRF    r0x06
Error [113] : Symbol not previously defined (_capturemask).
02BC 0E00      10003         MOVLW   HIGH(_capturemask)
02BE 2200      10004         ADDWFC  r0x06, F
02C0 C000 FFE9 10005         MOVFF   r0x02, FSR0L
02C4 C000 FFEA 10006         MOVFF   r0x06, FSR0H
02C8 CFEF F000 10007         MOVFF   INDF0, r0x02
02CC 0E01      10008         MOVLW   0x01
02CE 6E00      10009         MOVWF   r0x06
02D0 6A00      10010         CLRF    r0x07
               10011 ; removed redundant BANKSEL
02D2 5100      10012         MOVF    (_opp_king_pos + 1), W, B
02D4 E000      10013         BZ      _00177_DS_
02D6 6CE8      10014         NEGF    WREG
02D8 90D8      10015         BCF     STATUS, 0
02DA 10016 _00178_DS_:
02DA 3600      10017         RLCF    r0x06, F
02DC 3600      10018         RLCF    r0x07, F
02DE 0F01      10019         ADDLW   0x01
02E0 E300      10020         BNC     _00178_DS_
02E2 10021 _00177_DS_:
02E2 6A00      10022         CLRF    r0x08
02E4 5000      10023         MOVF    r0x02, W
02E6 1600      10024         ANDWF   r0x06, F
02E8 5000      10025         MOVF    r0x08, W
02EA 1600      10026         ANDWF   r0x07, F
02EC 5000      10027         MOVF    r0x06, W
02EE 1000      10028         IORWF   r0x07, W
02F0 E000      10029         BZ      _00128_DS_
02F2 0E01      10030         MOVLW   0x01
Error [113] : Symbol not previously defined (_kingcapture).
02F4 0100      10031         BANKSEL _kingcapture
Error [113] : Symbol not previously defined (_kingcapture).
Error [113] : Symbol not previously defined (_kingcapture).
02F6 6F00      10032         MOVWF   _kingcapture, B
02F8 10033 _00128_DS_:
               10034 ;       .line   63; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if ((piececolour == BLACK  && from[0] == BL_PAWN_BASEROW) || (piececolour == WHITE && from[0] == WH_PAWN_BASEROW))
02F8 5000      10035         MOVF    r0x03, W
02FA 0A08      10036         XORLW   0x08
02FC E100      10037         BNZ     _00141_DS_
02FE 5000      10038         MOVF    r0x04, W
0300 0A06      10039         XORLW   0x06
0302 E000      10040         BZ      _00137_DS_
0304 10041 _00141_DS_:
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 194


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0304 5000      10042         MOVF    r0x03, W
0306 A4D8      10043         BTFSS   STATUS, 2
0308 D000      10044         BRA     _00142_DS_
030A 5000      10045         MOVF    r0x04, W
030C 0A01      10046         XORLW   0x01
030E E100      10047         BNZ     _00142_DS_
0310 10048 _00137_DS_:
               10049 ;       .line   64; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       {  if (piececolour == WHITE)
0310 5000      10050         MOVF    r0x03, W
0312 E100      10051         BNZ     _00132_DS_
               10052 ;       .line   65; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       row++;
0314 2A00      10053         INCF    r0x05, F
0316 D000      10054         BRA     _00133_DS_
0318 10055 _00132_DS_:
               10056 ;       .line   67; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       row--;
0318 0600      10057         DECF    r0x05, F
               10058 ; ;multiply lit val:0x08 by variable r0x05 and store in r0x02
               10059 ; ;Unrolled 8 X 8 multiplication
               10060 ; ;FIXME: the function does not support result==WREG
031A 10061 _00133_DS_:
               10062 ;       .line   68; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       if ((board[row][col] == EMPTY) && (piecefound ==FALSE))
031A 5000      10063         MOVF    r0x05, W
031C 0D08      10064         MULLW   0x08
031E CFF3 F000 10065         MOVFF   PRODL, r0x02
0322 6A00      10066         CLRF    r0x03
Error [113] : Symbol not previously defined (_board).
0324 0E00      10067         MOVLW   LOW(_board)
0326 2600      10068         ADDWF   r0x02, F
Error [113] : Symbol not previously defined (_board).
0328 0E00      10069         MOVLW   HIGH(_board)
032A 2200      10070         ADDWFC  r0x03, F
032C 5000      10071         MOVF    r0x00, W
032E 2600      10072         ADDWF   r0x02, F
0330 6AE8      10073         CLRF    WREG
0332 2200      10074         ADDWFC  r0x03, F
0334 C000 FFE9 10075         MOVFF   r0x02, FSR0L
0338 C000 FFEA 10076         MOVFF   r0x03, FSR0H
033C CFEF F000 10077         MOVFF   INDF0, r0x02
0340 5000      10078         MOVF    r0x02, W
0342 E100      10079         BNZ     _00142_DS_
0344 5000      10080         MOVF    r0x01, W
0346 E100      10081         BNZ     _00142_DS_
               10082 ;       .line   69; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       { validmovemask[row] |= (1<<col);
0348 6A00      10083         CLRF    r0x01
Error [113] : Symbol not previously defined (_validmovemask).
034A 0E00      10084         MOVLW   LOW(_validmovemask)
034C 2600      10085         ADDWF   r0x05, F
Error [113] : Symbol not previously defined (_validmovemask).
034E 0E00      10086         MOVLW   HIGH(_validmovemask)
0350 2200      10087         ADDWFC  r0x01, F
0352 C000 FFE9 10088         MOVFF   r0x05, FSR0L
0356 C000 FFEA 10089         MOVFF   r0x01, FSR0H
035A CFEF F000 10090         MOVFF   INDF0, r0x02
035E 0E01      10091         MOVLW   0x01
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 195


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0360 6E00      10092         MOVWF   r0x03
0362 5000      10093         MOVF    r0x00, W
0364 E000      10094         BZ      _00185_DS_
0366 6CE8      10095         NEGF    WREG
0368 90D8      10096         BCF     STATUS, 0
036A 10097 _00186_DS_:
036A 3600      10098         RLCF    r0x03, F
036C 0F01      10099         ADDLW   0x01
036E E300      10100         BNC     _00186_DS_
0370 10101 _00185_DS_:
0370 5000      10102         MOVF    r0x03, W
0372 1000      10103         IORWF   r0x02, W
0374 6E00      10104         MOVWF   r0x00
0376 C000 FFE9 10105         MOVFF   r0x05, FSR0L
037A C000 FFEA 10106         MOVFF   r0x01, FSR0H
037E C000 FFEF 10107         MOVFF   r0x00, INDF0
0382 10108 _00142_DS_:
0382 CFE4 F000 10109         MOVFF   PREINC1, r0x0c
0386 CFE4 F000 10110         MOVFF   PREINC1, r0x0b
038A CFE4 F000 10111         MOVFF   PREINC1, r0x0a
038E CFE4 F000 10112         MOVFF   PREINC1, r0x09
0392 CFE4 F000 10113         MOVFF   PREINC1, r0x08
0396 CFE4 F000 10114         MOVFF   PREINC1, r0x07
039A CFE4 F000 10115         MOVFF   PREINC1, r0x06
039E CFE4 F000 10116         MOVFF   PREINC1, r0x05
03A2 CFE4 F000 10117         MOVFF   PREINC1, r0x04
03A6 CFE4 F000 10118         MOVFF   PREINC1, r0x03
03AA CFE4 F000 10119         MOVFF   PREINC1, r0x02
03AE CFE4 F000 10120         MOVFF   PREINC1, r0x01
03B2 CFE4 F000 10121         MOVFF   PREINC1, r0x00
03B6 CFE4 FFD9 10122         MOVFF   PREINC1, FSR2L
03BA 0012      10123         RETURN  
               10124 
               10125 ; ; Starting pCode block
               10126 S_main__val_empty       code
0000 10127 _val_empty:
               10128 ;       .line   14; /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/examples/11.Fun/Chess/validate.c       piececolour = piececolour;
0000 0012      10129         RETURN  
               10130 
               10131 ; ; Starting pCode block
0002 10132 __str_0:
0002 6E28 6C75 10133         DB      0x28, 0x6e, 0x75, 0x6c, 0x6c, 0x29, 0x00
     296C 0000 
               10134 ; ; Starting pCode block
000A 10135 __str_1:
000A 6F6E 2074 10136         DB      0x6e, 0x6f, 0x74, 0x20, 0x79, 0x65, 0x74, 0x20, 0x69, 0x6d, 0x70, 0x6c
     6579 2074 
     6D69 6C70 
0016 6D65 6E65 10137         DB      0x65, 0x6d, 0x65, 0x6e, 0x74, 0x65, 0x64, 0x00, 0x00
     6574 0064 
     0000      
               10138 ; ; Starting pCode block
0020 10139 __str_2:
0020 6325 0000 10140         DB      0x25, 0x63, 0x00
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 196


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               10141 ; ; Starting pCode block
0024 10142 __str_3:
0024 6425 0000 10143         DB      0x25, 0x64, 0x00
               10144 ; ; Starting pCode block
0028 10145 __str_4:
0028 7825 0000 10146         DB      0x25, 0x78, 0x00
               10147 ; ; Starting pCode block
002C 10148 __str_5:
002C 0D0A 0000 10149         DB      0x0a, 0x0d, 0x00
               10150 ; ; Starting pCode block
0030 10151 __str_6:
0030 0A0D 0000 10152         DB      0x0d, 0x0a, 0x00
               10153 ; ; Starting pCode block
0034 10154 __str_7:
0034 2D2D 2D2D 10155         DB      0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d
     2D2D 2D2D 
     2D2D 2D2D 
0040 2D2D 2D2D 10156         DB      0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d
     2D2D 2D2D 
     2D2D 2D2D 
004C 2D2D 2D2D 10157         DB      0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d, 0x0d, 0x0a, 0x00
     2D2D 2D2D 
     0D2D 000A 
               10158 ; ; Starting pCode block
0058 10159 __str_8:
0058 202D 4C50 10160         DB      0x2d, 0x20, 0x50, 0x4c, 0x41, 0x59, 0x20, 0x43, 0x48, 0x45, 0x53, 0x53
     5941 4320 
     4548 5353 
0064 5720 5449 10161         DB      0x20, 0x57, 0x49, 0x54, 0x48, 0x20, 0x59, 0x4f, 0x55, 0x52, 0x20, 0x50
     2048 4F59 
     5255 5020 
0070 4E49 5547 10162         DB      0x49, 0x4e, 0x47, 0x55, 0x49, 0x4e, 0x4f, 0x20, 0x2d, 0x0d, 0x0a, 0x00
     4E49 204F 
     0D2D 000A 
               10163 ; ; Starting pCode block
007C 10164 __str_9:
007C 202D 6E69 10165         DB      0x2d, 0x20, 0x69, 0x6e, 0x70, 0x75, 0x74, 0x20, 0x65, 0x78, 0x61, 0x6d
     7570 2074 
     7865 6D61 
0088 6C70 2065 10166         DB      0x70, 0x6c, 0x65, 0x20, 0x3a, 0x20, 0x65, 0x32, 0x65, 0x34, 0x20, 0x20
     203A 3265 
     3465 2020 
0094 2020 2020 10167         DB      0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x2d, 0x0d, 0x0a, 0x00
     2020 2020 
     0D2D 000A 
               10168 ; ; Starting pCode block
00A0 10169 __str_10:
00A0 6F4A 6575 10170         DB      0x4a, 0x6f, 0x75, 0x65, 0x7a, 0x20, 0x3a, 0x20, 0x00
     207A 203A 
     0000      
               10171 ; ; Starting pCode block
00AA 10172 __str_11:
00AA 6F56 7375 10173         DB      0x56, 0x6f, 0x75, 0x73, 0x20, 0x6a, 0x6f, 0x75, 0x65, 0x7a, 0x20, 0x3a
     6A20 756F 
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 197


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
     7A65 3A20 
00B6 0020      10174         DB      0x20, 0x00
               10175 ; ; Starting pCode block
00B8 10176 __str_12:
00B8 2D20 203E 10177         DB      0x20, 0x2d, 0x3e, 0x20, 0x00
     0000      
               10178 ; ; Starting pCode block
00BE 10179 __str_13:
00BE 0A0D 6C49 10180         DB      0x0d, 0x0a, 0x49, 0x6c, 0x6c, 0x65, 0x67, 0x61, 0x6c, 0x20, 0x6d, 0x6f
     656C 6167 
     206C 6F6D 
00CA 6576 6620 10181         DB      0x76, 0x65, 0x20, 0x66, 0x72, 0x6f, 0x6d, 0x20, 0x74, 0x68, 0x69, 0x73
     6F72 206D 
     6874 7369 
00D6 7020 6569 10182         DB      0x20, 0x70, 0x69, 0x65, 0x63, 0x65, 0x0d, 0x0a, 0x00
     6563 0A0D 
     0000      
               10183 ; ; Starting pCode block
00E0 10184 __str_14:
00E0 2749 206D 10185         DB      0x49, 0x27, 0x6d, 0x20, 0x74, 0x68, 0x69, 0x6e, 0x6b, 0x69, 0x6e, 0x67
     6874 6E69 
     696B 676E 
00EC 2E20 2E2E 10186         DB      0x20, 0x2e, 0x2e, 0x2e, 0x00
     0000      
               10187 ; ; Starting pCode block
00F2 10188 __str_15:
00F2 654A 6A20 10189         DB      0x4a, 0x65, 0x20, 0x6a, 0x6f, 0x75, 0x65, 0x20, 0x3a, 0x20, 0x00
     756F 2065 
     203A 0000 
               10190 ; ; Starting pCode block
00FE 10191 __str_16:
00FE 6950 676E 10192         DB      0x50, 0x69, 0x6e, 0x67, 0x75, 0x69, 0x6e, 0x6f, 0x20, 0x6c, 0x6f, 0x73
     6975 6F6E 
     6C20 736F 
010A 2074 202D 10193         DB      0x74, 0x20, 0x2d, 0x20, 0x59, 0x6f, 0x75, 0x20, 0x77, 0x69, 0x6e, 0x21
     6F59 2075 
     6977 216E 
0116 0A0D 0000 10194         DB      0x0d, 0x0a, 0x00
               10195 ; ; Starting pCode block
011A 10196 __str_17:
011A 6557 6C6C 10197         DB      0x57, 0x65, 0x6c, 0x6c, 0x20, 0x64, 0x6f, 0x6e, 0x65, 0x20, 0x6d, 0x79
     6420 6E6F 
     2065 796D 
0126 6620 6972 10198         DB      0x20, 0x66, 0x72, 0x69, 0x65, 0x6e, 0x64, 0x21, 0x0d, 0x0a, 0x00
     6E65 2164 
     0A0D 0000 
               10199 ; ; Starting pCode block
0132 10200 __str_18:
0132 7551 6565 10201         DB      0x51, 0x75, 0x65, 0x65, 0x6e, 0x73, 0x69, 0x64, 0x65, 0x20, 0x43, 0x61
     736E 6469 
     2065 6143 
013E 7473 656C 10202         DB      0x73, 0x74, 0x6c, 0x65, 0x0a, 0x00
     000A      
               10203 ; ; Starting pCode block
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 198


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0144 10204 __str_19:
0144 694B 676E 10205         DB      0x4b, 0x69, 0x6e, 0x67, 0x73, 0x69, 0x64, 0x65, 0x20, 0x43, 0x61, 0x73
     6973 6564 
     4320 7361 
0150 6C74 0A65 10206         DB      0x74, 0x6c, 0x65, 0x0a, 0x00
     0000      
               10207 ; ; Starting pCode block for Ival
               10208         code
0000 10209 _ligne:
0000 2B20 2B2D 10210         DB      0x20, 0x2b, 0x2d, 0x2b, 0x2d, 0x2b, 0x2d, 0x2b, 0x2d, 0x2b, 0x2d, 0x2b
     2B2D 2B2D 
     2B2D 2B2D 
000C 2B2D 2B2D 10211         DB      0x2d, 0x2b, 0x2d, 0x2b, 0x2d, 0x2b, 0x00
     2B2D 0000 
               10212 ; ; Starting pCode block
0014 10213 __str_20:
0014 0A0D 7325 10214         DB      0x0d, 0x0a, 0x25, 0x73, 0x0d, 0x0a, 0x00
     0A0D 0000 
               10215 ; ; Starting pCode block
001C 10216 __str_21:
001C 2020 2061 10217         DB      0x20, 0x20, 0x61, 0x20, 0x62, 0x20, 0x63, 0x20, 0x64, 0x20, 0x65, 0x20
     2062 2063 
     2064 2065 
0028 2066 2067 10218         DB      0x66, 0x20, 0x67, 0x20, 0x68, 0x0d, 0x0a, 0x0d, 0x0a, 0x00
     0D68 0D0A 
     000A      
               10219 ; ; Starting pCode block
0032 10220 __str_22:
0032 0A0D 6C69 10221         DB      0x0d, 0x0a, 0x69, 0x6c, 0x6c, 0x65, 0x67, 0x61, 0x6c, 0x20, 0x6d, 0x6f
     656C 6167 
     206C 6F6D 
003E 6576 0D21 10222         DB      0x76, 0x65, 0x21, 0x0d, 0x0a, 0x00
     000A      
               10223 
               10224 
               10225 ; Statistics:
               10226 ; code size:    20510 (0x501e) bytes (15.65%)
               10227 ;               10255 (0x280f) words
               10228 ; udata size:     314 (0x013a) bytes (17.52%)
               10229 ; access size:     31 (0x001f) bytes
               10230 
               10231 
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 199


SYMBOL TABLE
  LABEL                             VALUE 

BSR                               00000FE0
FSR0H                             00000FEA
FSR0L                             00000FE9
FSR1H                             00000FE2
FSR1L                             00000FE1
FSR2H                             00000FDA
FSR2L                             00000FD9
INDF0                             00000FEF
INTCON                            00000FF2
PCL                               00000FF9
PCLATH                            00000FFA
PCLATU                            00000FFB
PLUSW1                            00000FE3
PLUSW2                            00000FDB
POSTDEC1                          00000FE5
POSTINC0                          00000FEE
POSTINC1                          00000FE6
PREINC1                           00000FE4
PRODH                             00000FF4
PRODL                             00000FF3
STATUS                            00000FD8
TBLPTRL                           00000FF6
TOSH                              00000FFE
TOSL                              00000FFD
TOSU                              00000FFF
WREG                              00000FE8
_00111_DS_                        0000009A
_00112_DS_                        000000AA
_00114_DS_                        000000B2
_00115_DS_                        000000B4
_00117_DS_                        0000011E
_00118_DS_                        00000122
_00122_DS_                        00000216
_00128_DS_                        000002F8
_00132_DS_                        00000318
_00133_DS_                        0000031A
_00137_DS_                        00000310
_00141_DS_                        00000304
_00142_DS_                        00000382
_00160_DS_                        0000010C
_00161_DS_                        00000106
_00165_DS_                        00000196
_00166_DS_                        00000190
_00169_DS_                        00000200
_00170_DS_                        000001F8
_00173_DS_                        00000278
_00174_DS_                        00000272
_00177_DS_                        000002E2
_00178_DS_                        000002DA
_00185_DS_                        00000370
_00186_DS_                        0000036A
_00192_DS_                        00000046
_00193_DS_                        00000056
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 200


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_00200_DS_                        000000DE
_00201_DS_                        000000EE
_00202_DS_                        0000015A
_00203_DS_                        00000160
_00204_DS_                        00000166
_00205_DS_                        0000016C
_00209_DS_                        00000172
_00210_DS_                        00000176
_00211_DS_                        000001EC
_00212_DS_                        000001F2
_00213_DS_                        000001F8
_00214_DS_                        000001FE
_00218_DS_                        00000204
_00219_DS_                        00000208
_00226_DS_                        00000410
_00230_DS_                        00000330
_00232_DS_                        000004D6
_00234_DS_                        000004E0
_00236_DS_                        00000216
_00237_DS_                        0000021A
_00238_DS_                        0000021E
_00239_DS_                        0000023C
_00240_DS_                        00000240
_00241_DS_                        00000244
_00242_DS_                        00000262
_00243_DS_                        00000266
_00244_DS_                        0000026A
_00245_DS_                        00000288
_00246_DS_                        0000028C
_00247_DS_                        00000290
_00248_DS_                        000002A8
_00249_DS_                        000002AC
_00250_DS_                        000002B0
_00251_DS_                        000002C8
_00252_DS_                        000002CC
_00253_DS_                        000002D0
_00254_DS_                        000002E8
_00255_DS_                        000002EC
_00256_DS_                        000002F0
_00257_DS_                        00000308
_00258_DS_                        0000030C
_00259_DS_                        00000310
_00280_DS_                        0000013A
_00282_DS_                        000001CC
_00302_DS_                        000003FE
_00303_DS_                        000003F8
_00306_DS_                        00000458
_00307_DS_                        00000452
_00310_DS_                        000004C0
_00311_DS_                        000004B8
_00317_DS_                        00000046
_00318_DS_                        00000056
_00325_DS_                        00000046
_00326_DS_                        00000056
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 201


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_00333_DS_                        0000004A
_00334_DS_                        0000005A
_00336_DS_                        00000148
_00337_DS_                        0000014E
_00339_DS_                        0000017C
_00342_DS_                        000001AA
_00361_DS_                        000001CE
_00363_DS_                        000001D4
_00367_DS_                        0000011A
_00371_DS_                        000000A8
_00374_DS_                        000001DA
_00385_DS_                        00000090
_00386_DS_                        0000008A
_00393_DS_                        000001B8
_00394_DS_                        000001B0
_00400_DS_                        000001F0
_00402_DS_                        000001F6
_00406_DS_                        00000134
_00410_DS_                        000000B4
_00413_DS_                        000001FC
_00424_DS_                        0000009C
_00425_DS_                        0000008C
_00426_DS_                        00000096
_00427_DS_                        00000094
_00434_DS_                        000001DA
_00435_DS_                        000001D2
_00441_DS_                        000001DE
_00443_DS_                        000001E4
_00447_DS_                        00000118
_00451_DS_                        000000A0
_00454_DS_                        000001EA
_00467_DS_                        00000106
_00468_DS_                        00000100
_00471_DS_                        00000160
_00472_DS_                        0000015A
_00475_DS_                        000001C8
_00476_DS_                        000001C0
_00482_DS_                        0000020C
_00484_DS_                        00000212
_00488_DS_                        00000132
_00492_DS_                        000000A4
_00495_DS_                        00000218
_00508_DS_                        00000120
_00509_DS_                        00000110
_00510_DS_                        0000011A
_00511_DS_                        00000118
_00514_DS_                        0000018A
_00515_DS_                        0000017A
_00516_DS_                        00000184
_00517_DS_                        00000182
_00520_DS_                        000001F6
_00521_DS_                        000001EE
_00527_DS_                        000001D0
_00529_DS_                        000001D6
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 202


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_00532_DS_                        0000011A
_00537_DS_                        0000008A
_00540_DS_                        000001DC
_00552_DS_                        00000108
_00553_DS_                        00000102
_00556_DS_                        00000152
_00557_DS_                        0000014C
_00560_DS_                        000001BA
_00561_DS_                        000001B2
_00567_DS_                        000001D2
_00569_DS_                        000001D8
_00572_DS_                        0000011C
_00577_DS_                        0000008A
_00580_DS_                        000001DE
_00593_DS_                        0000010A
_00594_DS_                        00000104
_00597_DS_                        00000154
_00598_DS_                        0000014E
_00601_DS_                        000001BC
_00602_DS_                        000001B4
_00608_DS_                        000001D0
_00610_DS_                        000001D6
_00613_DS_                        0000011A
_00618_DS_                        0000008A
_00621_DS_                        000001DC
_00633_DS_                        00000108
_00634_DS_                        00000102
_00637_DS_                        00000152
_00638_DS_                        0000014C
_00641_DS_                        000001BA
_00642_DS_                        000001B2
_00648_DS_                        000001CE
_00650_DS_                        000001D4
_00653_DS_                        00000118
_00658_DS_                        0000008A
_00661_DS_                        000001DA
_00672_DS_                        00000106
_00673_DS_                        00000100
_00676_DS_                        00000150
_00677_DS_                        0000014A
_00680_DS_                        000001B8
_00681_DS_                        000001B0
_00687_DS_                        00000094
_00689_DS_                        000000C2
_00692_DS_                        000000BE
_00698_DS_                        000000F6
_00699_DS_                        000000FE
_00703_DS_                        00000106
_00706_DS_                        000000B6
_00709_DS_                        000000DC
_00710_DS_                        00000116
_00714_DS_                        00000164
_00718_DS_                        000001B2
_00721_DS_                        000001E8
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 203


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_00732_DS_                        0000015C
_00734_DS_                        000001A2
_00736_DS_                        0000014C
_00739_DS_                        000000A4
_00740_DS_                        000000EE
_00743_DS_                        00000122
_00744_DS_                        000001BE
_00750_DS_                        0000012A
_00752_DS_                        00000156
_00756_DS_                        000001C0
_00757_DS_                        0000018A
_00761_DS_                        00000242
_00765_DS_                        0000025C
_00766_DS_                        000002A0
_00778_DS_                        000001FE
_00779_DS_                        0000013A
_00780_DS_                        0000013C
_00782_DS_                        000001BA
_00794_DS_                        0000010A
_00798_DS_                        0000023C
_00800_DS_                        000002CE
_00802_DS_                        0000035E
_00804_DS_                        000003EE
_00806_DS_                        0000047E
_00808_DS_                        0000050E
_00810_DS_                        0000059E
_00812_DS_                        00000622
_00815_DS_                        00000668
_00819_DS_                        00000092
_00821_DS_                        00000692
_00822_DS_                        000006A0
_00824_DS_                        000006D0
_00826_DS_                        0000012A
_00833_DS_                        000001FA
_00840_DS_                        000000FE
_00857_DS_                        00000186
_00859_DS_                        000000B4
_00861_DS_                        000000E8
_00870_DS_                        000001A8
_00872_DS_                        00000244
_00874_DS_                        000002D6
_00876_DS_                        00000366
_00878_DS_                        000003F6
_00880_DS_                        00000486
_00882_DS_                        00000516
_00884_DS_                        000005A6
_00909_DS_                        00000012
_00914_DS_                        00000012
_00923_DS_                        00000022
_00924_DS_                        00000026
_00926_DS_                        0000004C
_00929_DS_                        0000005A
_00935_DS_                        0000001A
_00947_DS_                        00000042
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 204


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_00968_DS_                        00000004
_00976_DS_                        00000012
_00990_DS_                        00000068
_00991_DS_                        000000B4
_00992_DS_                        00000100
_00993_DS_                        00000144
_00994_DS_                        000001C0
_00995_DS_                        0000023C
_00997_DS_                        000002A4
_01005_DS_                        0000004A
_01007_DS_                        00000052
_01009_DS_                        0000005A
_01051_DS_                        0000007A
_01055_DS_                        00000272
_01059_DS_                        000003FC
_01064_DS_                        00000412
_01066_DS_                        00000590
_01069_DS_                        00000578
_01072_DS_                        000005A2
_01075_DS_                        00000592
_01078_DS_                        000002C0
_01080_DS_                        00000288
_01084_DS_                        00000306
_01088_DS_                        000002F0
_01090_DS_                        0000041A
_01091_DS_                        00000422
_01092_DS_                        000005A4
_01095_DS_                        000004E2
_01096_DS_                        000004D4
_01097_DS_                        000004D8
_01098_DS_                        000004DC
_01106_DS_                        00000286
_01125_DS_                        00000122
_01126_DS_                        00000156
_01127_DS_                        0000014E
_01129_DS_                        000002CA
_01130_DS_                        000002CC
_01135_DS_                        00000394
_01145_DS_                        000004AA
_01147_DS_                        000004C4
_01153_DS_                        000002AA
_01157_DS_                        00000314
_01160_DS_                        000002EE
_01161_DS_                        00000338
_01164_DS_                        000003DC
_01168_DS_                        00000416
_01169_DS_                        00000090
_01172_DS_                        00000110
_01173_DS_                        000003E0
_01177_DS_                        0000016A
_01181_DS_                        00000124
_01183_DS_                        00000444
_01184_DS_                        00000448
_01187_DS_                        00000348
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 205


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_01188_DS_                        00000350
_01189_DS_                        00000360
_01190_DS_                        00000368
_01206_DS_                        000003DE
_01217_DS_                        00000268
_01218_DS_                        00000262
_01221_DS_                        000002C4
_01222_DS_                        000002BE
_01224_DS_                        000002E2
_01225_DS_                        000002DC
_01227_DS_                        00000308
_01228_DS_                        00000302
_01230_DS_                        0000032E
_01231_DS_                        00000328
_01242_DS_                        000000DC
_01244_DS_                        00000284
_01247_DS_                        000001CC
_01249_DS_                        0000028C
_01251_DS_                        000001A0
_01253_DS_                        000002A0
_01255_DS_                        00000338
_01258_DS_                        00000342
_01259_DS_                        00000346
_01273_DS_                        000000BC
_01274_DS_                        000000BE
_01277_DS_                        000001AC
_01278_DS_                        000001D8
_01282_DS_                        00000280
_01287_DS_                        000000B4
_01288_DS_                        000000C2
_01289_DS_                        000000CC
_01290_DS_                        000000D2
_01291_DS_                        0000013A
_01292_DS_                        0000013C
_01295_DS_                        00000050
_01296_DS_                        00000054
_01297_DS_                        00000130
_01298_DS_                        00000134
_01308_DS_                        000000A4
_01318_DS_                        00000218
_01323_DS_                        000002BE
_01324_DS_                        0000035A
_01328_DS_                        000002A2
_01330_DS_                        00000288
_01331_DS_                        000003EC
_01335_DS_                        0000047C
_01337_DS_                        0000008C
_01338_DS_                        00000094
_01339_DS_                        000000A6
_01340_DS_                        000000A8
_01355_DS_                        000000B2
_01357_DS_                        00000184
_01359_DS_                        0000019C
_01366_DS_                        00000224
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 206


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_01371_DS_                        000002AA
_01376_DS_                        00000400
_01377_DS_                        00000440
_01378_DS_                        00000438
_01379_DS_                        00000466
_01380_DS_                        00000460
_01386_DS_                        0000006C
_01388_DS_                        0000009A
_01393_DS_                        0000006E
_01397_DS_                        0000005A
_01399_DS_                        0000008E
_01400_DS_                        00000096
_01401_DS_                        00000098
_01404_DS_                        000000D2
_01423_DS_                        00000114
_01424_DS_                        00000120
_01425_DS_                        0000012C
_01426_DS_                        00000138
_01427_DS_                        00000144
_01428_DS_                        00000150
_01429_DS_                        0000015C
_01430_DS_                        00000168
_01431_DS_                        00000174
_01432_DS_                        00000180
_01433_DS_                        0000018C
_01434_DS_                        00000198
_01435_DS_                        000001A4
_01436_DS_                        000001AE
_01437_DS_                        00000074
_01440_DS_                        000001BC
_01441_DS_                        00000044
_01444_DS_                        000001FA
_01456_DS_                        000000D8
_01461_DS_                        00000130
_01462_DS_                        00000148
_01464_DS_                        0000023C
_01467_DS_                        00000236
_01468_DS_                        0000023A
_01473_DS_                        000001E6
_01474_DS_                        000001E8
_01475_DS_                        00000220
_01476_DS_                        00000222
_01482_DS_                        00000010
_11496_DS_                        00000270
_21497_DS_                        00000576
_31498_DS_                        00000590
_ADCON0                           00000000
_ADCON0bits                       00000000
_ADCON1                           00000000
_ADCON1bits                       00000000
_ADCON2                           00000000
_ADCON2bits                       00000000
_ADRESH                           00000000
_ADRESL                           00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 207


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_BAUDCON                          00000000
_BAUDCONbits                      00000000
_BSR                              00000000
_BSRbits                          00000000
_CCP1CON                          00000000
_CCP1CONbits                      00000000
_CCP2CON                          00000000
_CCP2CONbits                      00000000
_CCPR1H                           00000000
_CCPR1L                           00000000
_CCPR2H                           00000000
_CCPR2L                           00000000
_CMCON                            00000000
_CMCONbits                        00000000
_CVRCON                           00000000
_CVRCONbits                       00000000
_ECCP1AS                          00000000
_ECCP1ASbits                      00000000
_ECCP1DEL                         00000000
_ECCP1DELbits                     00000000
_EEADR                            00000000
_EECON1                           00000000
_EECON1bits                       00000000
_EECON2                           00000000
_EEDATA                           00000000
_FSR0H                            00000000
_FSR0Hbits                        00000000
_FSR0L                            00000000
_FSR1H                            00000000
_FSR1Hbits                        00000000
_FSR1L                            00000000
_FSR2H                            00000000
_FSR2Hbits                        00000000
_FSR2L                            00000000
_HLVDCON                          00000000
_HLVDCONbits                      00000000
_INDF0                            00000000
_INDF1                            00000000
_INDF2                            00000000
_INTCON                           00000000
_INTCON2                          00000000
_INTCON2bits                      00000000
_INTCON3                          00000000
_INTCON3bits                      00000000
_INTCONbits                       00000000
_IPR1                             00000000
_IPR1bits                         00000000
_IPR2                             00000000
_IPR2bits                         00000000
_LATA                             00000000
_LATAbits                         00000000
_LATB                             00000000
_LATBbits                         00000000
_LATC                             00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 208


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_LATCbits                         00000000
_LATD                             00000000
_LATDbits                         00000000
_LATE                             00000000
_LATEbits                         00000000
_OSCCON                           00000000
_OSCCONbits                       00000000
_OSCTUNE                          00000000
_OSCTUNEbits                      00000000
_PCL                              00000000
_PCLATH                           00000000
_PCLATHbits                       00000000
_PCLATU                           00000000
_PCLATUbits                       00000000
_PIE1                             00000000
_PIE1bits                         00000000
_PIE2                             00000000
_PIE2bits                         00000000
_PIR1                             00000000
_PIR1bits                         00000000
_PIR2                             00000000
_PIR2bits                         00000000
_PLUSW0                           00000000
_PLUSW1                           00000000
_PLUSW2                           00000000
_PORTA                            00000000
_PORTAbits                        00000000
_PORTB                            00000000
_PORTBbits                        00000000
_PORTC                            00000000
_PORTCbits                        00000000
_PORTD                            00000000
_PORTDbits                        00000000
_PORTE                            00000000
_PORTEbits                        00000000
_POSTDEC0                         00000000
_POSTDEC1                         00000000
_POSTDEC2                         00000000
_POSTINC0                         00000000
_POSTINC1                         00000000
_POSTINC2                         00000000
_PR2                              00000000
_PREINC0                          00000000
_PREINC1                          00000000
_PREINC2                          00000000
_PRODH                            00000000
_PRODL                            00000000
_RCON                             00000000
_RCONbits                         00000000
_RCREG                            00000000
_RCSTA                            00000000
_RCSTAbits                        00000000
_SPBRG                            00000000
_SPBRGH                           00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 209


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_SPPCFG                           00000000
_SPPCFGbits                       00000000
_SPPCON                           00000000
_SPPCONbits                       00000000
_SPPDATA                          00000000
_SPPDATAbits                      00000000
_SPPEPS                           00000000
_SPPEPSbits                       00000000
_SSPADD                           00000000
_SSPBUF                           00000000
_SSPCON1                          00000000
_SSPCON1bits                      00000000
_SSPCON2                          00000000
_SSPCON2bits                      00000000
_SSPSTAT                          00000000
_SSPSTATbits                      00000000
_STATUS                           00000000
_STATUSbits                       00000000
_STKPTR                           00000000
_STKPTRbits                       00000000
_T0CON                            00000000
_T0CONbits                        00000000
_T1CON                            00000000
_T1CONbits                        00000000
_T2CON                            00000000
_T2CONbits                        00000000
_T3CON                            00000000
_T3CONbits                        00000000
_TABLAT                           00000000
_TBLPTRH                          00000000
_TBLPTRL                          00000000
_TBLPTRU                          00000000
_TBLPTRUbits                      00000000
_TMR0H                            00000000
_TMR0L                            00000000
_TMR1H                            00000000
_TMR1L                            00000000
_TMR2                             00000000
_TMR3H                            00000000
_TMR3L                            00000000
_TOSH                             00000000
_TOSL                             00000000
_TOSU                             00000000
_TOSUbits                         00000000
_TRISA                            00000000
_TRISAbits                        00000000
_TRISB                            00000000
_TRISBbits                        00000000
_TRISC                            00000000
_TRISCbits                        00000000
_TRISD                            00000000
_TRISDbits                        00000000
_TRISE                            00000000
_TRISEbits                        00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 210


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_TXREG                            00000000
_TXSTA                            00000000
_TXSTAbits                        00000000
_UADDR                            00000000
_UADDRbits                        00000000
_UCFG                             00000000
_UCFGbits                         00000000
_UCON                             00000000
_UCONbits                         00000000
_UEIE                             00000000
_UEIEbits                         00000000
_UEIR                             00000000
_UEIRbits                         00000000
_UEP0                             00000000
_UEP0bits                         00000000
_UEP1                             00000000
_UEP10                            00000000
_UEP10bits                        00000000
_UEP11                            00000000
_UEP11bits                        00000000
_UEP12                            00000000
_UEP12bits                        00000000
_UEP13                            00000000
_UEP13bits                        00000000
_UEP14                            00000000
_UEP14bits                        00000000
_UEP15                            00000000
_UEP15bits                        00000000
_UEP1bits                         00000000
_UEP2                             00000000
_UEP2bits                         00000000
_UEP3                             00000000
_UEP3bits                         00000000
_UEP4                             00000000
_UEP4bits                         00000000
_UEP5                             00000000
_UEP5bits                         00000000
_UEP6                             00000000
_UEP6bits                         00000000
_UEP7                             00000000
_UEP7bits                         00000000
_UEP8                             00000000
_UEP8bits                         00000000
_UEP9                             00000000
_UEP9bits                         00000000
_UFRMH                            00000000
_UFRMHbits                        00000000
_UFRML                            00000000
_UFRMLbits                        00000000
_UIE                              00000000
_UIEbits                          00000000
_UIR                              00000000
_UIRbits                          00000000
_USTAT                            00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 211


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_USTATbits                        00000000
_WDTCON                           00000000
_WDTCONbits                       00000000
_WREG                             00000000
__18F2550                         00000001
__divuint                         00000000
__divulong                        00000000
__gptrget1                        00000000
__gptrget2                        00000000
__gptrget3                        00000000
__gptrput1                        00000000
__gptrput3                        00000000
__modsint                         00000000
__moduint                         00000000
__mulint                          00000000
__mullong                         00000000
__str_0                           00000002
__str_1                           0000000A
__str_10                          000000A0
__str_11                          000000AA
__str_12                          000000B8
__str_13                          000000BE
__str_14                          000000E0
__str_15                          000000F2
__str_16                          000000FE
__str_17                          0000011A
__str_18                          00000132
__str_19                          00000144
__str_2                           00000020
__str_20                          00000014
__str_21                          0000001C
__str_22                          00000032
__str_3                           00000024
__str_4                           00000028
__str_5                           0000002C
__str_6                           00000030
__str_7                           00000034
__str_8                           00000058
__str_9                           0000007C
_currcapturemask                  00000000
_currmovemask                     00000000
_draw_move                        00000000
_epap_in                          00000000
_epap_out                         00000000
_epapin_init                      00000000
_epapout_init                     00000000
_getbestpiecemove                 00000000
_getbestpiecemove_to_1_1          00000000
_high_priority_isr                00002020
_init_board                       00000000
_lastmove                         00000000
_ligne                            00000000
_lit_coup_joueur                  00000000
_loop                             00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 212


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_loop_cpufrom_1_1                 00000000
_loop_cputo_1_1                   00000000
_loop_from_1_1                    00000000
_loop_to_1_1                      00000000
_low_priority_isr                 00004000
_movecount                        00000000
_movetype                         00000000
_opp_king_pos                     00000000
_piecerate                        00000000
_pinguino_main                    00000000
_pprint                           00000000
_pprint_scr_1_1                   00000000
_pprintchar                       00000000
_pprintf                          00000000
_pprinti                          00000000
_pprinti_print_buf_1_1            00000000
_pprints                          00000000
_pputchar                         00000000
_psprintf                         00000000
_psprintf_out_1_1                 00000000
_rate                             00000000
_rate_move                        00000000
_rpointer                         00000000
_rx                               00000000
_serial_available                 00000000
_serial_begin                     00000000
_serial_flush                     00000000
_serial_getkey                    00000000
_serial_getstring                 00000000
_serial_getstring_buffer_1_1      00000000
_serial_interrupt                 00000000
_serial_print                     00000000
_serial_printf                    00000000
_serial_println                   00000000
_serial_putchar                   00000000
_serial_read                      00000000
_setup                            00000000
_test_singlemove                  00000000
_test_singlemove_opp_pos_1_1      00000000
_trace_jeux                       00000000
_uitoa                            00000000
_updatekingpos                    00000000
_usb_active_alt_setting           00000000
_usb_active_cfg                   00000000
_usb_device_state                 00000000
_val_bishop                       00000000
_val_east                         00000000
_val_empty                        00000000
_val_king                         00000000
_val_knight                       00000000
_val_knight_move_1_1              00000000
_val_north                        00000000
_val_northeast                    00000000
_val_northwest                    00000000
gpasm-0.13.7 beta               /home/regis/Hobbies/Electronique/Projets/Pinguino/local/branches/x.2/source/main.asm5-29-2011  14:10:22          PAGE 213


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_val_pawn                         00000000
_val_queen                        00000000
_val_rook                         00000000
_val_south                        00000000
_val_southeast                    00000000
_val_southwest                    00000000
_val_west                         00000000
_validate                         00000000
_wpointer                         00000000
r0x00                             00000000
r0x01                             00000001
r0x02                             00000002
r0x03                             00000003
r0x04                             00000004
r0x05                             00000005
r0x06                             00000006
r0x07                             00000007
r0x08                             00000008
r0x09                             00000009
r0x0a                             0000000A
r0x0b                             0000000B
r0x0c                             0000000C
r0x0d                             0000000D
r0x0e                             0000000E
r0x0f                             0000000F
r0x10                             00000010
r0x11                             00000011
r0x12                             00000012
r0x13                             00000013
r0x14                             00000014
r0x15                             00000015
r0x16                             00000016
r0x17                             00000017
r0x18                             00000018
r0x19                             00000019
r0x1a                             0000001A
r0x1b                             0000001B
r0x1c                             0000001C
r0x1d                             0000001D
r0x1e                             0000001E


Errors   :     385
Warnings :       0 reported,       0 suppressed
Messages :       0 reported,       0 suppressed

